var BR=Object.defineProperty;var IR=(e,t,r)=>t in e?BR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Mr=(e,t,r)=>(IR(e,typeof t!="symbol"?t+"":t,r),r),Gy=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)};var Fe=(e,t,r)=>(Gy(e,t,"read from private field"),r?r.call(e):t.get(e)),jt=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},mn=(e,t,r,n)=>(Gy(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r);var _r=(e,t,r)=>(Gy(e,t,"access private method"),r);function RR(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var He=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function lb(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function TR(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){if(this instanceof n){var i=[null];i.push.apply(i,arguments);var a=Function.bind.apply(t,i);return new a}return t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var pl={},NR={get exports(){return pl},set exports(e){pl=e}},xp={},$e={},PR={get exports(){return $e},set exports(e){$e=e}},kt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zl=Symbol.for("react.element"),$R=Symbol.for("react.portal"),LR=Symbol.for("react.fragment"),OR=Symbol.for("react.strict_mode"),DR=Symbol.for("react.profiler"),UR=Symbol.for("react.provider"),jR=Symbol.for("react.context"),FR=Symbol.for("react.forward_ref"),zR=Symbol.for("react.suspense"),KR=Symbol.for("react.memo"),qR=Symbol.for("react.lazy"),m4=Symbol.iterator;function HR(e){return e===null||typeof e!="object"?null:(e=m4&&e[m4]||e["@@iterator"],typeof e=="function"?e:null)}var K_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},q_=Object.assign,H_={};function Mf(e,t,r){this.props=e,this.context=t,this.refs=H_,this.updater=r||K_}Mf.prototype.isReactComponent={};Mf.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Mf.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function W_(){}W_.prototype=Mf.prototype;function db(e,t,r){this.props=e,this.context=t,this.refs=H_,this.updater=r||K_}var hb=db.prototype=new W_;hb.constructor=db;q_(hb,Mf.prototype);hb.isPureReactComponent=!0;var g4=Array.isArray,V_=Object.prototype.hasOwnProperty,pb={current:null},Z_={key:!0,ref:!0,__self:!0,__source:!0};function G_(e,t,r){var n,i={},a=null,c=null;if(t!=null)for(n in t.ref!==void 0&&(c=t.ref),t.key!==void 0&&(a=""+t.key),t)V_.call(t,n)&&!Z_.hasOwnProperty(n)&&(i[n]=t[n]);var u=arguments.length-2;if(u===1)i.children=r;else if(1<u){for(var d=Array(u),p=0;p<u;p++)d[p]=arguments[p+2];i.children=d}if(e&&e.defaultProps)for(n in u=e.defaultProps,u)i[n]===void 0&&(i[n]=u[n]);return{$$typeof:Zl,type:e,key:a,ref:c,props:i,_owner:pb.current}}function WR(e,t){return{$$typeof:Zl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function yb(e){return typeof e=="object"&&e!==null&&e.$$typeof===Zl}function VR(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var b4=/\/+/g;function Jy(e,t){return typeof e=="object"&&e!==null&&e.key!=null?VR(""+e.key):t.toString(36)}function jh(e,t,r,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var c=!1;if(e===null)c=!0;else switch(a){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case Zl:case $R:c=!0}}if(c)return c=e,i=i(c),e=n===""?"."+Jy(c,0):n,g4(i)?(r="",e!=null&&(r=e.replace(b4,"$&/")+"/"),jh(i,t,r,"",function(p){return p})):i!=null&&(yb(i)&&(i=WR(i,r+(!i.key||c&&c.key===i.key?"":(""+i.key).replace(b4,"$&/")+"/")+e)),t.push(i)),1;if(c=0,n=n===""?".":n+":",g4(e))for(var u=0;u<e.length;u++){a=e[u];var d=n+Jy(a,u);c+=jh(a,t,r,d,i)}else if(d=HR(e),typeof d=="function")for(e=d.call(e),u=0;!(a=e.next()).done;)a=a.value,d=n+Jy(a,u++),c+=jh(a,t,r,d,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return c}function ph(e,t,r){if(e==null)return e;var n=[],i=0;return jh(e,n,"","",function(a){return t.call(r,a,i++)}),n}function ZR(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var pn={current:null},Fh={transition:null},GR={ReactCurrentDispatcher:pn,ReactCurrentBatchConfig:Fh,ReactCurrentOwner:pb};kt.Children={map:ph,forEach:function(e,t,r){ph(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return ph(e,function(){t++}),t},toArray:function(e){return ph(e,function(t){return t})||[]},only:function(e){if(!yb(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};kt.Component=Mf;kt.Fragment=LR;kt.Profiler=DR;kt.PureComponent=db;kt.StrictMode=OR;kt.Suspense=zR;kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=GR;kt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=q_({},e.props),i=e.key,a=e.ref,c=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,c=pb.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(d in t)V_.call(t,d)&&!Z_.hasOwnProperty(d)&&(n[d]=t[d]===void 0&&u!==void 0?u[d]:t[d])}var d=arguments.length-2;if(d===1)n.children=r;else if(1<d){u=Array(d);for(var p=0;p<d;p++)u[p]=arguments[p+2];n.children=u}return{$$typeof:Zl,type:e.type,key:i,ref:a,props:n,_owner:c}};kt.createContext=function(e){return e={$$typeof:jR,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:UR,_context:e},e.Consumer=e};kt.createElement=G_;kt.createFactory=function(e){var t=G_.bind(null,e);return t.type=e,t};kt.createRef=function(){return{current:null}};kt.forwardRef=function(e){return{$$typeof:FR,render:e}};kt.isValidElement=yb;kt.lazy=function(e){return{$$typeof:qR,_payload:{_status:-1,_result:e},_init:ZR}};kt.memo=function(e,t){return{$$typeof:KR,type:e,compare:t===void 0?null:t}};kt.startTransition=function(e){var t=Fh.transition;Fh.transition={};try{e()}finally{Fh.transition=t}};kt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};kt.useCallback=function(e,t){return pn.current.useCallback(e,t)};kt.useContext=function(e){return pn.current.useContext(e)};kt.useDebugValue=function(){};kt.useDeferredValue=function(e){return pn.current.useDeferredValue(e)};kt.useEffect=function(e,t){return pn.current.useEffect(e,t)};kt.useId=function(){return pn.current.useId()};kt.useImperativeHandle=function(e,t,r){return pn.current.useImperativeHandle(e,t,r)};kt.useInsertionEffect=function(e,t){return pn.current.useInsertionEffect(e,t)};kt.useLayoutEffect=function(e,t){return pn.current.useLayoutEffect(e,t)};kt.useMemo=function(e,t){return pn.current.useMemo(e,t)};kt.useReducer=function(e,t,r){return pn.current.useReducer(e,t,r)};kt.useRef=function(e){return pn.current.useRef(e)};kt.useState=function(e){return pn.current.useState(e)};kt.useSyncExternalStore=function(e,t,r){return pn.current.useSyncExternalStore(e,t,r)};kt.useTransition=function(){return pn.current.useTransition()};kt.version="18.2.0";(function(e){e.exports=kt})(PR);const J_=lb($e),_m=RR({__proto__:null,default:J_},[$e]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JR=$e,YR=Symbol.for("react.element"),XR=Symbol.for("react.fragment"),QR=Object.prototype.hasOwnProperty,eT=JR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,tT={key:!0,ref:!0,__self:!0,__source:!0};function Y_(e,t,r){var n,i={},a=null,c=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(c=t.ref);for(n in t)QR.call(t,n)&&!tT.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:YR,type:e,key:a,ref:c,props:i,_owner:eT.current}}xp.Fragment=XR;xp.jsx=Y_;xp.jsxs=Y_;(function(e){e.exports=xp})(NR);const w4=pl.Fragment,Le=pl.jsx,zr=pl.jsxs;var xm={},Sm={},rT={get exports(){return Sm},set exports(e){Sm=e}},On={},Em={},nT={get exports(){return Em},set exports(e){Em=e}},X_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,B){var b=T.length;T.push(B);e:for(;0<b;){var A=b-1>>>1,y=T[A];if(0<i(y,B))T[A]=B,T[b]=y,b=A;else break e}}function r(T){return T.length===0?null:T[0]}function n(T){if(T.length===0)return null;var B=T[0],b=T.pop();if(b!==B){T[0]=b;e:for(var A=0,y=T.length,I=y>>>1;A<I;){var Q=2*(A+1)-1,ue=T[Q],Z=Q+1,Y=T[Z];if(0>i(ue,b))Z<y&&0>i(Y,ue)?(T[A]=Y,T[Z]=b,A=Z):(T[A]=ue,T[Q]=b,A=Q);else if(Z<y&&0>i(Y,b))T[A]=Y,T[Z]=b,A=Z;else break e}}return B}function i(T,B){var b=T.sortIndex-B.sortIndex;return b!==0?b:T.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var c=Date,u=c.now();e.unstable_now=function(){return c.now()-u}}var d=[],p=[],m=1,x=null,k=3,S=!1,P=!1,j=!1,U=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function z(T){for(var B=r(p);B!==null;){if(B.callback===null)n(p);else if(B.startTime<=T)n(p),B.sortIndex=B.expirationTime,t(d,B);else break;B=r(p)}}function G(T){if(j=!1,z(T),!P)if(r(d)!==null)P=!0,M(J);else{var B=r(p);B!==null&&N(G,B.startTime-T)}}function J(T,B){P=!1,j&&(j=!1,O(re),re=-1),S=!0;var b=k;try{for(z(B),x=r(d);x!==null&&(!(x.expirationTime>B)||T&&!W());){var A=x.callback;if(typeof A=="function"){x.callback=null,k=x.priorityLevel;var y=A(x.expirationTime<=B);B=e.unstable_now(),typeof y=="function"?x.callback=y:x===r(d)&&n(d),z(B)}else n(d);x=r(d)}if(x!==null)var I=!0;else{var Q=r(p);Q!==null&&N(G,Q.startTime-B),I=!1}return I}finally{x=null,k=b,S=!1}}var ne=!1,ie=null,re=-1,ce=5,Se=-1;function W(){return!(e.unstable_now()-Se<ce)}function _(){if(ie!==null){var T=e.unstable_now();Se=T;var B=!0;try{B=ie(!0,T)}finally{B?w():(ne=!1,ie=null)}}else ne=!1}var w;if(typeof L=="function")w=function(){L(_)};else if(typeof MessageChannel<"u"){var h=new MessageChannel,g=h.port2;h.port1.onmessage=_,w=function(){g.postMessage(null)}}else w=function(){U(_,0)};function M(T){ie=T,ne||(ne=!0,w())}function N(T,B){re=U(function(){T(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){P||S||(P=!0,M(J))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ce=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return k},e.unstable_getFirstCallbackNode=function(){return r(d)},e.unstable_next=function(T){switch(k){case 1:case 2:case 3:var B=3;break;default:B=k}var b=k;k=B;try{return T()}finally{k=b}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,B){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var b=k;k=T;try{return B()}finally{k=b}},e.unstable_scheduleCallback=function(T,B,b){var A=e.unstable_now();switch(typeof b=="object"&&b!==null?(b=b.delay,b=typeof b=="number"&&0<b?A+b:A):b=A,T){case 1:var y=-1;break;case 2:y=250;break;case 5:y=1073741823;break;case 4:y=1e4;break;default:y=5e3}return y=b+y,T={id:m++,callback:B,priorityLevel:T,startTime:b,expirationTime:y,sortIndex:-1},b>A?(T.sortIndex=b,t(p,T),r(d)===null&&T===r(p)&&(j?(O(re),re=-1):j=!0,N(G,b-A))):(T.sortIndex=y,t(d,T),P||S||(P=!0,M(J))),T},e.unstable_shouldYield=W,e.unstable_wrapCallback=function(T){var B=k;return function(){var b=k;k=B;try{return T.apply(this,arguments)}finally{k=b}}}})(X_);(function(e){e.exports=X_})(nT);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q_=$e,$n=Em;function Ee(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ex=new Set,yl={};function qs(e,t){sf(e,t),sf(e+"Capture",t)}function sf(e,t){for(yl[e]=t,e=0;e<t.length;e++)ex.add(t[e])}var Wa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),km=Object.prototype.hasOwnProperty,iT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_4={},x4={};function aT(e){return km.call(x4,e)?!0:km.call(_4,e)?!1:iT.test(e)?x4[e]=!0:(_4[e]=!0,!1)}function oT(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function sT(e,t,r,n){if(t===null||typeof t>"u"||oT(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function yn(e,t,r,n,i,a,c){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=c}var qr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){qr[e]=new yn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];qr[t]=new yn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){qr[e]=new yn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){qr[e]=new yn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){qr[e]=new yn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){qr[e]=new yn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){qr[e]=new yn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){qr[e]=new yn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){qr[e]=new yn(e,5,!1,e.toLowerCase(),null,!1,!1)});var vb=/[\-:]([a-z])/g;function mb(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(vb,mb);qr[t]=new yn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(vb,mb);qr[t]=new yn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(vb,mb);qr[t]=new yn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){qr[e]=new yn(e,1,!1,e.toLowerCase(),null,!1,!1)});qr.xlinkHref=new yn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){qr[e]=new yn(e,1,!1,e.toLowerCase(),null,!0,!0)});function gb(e,t,r,n){var i=qr.hasOwnProperty(t)?qr[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(sT(t,r,i,n)&&(r=null),n||i===null?aT(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var to=Q_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,yh=Symbol.for("react.element"),Sc=Symbol.for("react.portal"),Ec=Symbol.for("react.fragment"),bb=Symbol.for("react.strict_mode"),Mm=Symbol.for("react.profiler"),tx=Symbol.for("react.provider"),rx=Symbol.for("react.context"),wb=Symbol.for("react.forward_ref"),Am=Symbol.for("react.suspense"),Cm=Symbol.for("react.suspense_list"),_b=Symbol.for("react.memo"),wo=Symbol.for("react.lazy"),nx=Symbol.for("react.offscreen"),S4=Symbol.iterator;function ku(e){return e===null||typeof e!="object"?null:(e=S4&&e[S4]||e["@@iterator"],typeof e=="function"?e:null)}var ur=Object.assign,Yy;function Hu(e){if(Yy===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Yy=t&&t[1]||""}return`
`+Yy+e}var Xy=!1;function Qy(e,t){if(!e||Xy)return"";Xy=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(p){var n=p}Reflect.construct(e,[],t)}else{try{t.call()}catch(p){n=p}e.call(t.prototype)}else{try{throw Error()}catch(p){n=p}e()}}catch(p){if(p&&n&&typeof p.stack=="string"){for(var i=p.stack.split(`
`),a=n.stack.split(`
`),c=i.length-1,u=a.length-1;1<=c&&0<=u&&i[c]!==a[u];)u--;for(;1<=c&&0<=u;c--,u--)if(i[c]!==a[u]){if(c!==1||u!==1)do if(c--,u--,0>u||i[c]!==a[u]){var d=`
`+i[c].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=c&&0<=u);break}}}finally{Xy=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Hu(e):""}function cT(e){switch(e.tag){case 5:return Hu(e.type);case 16:return Hu("Lazy");case 13:return Hu("Suspense");case 19:return Hu("SuspenseList");case 0:case 2:case 15:return e=Qy(e.type,!1),e;case 11:return e=Qy(e.type.render,!1),e;case 1:return e=Qy(e.type,!0),e;default:return""}}function Bm(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ec:return"Fragment";case Sc:return"Portal";case Mm:return"Profiler";case bb:return"StrictMode";case Am:return"Suspense";case Cm:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case rx:return(e.displayName||"Context")+".Consumer";case tx:return(e._context.displayName||"Context")+".Provider";case wb:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case _b:return t=e.displayName||null,t!==null?t:Bm(e.type)||"Memo";case wo:t=e._payload,e=e._init;try{return Bm(e(t))}catch{}}return null}function fT(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Bm(t);case 8:return t===bb?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Fo(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ix(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function uT(e){var t=ix(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(c){n=""+c,a.call(this,c)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(c){n=""+c},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function vh(e){e._valueTracker||(e._valueTracker=uT(e))}function ax(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=ix(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function y0(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Im(e,t){var r=t.checked;return ur({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function E4(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Fo(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ox(e,t){t=t.checked,t!=null&&gb(e,"checked",t,!1)}function Rm(e,t){ox(e,t);var r=Fo(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Tm(e,t.type,r):t.hasOwnProperty("defaultValue")&&Tm(e,t.type,Fo(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function k4(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Tm(e,t,r){(t!=="number"||y0(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Wu=Array.isArray;function jc(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Fo(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Nm(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ee(91));return ur({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function M4(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Ee(92));if(Wu(r)){if(1<r.length)throw Error(Ee(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Fo(r)}}function sx(e,t){var r=Fo(t.value),n=Fo(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function A4(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function cx(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Pm(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?cx(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var mh,fx=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(mh=mh||document.createElement("div"),mh.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=mh.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function vl(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Qu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},lT=["Webkit","ms","Moz","O"];Object.keys(Qu).forEach(function(e){lT.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Qu[t]=Qu[e]})});function ux(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Qu.hasOwnProperty(e)&&Qu[e]?(""+t).trim():t+"px"}function lx(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=ux(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var dT=ur({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $m(e,t){if(t){if(dT[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ee(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ee(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ee(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ee(62))}}function Lm(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Om=null;function xb(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Dm=null,Fc=null,zc=null;function C4(e){if(e=Yl(e)){if(typeof Dm!="function")throw Error(Ee(280));var t=e.stateNode;t&&(t=Ap(t),Dm(e.stateNode,e.type,t))}}function dx(e){Fc?zc?zc.push(e):zc=[e]:Fc=e}function hx(){if(Fc){var e=Fc,t=zc;if(zc=Fc=null,C4(e),t)for(e=0;e<t.length;e++)C4(t[e])}}function px(e,t){return e(t)}function yx(){}var ev=!1;function vx(e,t,r){if(ev)return e(t,r);ev=!0;try{return px(e,t,r)}finally{ev=!1,(Fc!==null||zc!==null)&&(yx(),hx())}}function ml(e,t){var r=e.stateNode;if(r===null)return null;var n=Ap(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Ee(231,t,typeof r));return r}var Um=!1;if(Wa)try{var Mu={};Object.defineProperty(Mu,"passive",{get:function(){Um=!0}}),window.addEventListener("test",Mu,Mu),window.removeEventListener("test",Mu,Mu)}catch{Um=!1}function hT(e,t,r,n,i,a,c,u,d){var p=Array.prototype.slice.call(arguments,3);try{t.apply(r,p)}catch(m){this.onError(m)}}var el=!1,v0=null,m0=!1,jm=null,pT={onError:function(e){el=!0,v0=e}};function yT(e,t,r,n,i,a,c,u,d){el=!1,v0=null,hT.apply(pT,arguments)}function vT(e,t,r,n,i,a,c,u,d){if(yT.apply(this,arguments),el){if(el){var p=v0;el=!1,v0=null}else throw Error(Ee(198));m0||(m0=!0,jm=p)}}function Hs(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function mx(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function B4(e){if(Hs(e)!==e)throw Error(Ee(188))}function mT(e){var t=e.alternate;if(!t){if(t=Hs(e),t===null)throw Error(Ee(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return B4(i),e;if(a===n)return B4(i),t;a=a.sibling}throw Error(Ee(188))}if(r.return!==n.return)r=i,n=a;else{for(var c=!1,u=i.child;u;){if(u===r){c=!0,r=i,n=a;break}if(u===n){c=!0,n=i,r=a;break}u=u.sibling}if(!c){for(u=a.child;u;){if(u===r){c=!0,r=a,n=i;break}if(u===n){c=!0,n=a,r=i;break}u=u.sibling}if(!c)throw Error(Ee(189))}}if(r.alternate!==n)throw Error(Ee(190))}if(r.tag!==3)throw Error(Ee(188));return r.stateNode.current===r?e:t}function gx(e){return e=mT(e),e!==null?bx(e):null}function bx(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=bx(e);if(t!==null)return t;e=e.sibling}return null}var wx=$n.unstable_scheduleCallback,I4=$n.unstable_cancelCallback,gT=$n.unstable_shouldYield,bT=$n.unstable_requestPaint,pr=$n.unstable_now,wT=$n.unstable_getCurrentPriorityLevel,Sb=$n.unstable_ImmediatePriority,_x=$n.unstable_UserBlockingPriority,g0=$n.unstable_NormalPriority,_T=$n.unstable_LowPriority,xx=$n.unstable_IdlePriority,Sp=null,sa=null;function xT(e){if(sa&&typeof sa.onCommitFiberRoot=="function")try{sa.onCommitFiberRoot(Sp,e,void 0,(e.current.flags&128)===128)}catch{}}var Ai=Math.clz32?Math.clz32:kT,ST=Math.log,ET=Math.LN2;function kT(e){return e>>>=0,e===0?32:31-(ST(e)/ET|0)|0}var gh=64,bh=4194304;function Vu(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function b0(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,c=r&268435455;if(c!==0){var u=c&~i;u!==0?n=Vu(u):(a&=c,a!==0&&(n=Vu(a)))}else c=r&~i,c!==0?n=Vu(c):a!==0&&(n=Vu(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Ai(t),i=1<<r,n|=e[r],t&=~i;return n}function MT(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function AT(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var c=31-Ai(a),u=1<<c,d=i[c];d===-1?(!(u&r)||u&n)&&(i[c]=MT(u,t)):d<=t&&(e.expiredLanes|=u),a&=~u}}function Fm(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Sx(){var e=gh;return gh<<=1,!(gh&4194240)&&(gh=64),e}function tv(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Gl(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ai(t),e[t]=r}function CT(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-Ai(r),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~a}}function Eb(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Ai(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var Ft=0;function Ex(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var kx,kb,Mx,Ax,Cx,zm=!1,wh=[],Ro=null,To=null,No=null,gl=new Map,bl=new Map,ko=[],BT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function R4(e,t){switch(e){case"focusin":case"focusout":Ro=null;break;case"dragenter":case"dragleave":To=null;break;case"mouseover":case"mouseout":No=null;break;case"pointerover":case"pointerout":gl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":bl.delete(t.pointerId)}}function Au(e,t,r,n,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=Yl(t),t!==null&&kb(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function IT(e,t,r,n,i){switch(t){case"focusin":return Ro=Au(Ro,e,t,r,n,i),!0;case"dragenter":return To=Au(To,e,t,r,n,i),!0;case"mouseover":return No=Au(No,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return gl.set(a,Au(gl.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,bl.set(a,Au(bl.get(a)||null,e,t,r,n,i)),!0}return!1}function Bx(e){var t=_s(e.target);if(t!==null){var r=Hs(t);if(r!==null){if(t=r.tag,t===13){if(t=mx(r),t!==null){e.blockedOn=t,Cx(e.priority,function(){Mx(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function zh(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Km(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Om=n,r.target.dispatchEvent(n),Om=null}else return t=Yl(r),t!==null&&kb(t),e.blockedOn=r,!1;t.shift()}return!0}function T4(e,t,r){zh(e)&&r.delete(t)}function RT(){zm=!1,Ro!==null&&zh(Ro)&&(Ro=null),To!==null&&zh(To)&&(To=null),No!==null&&zh(No)&&(No=null),gl.forEach(T4),bl.forEach(T4)}function Cu(e,t){e.blockedOn===t&&(e.blockedOn=null,zm||(zm=!0,$n.unstable_scheduleCallback($n.unstable_NormalPriority,RT)))}function wl(e){function t(i){return Cu(i,e)}if(0<wh.length){Cu(wh[0],e);for(var r=1;r<wh.length;r++){var n=wh[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Ro!==null&&Cu(Ro,e),To!==null&&Cu(To,e),No!==null&&Cu(No,e),gl.forEach(t),bl.forEach(t),r=0;r<ko.length;r++)n=ko[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<ko.length&&(r=ko[0],r.blockedOn===null);)Bx(r),r.blockedOn===null&&ko.shift()}var Kc=to.ReactCurrentBatchConfig,w0=!0;function TT(e,t,r,n){var i=Ft,a=Kc.transition;Kc.transition=null;try{Ft=1,Mb(e,t,r,n)}finally{Ft=i,Kc.transition=a}}function NT(e,t,r,n){var i=Ft,a=Kc.transition;Kc.transition=null;try{Ft=4,Mb(e,t,r,n)}finally{Ft=i,Kc.transition=a}}function Mb(e,t,r,n){if(w0){var i=Km(e,t,r,n);if(i===null)lv(e,t,n,_0,r),R4(e,n);else if(IT(i,e,t,r,n))n.stopPropagation();else if(R4(e,n),t&4&&-1<BT.indexOf(e)){for(;i!==null;){var a=Yl(i);if(a!==null&&kx(a),a=Km(e,t,r,n),a===null&&lv(e,t,n,_0,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else lv(e,t,n,null,r)}}var _0=null;function Km(e,t,r,n){if(_0=null,e=xb(n),e=_s(e),e!==null)if(t=Hs(e),t===null)e=null;else if(r=t.tag,r===13){if(e=mx(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return _0=e,null}function Ix(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(wT()){case Sb:return 1;case _x:return 4;case g0:case _T:return 16;case xx:return 536870912;default:return 16}default:return 16}}var Co=null,Ab=null,Kh=null;function Rx(){if(Kh)return Kh;var e,t=Ab,r=t.length,n,i="value"in Co?Co.value:Co.textContent,a=i.length;for(e=0;e<r&&t[e]===i[e];e++);var c=r-e;for(n=1;n<=c&&t[r-n]===i[a-n];n++);return Kh=i.slice(e,1<n?1-n:void 0)}function qh(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function _h(){return!0}function N4(){return!1}function Dn(e){function t(r,n,i,a,c){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=c,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(r=e[u],this[u]=r?r(a):a[u]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?_h:N4,this.isPropagationStopped=N4,this}return ur(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=_h)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=_h)},persist:function(){},isPersistent:_h}),t}var Af={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cb=Dn(Af),Jl=ur({},Af,{view:0,detail:0}),PT=Dn(Jl),rv,nv,Bu,Ep=ur({},Jl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bb,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Bu&&(Bu&&e.type==="mousemove"?(rv=e.screenX-Bu.screenX,nv=e.screenY-Bu.screenY):nv=rv=0,Bu=e),rv)},movementY:function(e){return"movementY"in e?e.movementY:nv}}),P4=Dn(Ep),$T=ur({},Ep,{dataTransfer:0}),LT=Dn($T),OT=ur({},Jl,{relatedTarget:0}),iv=Dn(OT),DT=ur({},Af,{animationName:0,elapsedTime:0,pseudoElement:0}),UT=Dn(DT),jT=ur({},Af,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),FT=Dn(jT),zT=ur({},Af,{data:0}),$4=Dn(zT),KT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},HT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function WT(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=HT[e])?!!t[e]:!1}function Bb(){return WT}var VT=ur({},Jl,{key:function(e){if(e.key){var t=KT[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=qh(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?qT[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bb,charCode:function(e){return e.type==="keypress"?qh(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?qh(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ZT=Dn(VT),GT=ur({},Ep,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),L4=Dn(GT),JT=ur({},Jl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bb}),YT=Dn(JT),XT=ur({},Af,{propertyName:0,elapsedTime:0,pseudoElement:0}),QT=Dn(XT),eN=ur({},Ep,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),tN=Dn(eN),rN=[9,13,27,32],Ib=Wa&&"CompositionEvent"in window,tl=null;Wa&&"documentMode"in document&&(tl=document.documentMode);var nN=Wa&&"TextEvent"in window&&!tl,Tx=Wa&&(!Ib||tl&&8<tl&&11>=tl),O4=String.fromCharCode(32),D4=!1;function Nx(e,t){switch(e){case"keyup":return rN.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Px(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var kc=!1;function iN(e,t){switch(e){case"compositionend":return Px(t);case"keypress":return t.which!==32?null:(D4=!0,O4);case"textInput":return e=t.data,e===O4&&D4?null:e;default:return null}}function aN(e,t){if(kc)return e==="compositionend"||!Ib&&Nx(e,t)?(e=Rx(),Kh=Ab=Co=null,kc=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Tx&&t.locale!=="ko"?null:t.data;default:return null}}var oN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function U4(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!oN[e.type]:t==="textarea"}function $x(e,t,r,n){dx(n),t=x0(t,"onChange"),0<t.length&&(r=new Cb("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var rl=null,_l=null;function sN(e){Wx(e,0)}function kp(e){var t=Cc(e);if(ax(t))return e}function cN(e,t){if(e==="change")return t}var Lx=!1;if(Wa){var av;if(Wa){var ov="oninput"in document;if(!ov){var j4=document.createElement("div");j4.setAttribute("oninput","return;"),ov=typeof j4.oninput=="function"}av=ov}else av=!1;Lx=av&&(!document.documentMode||9<document.documentMode)}function F4(){rl&&(rl.detachEvent("onpropertychange",Ox),_l=rl=null)}function Ox(e){if(e.propertyName==="value"&&kp(_l)){var t=[];$x(t,_l,e,xb(e)),vx(sN,t)}}function fN(e,t,r){e==="focusin"?(F4(),rl=t,_l=r,rl.attachEvent("onpropertychange",Ox)):e==="focusout"&&F4()}function uN(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return kp(_l)}function lN(e,t){if(e==="click")return kp(t)}function dN(e,t){if(e==="input"||e==="change")return kp(t)}function hN(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Bi=typeof Object.is=="function"?Object.is:hN;function xl(e,t){if(Bi(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!km.call(t,i)||!Bi(e[i],t[i]))return!1}return!0}function z4(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function K4(e,t){var r=z4(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=z4(r)}}function Dx(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Dx(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ux(){for(var e=window,t=y0();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=y0(e.document)}return t}function Rb(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function pN(e){var t=Ux(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Dx(r.ownerDocument.documentElement,r)){if(n!==null&&Rb(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=K4(r,a);var c=K4(r,n);i&&c&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==c.node||e.focusOffset!==c.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(c.node,c.offset)):(t.setEnd(c.node,c.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var yN=Wa&&"documentMode"in document&&11>=document.documentMode,Mc=null,qm=null,nl=null,Hm=!1;function q4(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Hm||Mc==null||Mc!==y0(n)||(n=Mc,"selectionStart"in n&&Rb(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),nl&&xl(nl,n)||(nl=n,n=x0(qm,"onSelect"),0<n.length&&(t=new Cb("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Mc)))}function xh(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ac={animationend:xh("Animation","AnimationEnd"),animationiteration:xh("Animation","AnimationIteration"),animationstart:xh("Animation","AnimationStart"),transitionend:xh("Transition","TransitionEnd")},sv={},jx={};Wa&&(jx=document.createElement("div").style,"AnimationEvent"in window||(delete Ac.animationend.animation,delete Ac.animationiteration.animation,delete Ac.animationstart.animation),"TransitionEvent"in window||delete Ac.transitionend.transition);function Mp(e){if(sv[e])return sv[e];if(!Ac[e])return e;var t=Ac[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in jx)return sv[e]=t[r];return e}var Fx=Mp("animationend"),zx=Mp("animationiteration"),Kx=Mp("animationstart"),qx=Mp("transitionend"),Hx=new Map,H4="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vo(e,t){Hx.set(e,t),qs(t,[e])}for(var cv=0;cv<H4.length;cv++){var fv=H4[cv],vN=fv.toLowerCase(),mN=fv[0].toUpperCase()+fv.slice(1);Vo(vN,"on"+mN)}Vo(Fx,"onAnimationEnd");Vo(zx,"onAnimationIteration");Vo(Kx,"onAnimationStart");Vo("dblclick","onDoubleClick");Vo("focusin","onFocus");Vo("focusout","onBlur");Vo(qx,"onTransitionEnd");sf("onMouseEnter",["mouseout","mouseover"]);sf("onMouseLeave",["mouseout","mouseover"]);sf("onPointerEnter",["pointerout","pointerover"]);sf("onPointerLeave",["pointerout","pointerover"]);qs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));qs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));qs("onBeforeInput",["compositionend","keypress","textInput","paste"]);qs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));qs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));qs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gN=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zu));function W4(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,vT(n,t,void 0,e),e.currentTarget=null}function Wx(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var c=n.length-1;0<=c;c--){var u=n[c],d=u.instance,p=u.currentTarget;if(u=u.listener,d!==a&&i.isPropagationStopped())break e;W4(i,u,p),a=d}else for(c=0;c<n.length;c++){if(u=n[c],d=u.instance,p=u.currentTarget,u=u.listener,d!==a&&i.isPropagationStopped())break e;W4(i,u,p),a=d}}}if(m0)throw e=jm,m0=!1,jm=null,e}function nr(e,t){var r=t[Jm];r===void 0&&(r=t[Jm]=new Set);var n=e+"__bubble";r.has(n)||(Vx(t,e,2,!1),r.add(n))}function uv(e,t,r){var n=0;t&&(n|=4),Vx(r,e,n,t)}var Sh="_reactListening"+Math.random().toString(36).slice(2);function Sl(e){if(!e[Sh]){e[Sh]=!0,ex.forEach(function(r){r!=="selectionchange"&&(gN.has(r)||uv(r,!1,e),uv(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Sh]||(t[Sh]=!0,uv("selectionchange",!1,t))}}function Vx(e,t,r,n){switch(Ix(t)){case 1:var i=TT;break;case 4:i=NT;break;default:i=Mb}r=i.bind(null,t,r,e),i=void 0,!Um||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function lv(e,t,r,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var c=n.tag;if(c===3||c===4){var u=n.stateNode.containerInfo;if(u===i||u.nodeType===8&&u.parentNode===i)break;if(c===4)for(c=n.return;c!==null;){var d=c.tag;if((d===3||d===4)&&(d=c.stateNode.containerInfo,d===i||d.nodeType===8&&d.parentNode===i))return;c=c.return}for(;u!==null;){if(c=_s(u),c===null)return;if(d=c.tag,d===5||d===6){n=a=c;continue e}u=u.parentNode}}n=n.return}vx(function(){var p=a,m=xb(r),x=[];e:{var k=Hx.get(e);if(k!==void 0){var S=Cb,P=e;switch(e){case"keypress":if(qh(r)===0)break e;case"keydown":case"keyup":S=ZT;break;case"focusin":P="focus",S=iv;break;case"focusout":P="blur",S=iv;break;case"beforeblur":case"afterblur":S=iv;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":S=P4;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":S=LT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":S=YT;break;case Fx:case zx:case Kx:S=UT;break;case qx:S=QT;break;case"scroll":S=PT;break;case"wheel":S=tN;break;case"copy":case"cut":case"paste":S=FT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":S=L4}var j=(t&4)!==0,U=!j&&e==="scroll",O=j?k!==null?k+"Capture":null:k;j=[];for(var L=p,z;L!==null;){z=L;var G=z.stateNode;if(z.tag===5&&G!==null&&(z=G,O!==null&&(G=ml(L,O),G!=null&&j.push(El(L,G,z)))),U)break;L=L.return}0<j.length&&(k=new S(k,P,null,r,m),x.push({event:k,listeners:j}))}}if(!(t&7)){e:{if(k=e==="mouseover"||e==="pointerover",S=e==="mouseout"||e==="pointerout",k&&r!==Om&&(P=r.relatedTarget||r.fromElement)&&(_s(P)||P[Va]))break e;if((S||k)&&(k=m.window===m?m:(k=m.ownerDocument)?k.defaultView||k.parentWindow:window,S?(P=r.relatedTarget||r.toElement,S=p,P=P?_s(P):null,P!==null&&(U=Hs(P),P!==U||P.tag!==5&&P.tag!==6)&&(P=null)):(S=null,P=p),S!==P)){if(j=P4,G="onMouseLeave",O="onMouseEnter",L="mouse",(e==="pointerout"||e==="pointerover")&&(j=L4,G="onPointerLeave",O="onPointerEnter",L="pointer"),U=S==null?k:Cc(S),z=P==null?k:Cc(P),k=new j(G,L+"leave",S,r,m),k.target=U,k.relatedTarget=z,G=null,_s(m)===p&&(j=new j(O,L+"enter",P,r,m),j.target=z,j.relatedTarget=U,G=j),U=G,S&&P)t:{for(j=S,O=P,L=0,z=j;z;z=yc(z))L++;for(z=0,G=O;G;G=yc(G))z++;for(;0<L-z;)j=yc(j),L--;for(;0<z-L;)O=yc(O),z--;for(;L--;){if(j===O||O!==null&&j===O.alternate)break t;j=yc(j),O=yc(O)}j=null}else j=null;S!==null&&V4(x,k,S,j,!1),P!==null&&U!==null&&V4(x,U,P,j,!0)}}e:{if(k=p?Cc(p):window,S=k.nodeName&&k.nodeName.toLowerCase(),S==="select"||S==="input"&&k.type==="file")var J=cN;else if(U4(k))if(Lx)J=dN;else{J=uN;var ne=fN}else(S=k.nodeName)&&S.toLowerCase()==="input"&&(k.type==="checkbox"||k.type==="radio")&&(J=lN);if(J&&(J=J(e,p))){$x(x,J,r,m);break e}ne&&ne(e,k,p),e==="focusout"&&(ne=k._wrapperState)&&ne.controlled&&k.type==="number"&&Tm(k,"number",k.value)}switch(ne=p?Cc(p):window,e){case"focusin":(U4(ne)||ne.contentEditable==="true")&&(Mc=ne,qm=p,nl=null);break;case"focusout":nl=qm=Mc=null;break;case"mousedown":Hm=!0;break;case"contextmenu":case"mouseup":case"dragend":Hm=!1,q4(x,r,m);break;case"selectionchange":if(yN)break;case"keydown":case"keyup":q4(x,r,m)}var ie;if(Ib)e:{switch(e){case"compositionstart":var re="onCompositionStart";break e;case"compositionend":re="onCompositionEnd";break e;case"compositionupdate":re="onCompositionUpdate";break e}re=void 0}else kc?Nx(e,r)&&(re="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(re="onCompositionStart");re&&(Tx&&r.locale!=="ko"&&(kc||re!=="onCompositionStart"?re==="onCompositionEnd"&&kc&&(ie=Rx()):(Co=m,Ab="value"in Co?Co.value:Co.textContent,kc=!0)),ne=x0(p,re),0<ne.length&&(re=new $4(re,e,null,r,m),x.push({event:re,listeners:ne}),ie?re.data=ie:(ie=Px(r),ie!==null&&(re.data=ie)))),(ie=nN?iN(e,r):aN(e,r))&&(p=x0(p,"onBeforeInput"),0<p.length&&(m=new $4("onBeforeInput","beforeinput",null,r,m),x.push({event:m,listeners:p}),m.data=ie))}Wx(x,t)})}function El(e,t,r){return{instance:e,listener:t,currentTarget:r}}function x0(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=ml(e,r),a!=null&&n.unshift(El(e,a,i)),a=ml(e,t),a!=null&&n.push(El(e,a,i))),e=e.return}return n}function yc(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function V4(e,t,r,n,i){for(var a=t._reactName,c=[];r!==null&&r!==n;){var u=r,d=u.alternate,p=u.stateNode;if(d!==null&&d===n)break;u.tag===5&&p!==null&&(u=p,i?(d=ml(r,a),d!=null&&c.unshift(El(r,d,u))):i||(d=ml(r,a),d!=null&&c.push(El(r,d,u)))),r=r.return}c.length!==0&&e.push({event:t,listeners:c})}var bN=/\r\n?/g,wN=/\u0000|\uFFFD/g;function Z4(e){return(typeof e=="string"?e:""+e).replace(bN,`
`).replace(wN,"")}function Eh(e,t,r){if(t=Z4(t),Z4(e)!==t&&r)throw Error(Ee(425))}function S0(){}var Wm=null,Vm=null;function Zm(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Gm=typeof setTimeout=="function"?setTimeout:void 0,_N=typeof clearTimeout=="function"?clearTimeout:void 0,G4=typeof Promise=="function"?Promise:void 0,xN=typeof queueMicrotask=="function"?queueMicrotask:typeof G4<"u"?function(e){return G4.resolve(null).then(e).catch(SN)}:Gm;function SN(e){setTimeout(function(){throw e})}function dv(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),wl(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);wl(t)}function Po(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function J4(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Cf=Math.random().toString(36).slice(2),ta="__reactFiber$"+Cf,kl="__reactProps$"+Cf,Va="__reactContainer$"+Cf,Jm="__reactEvents$"+Cf,EN="__reactListeners$"+Cf,kN="__reactHandles$"+Cf;function _s(e){var t=e[ta];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Va]||r[ta]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=J4(e);e!==null;){if(r=e[ta])return r;e=J4(e)}return t}e=r,r=e.parentNode}return null}function Yl(e){return e=e[ta]||e[Va],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Cc(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ee(33))}function Ap(e){return e[kl]||null}var Ym=[],Bc=-1;function Zo(e){return{current:e}}function ir(e){0>Bc||(e.current=Ym[Bc],Ym[Bc]=null,Bc--)}function er(e,t){Bc++,Ym[Bc]=e.current,e.current=t}var zo={},sn=Zo(zo),Sn=Zo(!1),Ns=zo;function cf(e,t){var r=e.type.contextTypes;if(!r)return zo;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function En(e){return e=e.childContextTypes,e!=null}function E0(){ir(Sn),ir(sn)}function Y4(e,t,r){if(sn.current!==zo)throw Error(Ee(168));er(sn,t),er(Sn,r)}function Zx(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(Ee(108,fT(e)||"Unknown",i));return ur({},r,n)}function k0(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||zo,Ns=sn.current,er(sn,e),er(Sn,Sn.current),!0}function X4(e,t,r){var n=e.stateNode;if(!n)throw Error(Ee(169));r?(e=Zx(e,t,Ns),n.__reactInternalMemoizedMergedChildContext=e,ir(Sn),ir(sn),er(sn,e)):ir(Sn),er(Sn,r)}var Oa=null,Cp=!1,hv=!1;function Gx(e){Oa===null?Oa=[e]:Oa.push(e)}function MN(e){Cp=!0,Gx(e)}function Go(){if(!hv&&Oa!==null){hv=!0;var e=0,t=Ft;try{var r=Oa;for(Ft=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Oa=null,Cp=!1}catch(i){throw Oa!==null&&(Oa=Oa.slice(e+1)),wx(Sb,Go),i}finally{Ft=t,hv=!1}}return null}var Ic=[],Rc=0,M0=null,A0=0,Gn=[],Jn=0,Ps=null,Ua=1,ja="";function ms(e,t){Ic[Rc++]=A0,Ic[Rc++]=M0,M0=e,A0=t}function Jx(e,t,r){Gn[Jn++]=Ua,Gn[Jn++]=ja,Gn[Jn++]=Ps,Ps=e;var n=Ua;e=ja;var i=32-Ai(n)-1;n&=~(1<<i),r+=1;var a=32-Ai(t)+i;if(30<a){var c=i-i%5;a=(n&(1<<c)-1).toString(32),n>>=c,i-=c,Ua=1<<32-Ai(t)+i|r<<i|n,ja=a+e}else Ua=1<<a|r<<i|n,ja=e}function Tb(e){e.return!==null&&(ms(e,1),Jx(e,1,0))}function Nb(e){for(;e===M0;)M0=Ic[--Rc],Ic[Rc]=null,A0=Ic[--Rc],Ic[Rc]=null;for(;e===Ps;)Ps=Gn[--Jn],Gn[Jn]=null,ja=Gn[--Jn],Gn[Jn]=null,Ua=Gn[--Jn],Gn[Jn]=null}var Pn=null,Nn=null,sr=!1,Si=null;function Yx(e,t){var r=Qn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Q4(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Pn=e,Nn=Po(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Pn=e,Nn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Ps!==null?{id:Ua,overflow:ja}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Qn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Pn=e,Nn=null,!0):!1;default:return!1}}function Xm(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Qm(e){if(sr){var t=Nn;if(t){var r=t;if(!Q4(e,t)){if(Xm(e))throw Error(Ee(418));t=Po(r.nextSibling);var n=Pn;t&&Q4(e,t)?Yx(n,r):(e.flags=e.flags&-4097|2,sr=!1,Pn=e)}}else{if(Xm(e))throw Error(Ee(418));e.flags=e.flags&-4097|2,sr=!1,Pn=e}}}function e8(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Pn=e}function kh(e){if(e!==Pn)return!1;if(!sr)return e8(e),sr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Zm(e.type,e.memoizedProps)),t&&(t=Nn)){if(Xm(e))throw Xx(),Error(Ee(418));for(;t;)Yx(e,t),t=Po(t.nextSibling)}if(e8(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ee(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Nn=Po(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Nn=null}}else Nn=Pn?Po(e.stateNode.nextSibling):null;return!0}function Xx(){for(var e=Nn;e;)e=Po(e.nextSibling)}function ff(){Nn=Pn=null,sr=!1}function Pb(e){Si===null?Si=[e]:Si.push(e)}var AN=to.ReactCurrentBatchConfig;function _i(e,t){if(e&&e.defaultProps){t=ur({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}var C0=Zo(null),B0=null,Tc=null,$b=null;function Lb(){$b=Tc=B0=null}function Ob(e){var t=C0.current;ir(C0),e._currentValue=t}function eg(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function qc(e,t){B0=e,$b=Tc=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(xn=!0),e.firstContext=null)}function ti(e){var t=e._currentValue;if($b!==e)if(e={context:e,memoizedValue:t,next:null},Tc===null){if(B0===null)throw Error(Ee(308));Tc=e,B0.dependencies={lanes:0,firstContext:e}}else Tc=Tc.next=e;return t}var xs=null;function Db(e){xs===null?xs=[e]:xs.push(e)}function Qx(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,Db(t)):(r.next=i.next,i.next=r),t.interleaved=r,Za(e,n)}function Za(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var _o=!1;function Ub(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function e9(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ka(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function $o(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Tt&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Za(e,r)}return i=n.interleaved,i===null?(t.next=t,Db(n)):(t.next=i.next,i.next=t),n.interleaved=t,Za(e,r)}function Hh(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Eb(e,r)}}function t8(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var c={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=c:a=a.next=c,r=r.next}while(r!==null);a===null?i=a=t:a=a.next=t}else i=a=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function I0(e,t,r,n){var i=e.updateQueue;_o=!1;var a=i.firstBaseUpdate,c=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var d=u,p=d.next;d.next=null,c===null?a=p:c.next=p,c=d;var m=e.alternate;m!==null&&(m=m.updateQueue,u=m.lastBaseUpdate,u!==c&&(u===null?m.firstBaseUpdate=p:u.next=p,m.lastBaseUpdate=d))}if(a!==null){var x=i.baseState;c=0,m=p=d=null,u=a;do{var k=u.lane,S=u.eventTime;if((n&k)===k){m!==null&&(m=m.next={eventTime:S,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var P=e,j=u;switch(k=t,S=r,j.tag){case 1:if(P=j.payload,typeof P=="function"){x=P.call(S,x,k);break e}x=P;break e;case 3:P.flags=P.flags&-65537|128;case 0:if(P=j.payload,k=typeof P=="function"?P.call(S,x,k):P,k==null)break e;x=ur({},x,k);break e;case 2:_o=!0}}u.callback!==null&&u.lane!==0&&(e.flags|=64,k=i.effects,k===null?i.effects=[u]:k.push(u))}else S={eventTime:S,lane:k,tag:u.tag,payload:u.payload,callback:u.callback,next:null},m===null?(p=m=S,d=x):m=m.next=S,c|=k;if(u=u.next,u===null){if(u=i.shared.pending,u===null)break;k=u,u=k.next,k.next=null,i.lastBaseUpdate=k,i.shared.pending=null}}while(1);if(m===null&&(d=x),i.baseState=d,i.firstBaseUpdate=p,i.lastBaseUpdate=m,t=i.shared.interleaved,t!==null){i=t;do c|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);Ls|=c,e.lanes=c,e.memoizedState=x}}function r8(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Ee(191,i));i.call(n)}}}var t9=new Q_.Component().refs;function tg(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ur({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Bp={isMounted:function(e){return(e=e._reactInternals)?Hs(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=dn(),i=Oo(e),a=Ka(n,i);a.payload=t,r!=null&&(a.callback=r),t=$o(e,a,i),t!==null&&(Ci(t,e,i,n),Hh(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=dn(),i=Oo(e),a=Ka(n,i);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=$o(e,a,i),t!==null&&(Ci(t,e,i,n),Hh(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=dn(),n=Oo(e),i=Ka(r,n);i.tag=2,t!=null&&(i.callback=t),t=$o(e,i,n),t!==null&&(Ci(t,e,n,r),Hh(t,e,n))}};function n8(e,t,r,n,i,a,c){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,c):t.prototype&&t.prototype.isPureReactComponent?!xl(r,n)||!xl(i,a):!0}function r9(e,t,r){var n=!1,i=zo,a=t.contextType;return typeof a=="object"&&a!==null?a=ti(a):(i=En(t)?Ns:sn.current,n=t.contextTypes,a=(n=n!=null)?cf(e,i):zo),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Bp,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function i8(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Bp.enqueueReplaceState(t,t.state,null)}function rg(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs=t9,Ub(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=ti(a):(a=En(t)?Ns:sn.current,i.context=cf(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(tg(e,t,a,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Bp.enqueueReplaceState(i,i.state,null),I0(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Iu(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Ee(309));var n=r.stateNode}if(!n)throw Error(Ee(147,e));var i=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(c){var u=i.refs;u===t9&&(u=i.refs={}),c===null?delete u[a]:u[a]=c},t._stringRef=a,t)}if(typeof e!="string")throw Error(Ee(284));if(!r._owner)throw Error(Ee(290,e))}return e}function Mh(e,t){throw e=Object.prototype.toString.call(t),Error(Ee(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function a8(e){var t=e._init;return t(e._payload)}function n9(e){function t(O,L){if(e){var z=O.deletions;z===null?(O.deletions=[L],O.flags|=16):z.push(L)}}function r(O,L){if(!e)return null;for(;L!==null;)t(O,L),L=L.sibling;return null}function n(O,L){for(O=new Map;L!==null;)L.key!==null?O.set(L.key,L):O.set(L.index,L),L=L.sibling;return O}function i(O,L){return O=Do(O,L),O.index=0,O.sibling=null,O}function a(O,L,z){return O.index=z,e?(z=O.alternate,z!==null?(z=z.index,z<L?(O.flags|=2,L):z):(O.flags|=2,L)):(O.flags|=1048576,L)}function c(O){return e&&O.alternate===null&&(O.flags|=2),O}function u(O,L,z,G){return L===null||L.tag!==6?(L=wv(z,O.mode,G),L.return=O,L):(L=i(L,z),L.return=O,L)}function d(O,L,z,G){var J=z.type;return J===Ec?m(O,L,z.props.children,G,z.key):L!==null&&(L.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===wo&&a8(J)===L.type)?(G=i(L,z.props),G.ref=Iu(O,L,z),G.return=O,G):(G=Yh(z.type,z.key,z.props,null,O.mode,G),G.ref=Iu(O,L,z),G.return=O,G)}function p(O,L,z,G){return L===null||L.tag!==4||L.stateNode.containerInfo!==z.containerInfo||L.stateNode.implementation!==z.implementation?(L=_v(z,O.mode,G),L.return=O,L):(L=i(L,z.children||[]),L.return=O,L)}function m(O,L,z,G,J){return L===null||L.tag!==7?(L=Bs(z,O.mode,G,J),L.return=O,L):(L=i(L,z),L.return=O,L)}function x(O,L,z){if(typeof L=="string"&&L!==""||typeof L=="number")return L=wv(""+L,O.mode,z),L.return=O,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case yh:return z=Yh(L.type,L.key,L.props,null,O.mode,z),z.ref=Iu(O,null,L),z.return=O,z;case Sc:return L=_v(L,O.mode,z),L.return=O,L;case wo:var G=L._init;return x(O,G(L._payload),z)}if(Wu(L)||ku(L))return L=Bs(L,O.mode,z,null),L.return=O,L;Mh(O,L)}return null}function k(O,L,z,G){var J=L!==null?L.key:null;if(typeof z=="string"&&z!==""||typeof z=="number")return J!==null?null:u(O,L,""+z,G);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case yh:return z.key===J?d(O,L,z,G):null;case Sc:return z.key===J?p(O,L,z,G):null;case wo:return J=z._init,k(O,L,J(z._payload),G)}if(Wu(z)||ku(z))return J!==null?null:m(O,L,z,G,null);Mh(O,z)}return null}function S(O,L,z,G,J){if(typeof G=="string"&&G!==""||typeof G=="number")return O=O.get(z)||null,u(L,O,""+G,J);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case yh:return O=O.get(G.key===null?z:G.key)||null,d(L,O,G,J);case Sc:return O=O.get(G.key===null?z:G.key)||null,p(L,O,G,J);case wo:var ne=G._init;return S(O,L,z,ne(G._payload),J)}if(Wu(G)||ku(G))return O=O.get(z)||null,m(L,O,G,J,null);Mh(L,G)}return null}function P(O,L,z,G){for(var J=null,ne=null,ie=L,re=L=0,ce=null;ie!==null&&re<z.length;re++){ie.index>re?(ce=ie,ie=null):ce=ie.sibling;var Se=k(O,ie,z[re],G);if(Se===null){ie===null&&(ie=ce);break}e&&ie&&Se.alternate===null&&t(O,ie),L=a(Se,L,re),ne===null?J=Se:ne.sibling=Se,ne=Se,ie=ce}if(re===z.length)return r(O,ie),sr&&ms(O,re),J;if(ie===null){for(;re<z.length;re++)ie=x(O,z[re],G),ie!==null&&(L=a(ie,L,re),ne===null?J=ie:ne.sibling=ie,ne=ie);return sr&&ms(O,re),J}for(ie=n(O,ie);re<z.length;re++)ce=S(ie,O,re,z[re],G),ce!==null&&(e&&ce.alternate!==null&&ie.delete(ce.key===null?re:ce.key),L=a(ce,L,re),ne===null?J=ce:ne.sibling=ce,ne=ce);return e&&ie.forEach(function(W){return t(O,W)}),sr&&ms(O,re),J}function j(O,L,z,G){var J=ku(z);if(typeof J!="function")throw Error(Ee(150));if(z=J.call(z),z==null)throw Error(Ee(151));for(var ne=J=null,ie=L,re=L=0,ce=null,Se=z.next();ie!==null&&!Se.done;re++,Se=z.next()){ie.index>re?(ce=ie,ie=null):ce=ie.sibling;var W=k(O,ie,Se.value,G);if(W===null){ie===null&&(ie=ce);break}e&&ie&&W.alternate===null&&t(O,ie),L=a(W,L,re),ne===null?J=W:ne.sibling=W,ne=W,ie=ce}if(Se.done)return r(O,ie),sr&&ms(O,re),J;if(ie===null){for(;!Se.done;re++,Se=z.next())Se=x(O,Se.value,G),Se!==null&&(L=a(Se,L,re),ne===null?J=Se:ne.sibling=Se,ne=Se);return sr&&ms(O,re),J}for(ie=n(O,ie);!Se.done;re++,Se=z.next())Se=S(ie,O,re,Se.value,G),Se!==null&&(e&&Se.alternate!==null&&ie.delete(Se.key===null?re:Se.key),L=a(Se,L,re),ne===null?J=Se:ne.sibling=Se,ne=Se);return e&&ie.forEach(function(_){return t(O,_)}),sr&&ms(O,re),J}function U(O,L,z,G){if(typeof z=="object"&&z!==null&&z.type===Ec&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case yh:e:{for(var J=z.key,ne=L;ne!==null;){if(ne.key===J){if(J=z.type,J===Ec){if(ne.tag===7){r(O,ne.sibling),L=i(ne,z.props.children),L.return=O,O=L;break e}}else if(ne.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===wo&&a8(J)===ne.type){r(O,ne.sibling),L=i(ne,z.props),L.ref=Iu(O,ne,z),L.return=O,O=L;break e}r(O,ne);break}else t(O,ne);ne=ne.sibling}z.type===Ec?(L=Bs(z.props.children,O.mode,G,z.key),L.return=O,O=L):(G=Yh(z.type,z.key,z.props,null,O.mode,G),G.ref=Iu(O,L,z),G.return=O,O=G)}return c(O);case Sc:e:{for(ne=z.key;L!==null;){if(L.key===ne)if(L.tag===4&&L.stateNode.containerInfo===z.containerInfo&&L.stateNode.implementation===z.implementation){r(O,L.sibling),L=i(L,z.children||[]),L.return=O,O=L;break e}else{r(O,L);break}else t(O,L);L=L.sibling}L=_v(z,O.mode,G),L.return=O,O=L}return c(O);case wo:return ne=z._init,U(O,L,ne(z._payload),G)}if(Wu(z))return P(O,L,z,G);if(ku(z))return j(O,L,z,G);Mh(O,z)}return typeof z=="string"&&z!==""||typeof z=="number"?(z=""+z,L!==null&&L.tag===6?(r(O,L.sibling),L=i(L,z),L.return=O,O=L):(r(O,L),L=wv(z,O.mode,G),L.return=O,O=L),c(O)):r(O,L)}return U}var uf=n9(!0),i9=n9(!1),Xl={},ca=Zo(Xl),Ml=Zo(Xl),Al=Zo(Xl);function Ss(e){if(e===Xl)throw Error(Ee(174));return e}function jb(e,t){switch(er(Al,t),er(Ml,e),er(ca,Xl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Pm(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Pm(t,e)}ir(ca),er(ca,t)}function lf(){ir(ca),ir(Ml),ir(Al)}function a9(e){Ss(Al.current);var t=Ss(ca.current),r=Pm(t,e.type);t!==r&&(er(Ml,e),er(ca,r))}function Fb(e){Ml.current===e&&(ir(ca),ir(Ml))}var cr=Zo(0);function R0(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var pv=[];function zb(){for(var e=0;e<pv.length;e++)pv[e]._workInProgressVersionPrimary=null;pv.length=0}var Wh=to.ReactCurrentDispatcher,yv=to.ReactCurrentBatchConfig,$s=0,fr=null,xr=null,Cr=null,T0=!1,il=!1,Cl=0,CN=0;function Gr(){throw Error(Ee(321))}function Kb(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Bi(e[r],t[r]))return!1;return!0}function qb(e,t,r,n,i,a){if($s=a,fr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Wh.current=e===null||e.memoizedState===null?TN:NN,e=r(n,i),il){a=0;do{if(il=!1,Cl=0,25<=a)throw Error(Ee(301));a+=1,Cr=xr=null,t.updateQueue=null,Wh.current=PN,e=r(n,i)}while(il)}if(Wh.current=N0,t=xr!==null&&xr.next!==null,$s=0,Cr=xr=fr=null,T0=!1,t)throw Error(Ee(300));return e}function Hb(){var e=Cl!==0;return Cl=0,e}function Ji(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Cr===null?fr.memoizedState=Cr=e:Cr=Cr.next=e,Cr}function ri(){if(xr===null){var e=fr.alternate;e=e!==null?e.memoizedState:null}else e=xr.next;var t=Cr===null?fr.memoizedState:Cr.next;if(t!==null)Cr=t,xr=e;else{if(e===null)throw Error(Ee(310));xr=e,e={memoizedState:xr.memoizedState,baseState:xr.baseState,baseQueue:xr.baseQueue,queue:xr.queue,next:null},Cr===null?fr.memoizedState=Cr=e:Cr=Cr.next=e}return Cr}function Bl(e,t){return typeof t=="function"?t(e):t}function vv(e){var t=ri(),r=t.queue;if(r===null)throw Error(Ee(311));r.lastRenderedReducer=e;var n=xr,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var c=i.next;i.next=a.next,a.next=c}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var u=c=null,d=null,p=a;do{var m=p.lane;if(($s&m)===m)d!==null&&(d=d.next={lane:0,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null}),n=p.hasEagerState?p.eagerState:e(n,p.action);else{var x={lane:m,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null};d===null?(u=d=x,c=n):d=d.next=x,fr.lanes|=m,Ls|=m}p=p.next}while(p!==null&&p!==a);d===null?c=n:d.next=u,Bi(n,t.memoizedState)||(xn=!0),t.memoizedState=n,t.baseState=c,t.baseQueue=d,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do a=i.lane,fr.lanes|=a,Ls|=a,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function mv(e){var t=ri(),r=t.queue;if(r===null)throw Error(Ee(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(i!==null){r.pending=null;var c=i=i.next;do a=e(a,c.action),c=c.next;while(c!==i);Bi(a,t.memoizedState)||(xn=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function o9(){}function s9(e,t){var r=fr,n=ri(),i=t(),a=!Bi(n.memoizedState,i);if(a&&(n.memoizedState=i,xn=!0),n=n.queue,Wb(u9.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||Cr!==null&&Cr.memoizedState.tag&1){if(r.flags|=2048,Il(9,f9.bind(null,r,n,i,t),void 0,null),Ir===null)throw Error(Ee(349));$s&30||c9(r,t,i)}return i}function c9(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=fr.updateQueue,t===null?(t={lastEffect:null,stores:null},fr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function f9(e,t,r,n){t.value=r,t.getSnapshot=n,l9(t)&&d9(e)}function u9(e,t,r){return r(function(){l9(t)&&d9(e)})}function l9(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Bi(e,r)}catch{return!0}}function d9(e){var t=Za(e,1);t!==null&&Ci(t,e,1,-1)}function o8(e){var t=Ji();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bl,lastRenderedState:e},t.queue=e,e=e.dispatch=RN.bind(null,fr,e),[t.memoizedState,e]}function Il(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=fr.updateQueue,t===null?(t={lastEffect:null,stores:null},fr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function h9(){return ri().memoizedState}function Vh(e,t,r,n){var i=Ji();fr.flags|=e,i.memoizedState=Il(1|t,r,void 0,n===void 0?null:n)}function Ip(e,t,r,n){var i=ri();n=n===void 0?null:n;var a=void 0;if(xr!==null){var c=xr.memoizedState;if(a=c.destroy,n!==null&&Kb(n,c.deps)){i.memoizedState=Il(t,r,a,n);return}}fr.flags|=e,i.memoizedState=Il(1|t,r,a,n)}function s8(e,t){return Vh(8390656,8,e,t)}function Wb(e,t){return Ip(2048,8,e,t)}function p9(e,t){return Ip(4,2,e,t)}function y9(e,t){return Ip(4,4,e,t)}function v9(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function m9(e,t,r){return r=r!=null?r.concat([e]):null,Ip(4,4,v9.bind(null,t,e),r)}function Vb(){}function g9(e,t){var r=ri();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Kb(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function b9(e,t){var r=ri();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Kb(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function w9(e,t,r){return $s&21?(Bi(r,t)||(r=Sx(),fr.lanes|=r,Ls|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,xn=!0),e.memoizedState=r)}function BN(e,t){var r=Ft;Ft=r!==0&&4>r?r:4,e(!0);var n=yv.transition;yv.transition={};try{e(!1),t()}finally{Ft=r,yv.transition=n}}function _9(){return ri().memoizedState}function IN(e,t,r){var n=Oo(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},x9(e))S9(t,r);else if(r=Qx(e,t,r,n),r!==null){var i=dn();Ci(r,e,n,i),E9(r,t,n)}}function RN(e,t,r){var n=Oo(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(x9(e))S9(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var c=t.lastRenderedState,u=a(c,r);if(i.hasEagerState=!0,i.eagerState=u,Bi(u,c)){var d=t.interleaved;d===null?(i.next=i,Db(t)):(i.next=d.next,d.next=i),t.interleaved=i;return}}catch{}finally{}r=Qx(e,t,i,n),r!==null&&(i=dn(),Ci(r,e,n,i),E9(r,t,n))}}function x9(e){var t=e.alternate;return e===fr||t!==null&&t===fr}function S9(e,t){il=T0=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function E9(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Eb(e,r)}}var N0={readContext:ti,useCallback:Gr,useContext:Gr,useEffect:Gr,useImperativeHandle:Gr,useInsertionEffect:Gr,useLayoutEffect:Gr,useMemo:Gr,useReducer:Gr,useRef:Gr,useState:Gr,useDebugValue:Gr,useDeferredValue:Gr,useTransition:Gr,useMutableSource:Gr,useSyncExternalStore:Gr,useId:Gr,unstable_isNewReconciler:!1},TN={readContext:ti,useCallback:function(e,t){return Ji().memoizedState=[e,t===void 0?null:t],e},useContext:ti,useEffect:s8,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Vh(4194308,4,v9.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Vh(4194308,4,e,t)},useInsertionEffect:function(e,t){return Vh(4,2,e,t)},useMemo:function(e,t){var r=Ji();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Ji();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=IN.bind(null,fr,e),[n.memoizedState,e]},useRef:function(e){var t=Ji();return e={current:e},t.memoizedState=e},useState:o8,useDebugValue:Vb,useDeferredValue:function(e){return Ji().memoizedState=e},useTransition:function(){var e=o8(!1),t=e[0];return e=BN.bind(null,e[1]),Ji().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=fr,i=Ji();if(sr){if(r===void 0)throw Error(Ee(407));r=r()}else{if(r=t(),Ir===null)throw Error(Ee(349));$s&30||c9(n,t,r)}i.memoizedState=r;var a={value:r,getSnapshot:t};return i.queue=a,s8(u9.bind(null,n,a,e),[e]),n.flags|=2048,Il(9,f9.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=Ji(),t=Ir.identifierPrefix;if(sr){var r=ja,n=Ua;r=(n&~(1<<32-Ai(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Cl++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=CN++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},NN={readContext:ti,useCallback:g9,useContext:ti,useEffect:Wb,useImperativeHandle:m9,useInsertionEffect:p9,useLayoutEffect:y9,useMemo:b9,useReducer:vv,useRef:h9,useState:function(){return vv(Bl)},useDebugValue:Vb,useDeferredValue:function(e){var t=ri();return w9(t,xr.memoizedState,e)},useTransition:function(){var e=vv(Bl)[0],t=ri().memoizedState;return[e,t]},useMutableSource:o9,useSyncExternalStore:s9,useId:_9,unstable_isNewReconciler:!1},PN={readContext:ti,useCallback:g9,useContext:ti,useEffect:Wb,useImperativeHandle:m9,useInsertionEffect:p9,useLayoutEffect:y9,useMemo:b9,useReducer:mv,useRef:h9,useState:function(){return mv(Bl)},useDebugValue:Vb,useDeferredValue:function(e){var t=ri();return xr===null?t.memoizedState=e:w9(t,xr.memoizedState,e)},useTransition:function(){var e=mv(Bl)[0],t=ri().memoizedState;return[e,t]},useMutableSource:o9,useSyncExternalStore:s9,useId:_9,unstable_isNewReconciler:!1};function df(e,t){try{var r="",n=t;do r+=cT(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function gv(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function ng(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var $N=typeof WeakMap=="function"?WeakMap:Map;function k9(e,t,r){r=Ka(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){$0||($0=!0,hg=n),ng(e,t)},r}function M9(e,t,r){r=Ka(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){ng(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){ng(e,t),typeof n!="function"&&(Lo===null?Lo=new Set([this]):Lo.add(this));var c=t.stack;this.componentDidCatch(t.value,{componentStack:c!==null?c:""})}),r}function c8(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new $N;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=GN.bind(null,e,t,r),t.then(e,e))}function f8(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function u8(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Ka(-1,1),t.tag=2,$o(r,t,1))),r.lanes|=1),e)}var LN=to.ReactCurrentOwner,xn=!1;function ln(e,t,r,n){t.child=e===null?i9(t,null,r,n):uf(t,e.child,r,n)}function l8(e,t,r,n,i){r=r.render;var a=t.ref;return qc(t,i),n=qb(e,t,r,n,a,i),r=Hb(),e!==null&&!xn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ga(e,t,i)):(sr&&r&&Tb(t),t.flags|=1,ln(e,t,n,i),t.child)}function d8(e,t,r,n,i){if(e===null){var a=r.type;return typeof a=="function"&&!t2(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,A9(e,t,a,n,i)):(e=Yh(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var c=a.memoizedProps;if(r=r.compare,r=r!==null?r:xl,r(c,n)&&e.ref===t.ref)return Ga(e,t,i)}return t.flags|=1,e=Do(a,n),e.ref=t.ref,e.return=t,t.child=e}function A9(e,t,r,n,i){if(e!==null){var a=e.memoizedProps;if(xl(a,n)&&e.ref===t.ref)if(xn=!1,t.pendingProps=n=a,(e.lanes&i)!==0)e.flags&131072&&(xn=!0);else return t.lanes=e.lanes,Ga(e,t,i)}return ig(e,t,r,n,i)}function C9(e,t,r){var n=t.pendingProps,i=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},er(Pc,Tn),Tn|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,er(Pc,Tn),Tn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,er(Pc,Tn),Tn|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,er(Pc,Tn),Tn|=n;return ln(e,t,i,r),t.child}function B9(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function ig(e,t,r,n,i){var a=En(r)?Ns:sn.current;return a=cf(t,a),qc(t,i),r=qb(e,t,r,n,a,i),n=Hb(),e!==null&&!xn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ga(e,t,i)):(sr&&n&&Tb(t),t.flags|=1,ln(e,t,r,i),t.child)}function h8(e,t,r,n,i){if(En(r)){var a=!0;k0(t)}else a=!1;if(qc(t,i),t.stateNode===null)Zh(e,t),r9(t,r,n),rg(t,r,n,i),n=!0;else if(e===null){var c=t.stateNode,u=t.memoizedProps;c.props=u;var d=c.context,p=r.contextType;typeof p=="object"&&p!==null?p=ti(p):(p=En(r)?Ns:sn.current,p=cf(t,p));var m=r.getDerivedStateFromProps,x=typeof m=="function"||typeof c.getSnapshotBeforeUpdate=="function";x||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(u!==n||d!==p)&&i8(t,c,n,p),_o=!1;var k=t.memoizedState;c.state=k,I0(t,n,c,i),d=t.memoizedState,u!==n||k!==d||Sn.current||_o?(typeof m=="function"&&(tg(t,r,m,n),d=t.memoizedState),(u=_o||n8(t,r,u,n,k,d,p))?(x||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=d),c.props=n,c.state=d,c.context=p,n=u):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{c=t.stateNode,e9(e,t),u=t.memoizedProps,p=t.type===t.elementType?u:_i(t.type,u),c.props=p,x=t.pendingProps,k=c.context,d=r.contextType,typeof d=="object"&&d!==null?d=ti(d):(d=En(r)?Ns:sn.current,d=cf(t,d));var S=r.getDerivedStateFromProps;(m=typeof S=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(u!==x||k!==d)&&i8(t,c,n,d),_o=!1,k=t.memoizedState,c.state=k,I0(t,n,c,i);var P=t.memoizedState;u!==x||k!==P||Sn.current||_o?(typeof S=="function"&&(tg(t,r,S,n),P=t.memoizedState),(p=_o||n8(t,r,p,n,k,P,d)||!1)?(m||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(n,P,d),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(n,P,d)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||u===e.memoizedProps&&k===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&k===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=P),c.props=n,c.state=P,c.context=d,n=p):(typeof c.componentDidUpdate!="function"||u===e.memoizedProps&&k===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&k===e.memoizedState||(t.flags|=1024),n=!1)}return ag(e,t,r,n,a,i)}function ag(e,t,r,n,i,a){B9(e,t);var c=(t.flags&128)!==0;if(!n&&!c)return i&&X4(t,r,!1),Ga(e,t,a);n=t.stateNode,LN.current=t;var u=c&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&c?(t.child=uf(t,e.child,null,a),t.child=uf(t,null,u,a)):ln(e,t,u,a),t.memoizedState=n.state,i&&X4(t,r,!0),t.child}function I9(e){var t=e.stateNode;t.pendingContext?Y4(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Y4(e,t.context,!1),jb(e,t.containerInfo)}function p8(e,t,r,n,i){return ff(),Pb(i),t.flags|=256,ln(e,t,r,n),t.child}var og={dehydrated:null,treeContext:null,retryLane:0};function sg(e){return{baseLanes:e,cachePool:null,transitions:null}}function R9(e,t,r){var n=t.pendingProps,i=cr.current,a=!1,c=(t.flags&128)!==0,u;if((u=c)||(u=e!==null&&e.memoizedState===null?!1:(i&2)!==0),u?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),er(cr,i&1),e===null)return Qm(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(c=n.children,e=n.fallback,a?(n=t.mode,a=t.child,c={mode:"hidden",children:c},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=c):a=Np(c,n,0,null),e=Bs(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=sg(r),t.memoizedState=og,e):Zb(t,c));if(i=e.memoizedState,i!==null&&(u=i.dehydrated,u!==null))return ON(e,t,c,n,u,i,r);if(a){a=n.fallback,c=t.mode,i=e.child,u=i.sibling;var d={mode:"hidden",children:n.children};return!(c&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=d,t.deletions=null):(n=Do(i,d),n.subtreeFlags=i.subtreeFlags&14680064),u!==null?a=Do(u,a):(a=Bs(a,c,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,c=e.child.memoizedState,c=c===null?sg(r):{baseLanes:c.baseLanes|r,cachePool:null,transitions:c.transitions},a.memoizedState=c,a.childLanes=e.childLanes&~r,t.memoizedState=og,n}return a=e.child,e=a.sibling,n=Do(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Zb(e,t){return t=Np({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ah(e,t,r,n){return n!==null&&Pb(n),uf(t,e.child,null,r),e=Zb(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ON(e,t,r,n,i,a,c){if(r)return t.flags&256?(t.flags&=-257,n=gv(Error(Ee(422))),Ah(e,t,c,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=Np({mode:"visible",children:n.children},i,0,null),a=Bs(a,i,c,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&uf(t,e.child,null,c),t.child.memoizedState=sg(c),t.memoizedState=og,a);if(!(t.mode&1))return Ah(e,t,c,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var u=n.dgst;return n=u,a=Error(Ee(419)),n=gv(a,n,void 0),Ah(e,t,c,n)}if(u=(c&e.childLanes)!==0,xn||u){if(n=Ir,n!==null){switch(c&-c){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|c)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Za(e,i),Ci(n,e,i,-1))}return e2(),n=gv(Error(Ee(421))),Ah(e,t,c,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=JN.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,Nn=Po(i.nextSibling),Pn=t,sr=!0,Si=null,e!==null&&(Gn[Jn++]=Ua,Gn[Jn++]=ja,Gn[Jn++]=Ps,Ua=e.id,ja=e.overflow,Ps=t),t=Zb(t,n.children),t.flags|=4096,t)}function y8(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),eg(e.return,t,r)}function bv(e,t,r,n,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function T9(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(ln(e,t,n.children,r),n=cr.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&y8(e,r,t);else if(e.tag===19)y8(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(er(cr,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&R0(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),bv(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&R0(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}bv(t,!0,r,null,a);break;case"together":bv(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Zh(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ga(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Ls|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ee(153));if(t.child!==null){for(e=t.child,r=Do(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Do(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function DN(e,t,r){switch(t.tag){case 3:I9(t),ff();break;case 5:a9(t);break;case 1:En(t.type)&&k0(t);break;case 4:jb(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;er(C0,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(er(cr,cr.current&1),t.flags|=128,null):r&t.child.childLanes?R9(e,t,r):(er(cr,cr.current&1),e=Ga(e,t,r),e!==null?e.sibling:null);er(cr,cr.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return T9(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),er(cr,cr.current),n)break;return null;case 22:case 23:return t.lanes=0,C9(e,t,r)}return Ga(e,t,r)}var N9,cg,P9,$9;N9=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};cg=function(){};P9=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Ss(ca.current);var a=null;switch(r){case"input":i=Im(e,i),n=Im(e,n),a=[];break;case"select":i=ur({},i,{value:void 0}),n=ur({},n,{value:void 0}),a=[];break;case"textarea":i=Nm(e,i),n=Nm(e,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=S0)}$m(r,n);var c;r=null;for(p in i)if(!n.hasOwnProperty(p)&&i.hasOwnProperty(p)&&i[p]!=null)if(p==="style"){var u=i[p];for(c in u)u.hasOwnProperty(c)&&(r||(r={}),r[c]="")}else p!=="dangerouslySetInnerHTML"&&p!=="children"&&p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(yl.hasOwnProperty(p)?a||(a=[]):(a=a||[]).push(p,null));for(p in n){var d=n[p];if(u=i!=null?i[p]:void 0,n.hasOwnProperty(p)&&d!==u&&(d!=null||u!=null))if(p==="style")if(u){for(c in u)!u.hasOwnProperty(c)||d&&d.hasOwnProperty(c)||(r||(r={}),r[c]="");for(c in d)d.hasOwnProperty(c)&&u[c]!==d[c]&&(r||(r={}),r[c]=d[c])}else r||(a||(a=[]),a.push(p,r)),r=d;else p==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,u=u?u.__html:void 0,d!=null&&u!==d&&(a=a||[]).push(p,d)):p==="children"?typeof d!="string"&&typeof d!="number"||(a=a||[]).push(p,""+d):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&(yl.hasOwnProperty(p)?(d!=null&&p==="onScroll"&&nr("scroll",e),a||u===d||(a=[])):(a=a||[]).push(p,d))}r&&(a=a||[]).push("style",r);var p=a;(t.updateQueue=p)&&(t.flags|=4)}};$9=function(e,t,r,n){r!==n&&(t.flags|=4)};function Ru(e,t){if(!sr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Jr(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function UN(e,t,r){var n=t.pendingProps;switch(Nb(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jr(t),null;case 1:return En(t.type)&&E0(),Jr(t),null;case 3:return n=t.stateNode,lf(),ir(Sn),ir(sn),zb(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(kh(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Si!==null&&(vg(Si),Si=null))),cg(e,t),Jr(t),null;case 5:Fb(t);var i=Ss(Al.current);if(r=t.type,e!==null&&t.stateNode!=null)P9(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Ee(166));return Jr(t),null}if(e=Ss(ca.current),kh(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[ta]=t,n[kl]=a,e=(t.mode&1)!==0,r){case"dialog":nr("cancel",n),nr("close",n);break;case"iframe":case"object":case"embed":nr("load",n);break;case"video":case"audio":for(i=0;i<Zu.length;i++)nr(Zu[i],n);break;case"source":nr("error",n);break;case"img":case"image":case"link":nr("error",n),nr("load",n);break;case"details":nr("toggle",n);break;case"input":E4(n,a),nr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},nr("invalid",n);break;case"textarea":M4(n,a),nr("invalid",n)}$m(r,a),i=null;for(var c in a)if(a.hasOwnProperty(c)){var u=a[c];c==="children"?typeof u=="string"?n.textContent!==u&&(a.suppressHydrationWarning!==!0&&Eh(n.textContent,u,e),i=["children",u]):typeof u=="number"&&n.textContent!==""+u&&(a.suppressHydrationWarning!==!0&&Eh(n.textContent,u,e),i=["children",""+u]):yl.hasOwnProperty(c)&&u!=null&&c==="onScroll"&&nr("scroll",n)}switch(r){case"input":vh(n),k4(n,a,!0);break;case"textarea":vh(n),A4(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=S0)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{c=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=cx(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=c.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=c.createElement(r,{is:n.is}):(e=c.createElement(r),r==="select"&&(c=e,n.multiple?c.multiple=!0:n.size&&(c.size=n.size))):e=c.createElementNS(e,r),e[ta]=t,e[kl]=n,N9(e,t,!1,!1),t.stateNode=e;e:{switch(c=Lm(r,n),r){case"dialog":nr("cancel",e),nr("close",e),i=n;break;case"iframe":case"object":case"embed":nr("load",e),i=n;break;case"video":case"audio":for(i=0;i<Zu.length;i++)nr(Zu[i],e);i=n;break;case"source":nr("error",e),i=n;break;case"img":case"image":case"link":nr("error",e),nr("load",e),i=n;break;case"details":nr("toggle",e),i=n;break;case"input":E4(e,n),i=Im(e,n),nr("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=ur({},n,{value:void 0}),nr("invalid",e);break;case"textarea":M4(e,n),i=Nm(e,n),nr("invalid",e);break;default:i=n}$m(r,i),u=i;for(a in u)if(u.hasOwnProperty(a)){var d=u[a];a==="style"?lx(e,d):a==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&fx(e,d)):a==="children"?typeof d=="string"?(r!=="textarea"||d!=="")&&vl(e,d):typeof d=="number"&&vl(e,""+d):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(yl.hasOwnProperty(a)?d!=null&&a==="onScroll"&&nr("scroll",e):d!=null&&gb(e,a,d,c))}switch(r){case"input":vh(e),k4(e,n,!1);break;case"textarea":vh(e),A4(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Fo(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?jc(e,!!n.multiple,a,!1):n.defaultValue!=null&&jc(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=S0)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Jr(t),null;case 6:if(e&&t.stateNode!=null)$9(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Ee(166));if(r=Ss(Al.current),Ss(ca.current),kh(t)){if(n=t.stateNode,r=t.memoizedProps,n[ta]=t,(a=n.nodeValue!==r)&&(e=Pn,e!==null))switch(e.tag){case 3:Eh(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Eh(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ta]=t,t.stateNode=n}return Jr(t),null;case 13:if(ir(cr),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(sr&&Nn!==null&&t.mode&1&&!(t.flags&128))Xx(),ff(),t.flags|=98560,a=!1;else if(a=kh(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(Ee(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Ee(317));a[ta]=t}else ff(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Jr(t),a=!1}else Si!==null&&(vg(Si),Si=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||cr.current&1?Er===0&&(Er=3):e2())),t.updateQueue!==null&&(t.flags|=4),Jr(t),null);case 4:return lf(),cg(e,t),e===null&&Sl(t.stateNode.containerInfo),Jr(t),null;case 10:return Ob(t.type._context),Jr(t),null;case 17:return En(t.type)&&E0(),Jr(t),null;case 19:if(ir(cr),a=t.memoizedState,a===null)return Jr(t),null;if(n=(t.flags&128)!==0,c=a.rendering,c===null)if(n)Ru(a,!1);else{if(Er!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(c=R0(e),c!==null){for(t.flags|=128,Ru(a,!1),n=c.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,c=a.alternate,c===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,e=c.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return er(cr,cr.current&1|2),t.child}e=e.sibling}a.tail!==null&&pr()>hf&&(t.flags|=128,n=!0,Ru(a,!1),t.lanes=4194304)}else{if(!n)if(e=R0(c),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Ru(a,!0),a.tail===null&&a.tailMode==="hidden"&&!c.alternate&&!sr)return Jr(t),null}else 2*pr()-a.renderingStartTime>hf&&r!==1073741824&&(t.flags|=128,n=!0,Ru(a,!1),t.lanes=4194304);a.isBackwards?(c.sibling=t.child,t.child=c):(r=a.last,r!==null?r.sibling=c:t.child=c,a.last=c)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=pr(),t.sibling=null,r=cr.current,er(cr,n?r&1|2:r&1),t):(Jr(t),null);case 22:case 23:return Qb(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Tn&1073741824&&(Jr(t),t.subtreeFlags&6&&(t.flags|=8192)):Jr(t),null;case 24:return null;case 25:return null}throw Error(Ee(156,t.tag))}function jN(e,t){switch(Nb(t),t.tag){case 1:return En(t.type)&&E0(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return lf(),ir(Sn),ir(sn),zb(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Fb(t),null;case 13:if(ir(cr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ee(340));ff()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ir(cr),null;case 4:return lf(),null;case 10:return Ob(t.type._context),null;case 22:case 23:return Qb(),null;case 24:return null;default:return null}}var Ch=!1,an=!1,FN=typeof WeakSet=="function"?WeakSet:Set,ze=null;function Nc(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){lr(e,t,n)}else r.current=null}function fg(e,t,r){try{r()}catch(n){lr(e,t,n)}}var v8=!1;function zN(e,t){if(Wm=w0,e=Ux(),Rb(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var c=0,u=-1,d=-1,p=0,m=0,x=e,k=null;t:for(;;){for(var S;x!==r||i!==0&&x.nodeType!==3||(u=c+i),x!==a||n!==0&&x.nodeType!==3||(d=c+n),x.nodeType===3&&(c+=x.nodeValue.length),(S=x.firstChild)!==null;)k=x,x=S;for(;;){if(x===e)break t;if(k===r&&++p===i&&(u=c),k===a&&++m===n&&(d=c),(S=x.nextSibling)!==null)break;x=k,k=x.parentNode}x=S}r=u===-1||d===-1?null:{start:u,end:d}}else r=null}r=r||{start:0,end:0}}else r=null;for(Vm={focusedElem:e,selectionRange:r},w0=!1,ze=t;ze!==null;)if(t=ze,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ze=e;else for(;ze!==null;){t=ze;try{var P=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(P!==null){var j=P.memoizedProps,U=P.memoizedState,O=t.stateNode,L=O.getSnapshotBeforeUpdate(t.elementType===t.type?j:_i(t.type,j),U);O.__reactInternalSnapshotBeforeUpdate=L}break;case 3:var z=t.stateNode.containerInfo;z.nodeType===1?z.textContent="":z.nodeType===9&&z.documentElement&&z.removeChild(z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ee(163))}}catch(G){lr(t,t.return,G)}if(e=t.sibling,e!==null){e.return=t.return,ze=e;break}ze=t.return}return P=v8,v8=!1,P}function al(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&fg(t,r,a)}i=i.next}while(i!==n)}}function Rp(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function ug(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function L9(e){var t=e.alternate;t!==null&&(e.alternate=null,L9(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ta],delete t[kl],delete t[Jm],delete t[EN],delete t[kN])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function O9(e){return e.tag===5||e.tag===3||e.tag===4}function m8(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||O9(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function lg(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=S0));else if(n!==4&&(e=e.child,e!==null))for(lg(e,t,r),e=e.sibling;e!==null;)lg(e,t,r),e=e.sibling}function dg(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(dg(e,t,r),e=e.sibling;e!==null;)dg(e,t,r),e=e.sibling}var jr=null,xi=!1;function mo(e,t,r){for(r=r.child;r!==null;)D9(e,t,r),r=r.sibling}function D9(e,t,r){if(sa&&typeof sa.onCommitFiberUnmount=="function")try{sa.onCommitFiberUnmount(Sp,r)}catch{}switch(r.tag){case 5:an||Nc(r,t);case 6:var n=jr,i=xi;jr=null,mo(e,t,r),jr=n,xi=i,jr!==null&&(xi?(e=jr,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):jr.removeChild(r.stateNode));break;case 18:jr!==null&&(xi?(e=jr,r=r.stateNode,e.nodeType===8?dv(e.parentNode,r):e.nodeType===1&&dv(e,r),wl(e)):dv(jr,r.stateNode));break;case 4:n=jr,i=xi,jr=r.stateNode.containerInfo,xi=!0,mo(e,t,r),jr=n,xi=i;break;case 0:case 11:case 14:case 15:if(!an&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,c=a.destroy;a=a.tag,c!==void 0&&(a&2||a&4)&&fg(r,t,c),i=i.next}while(i!==n)}mo(e,t,r);break;case 1:if(!an&&(Nc(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(u){lr(r,t,u)}mo(e,t,r);break;case 21:mo(e,t,r);break;case 22:r.mode&1?(an=(n=an)||r.memoizedState!==null,mo(e,t,r),an=n):mo(e,t,r);break;default:mo(e,t,r)}}function g8(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new FN),t.forEach(function(n){var i=YN.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function gi(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=e,c=t,u=c;e:for(;u!==null;){switch(u.tag){case 5:jr=u.stateNode,xi=!1;break e;case 3:jr=u.stateNode.containerInfo,xi=!0;break e;case 4:jr=u.stateNode.containerInfo,xi=!0;break e}u=u.return}if(jr===null)throw Error(Ee(160));D9(a,c,i),jr=null,xi=!1;var d=i.alternate;d!==null&&(d.return=null),i.return=null}catch(p){lr(i,t,p)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)U9(t,e),t=t.sibling}function U9(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gi(t,e),Zi(e),n&4){try{al(3,e,e.return),Rp(3,e)}catch(j){lr(e,e.return,j)}try{al(5,e,e.return)}catch(j){lr(e,e.return,j)}}break;case 1:gi(t,e),Zi(e),n&512&&r!==null&&Nc(r,r.return);break;case 5:if(gi(t,e),Zi(e),n&512&&r!==null&&Nc(r,r.return),e.flags&32){var i=e.stateNode;try{vl(i,"")}catch(j){lr(e,e.return,j)}}if(n&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,c=r!==null?r.memoizedProps:a,u=e.type,d=e.updateQueue;if(e.updateQueue=null,d!==null)try{u==="input"&&a.type==="radio"&&a.name!=null&&ox(i,a),Lm(u,c);var p=Lm(u,a);for(c=0;c<d.length;c+=2){var m=d[c],x=d[c+1];m==="style"?lx(i,x):m==="dangerouslySetInnerHTML"?fx(i,x):m==="children"?vl(i,x):gb(i,m,x,p)}switch(u){case"input":Rm(i,a);break;case"textarea":sx(i,a);break;case"select":var k=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var S=a.value;S!=null?jc(i,!!a.multiple,S,!1):k!==!!a.multiple&&(a.defaultValue!=null?jc(i,!!a.multiple,a.defaultValue,!0):jc(i,!!a.multiple,a.multiple?[]:"",!1))}i[kl]=a}catch(j){lr(e,e.return,j)}}break;case 6:if(gi(t,e),Zi(e),n&4){if(e.stateNode===null)throw Error(Ee(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(j){lr(e,e.return,j)}}break;case 3:if(gi(t,e),Zi(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{wl(t.containerInfo)}catch(j){lr(e,e.return,j)}break;case 4:gi(t,e),Zi(e);break;case 13:gi(t,e),Zi(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Yb=pr())),n&4&&g8(e);break;case 22:if(m=r!==null&&r.memoizedState!==null,e.mode&1?(an=(p=an)||m,gi(t,e),an=p):gi(t,e),Zi(e),n&8192){if(p=e.memoizedState!==null,(e.stateNode.isHidden=p)&&!m&&e.mode&1)for(ze=e,m=e.child;m!==null;){for(x=ze=m;ze!==null;){switch(k=ze,S=k.child,k.tag){case 0:case 11:case 14:case 15:al(4,k,k.return);break;case 1:Nc(k,k.return);var P=k.stateNode;if(typeof P.componentWillUnmount=="function"){n=k,r=k.return;try{t=n,P.props=t.memoizedProps,P.state=t.memoizedState,P.componentWillUnmount()}catch(j){lr(n,r,j)}}break;case 5:Nc(k,k.return);break;case 22:if(k.memoizedState!==null){w8(x);continue}}S!==null?(S.return=k,ze=S):w8(x)}m=m.sibling}e:for(m=null,x=e;;){if(x.tag===5){if(m===null){m=x;try{i=x.stateNode,p?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(u=x.stateNode,d=x.memoizedProps.style,c=d!=null&&d.hasOwnProperty("display")?d.display:null,u.style.display=ux("display",c))}catch(j){lr(e,e.return,j)}}}else if(x.tag===6){if(m===null)try{x.stateNode.nodeValue=p?"":x.memoizedProps}catch(j){lr(e,e.return,j)}}else if((x.tag!==22&&x.tag!==23||x.memoizedState===null||x===e)&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===e)break e;for(;x.sibling===null;){if(x.return===null||x.return===e)break e;m===x&&(m=null),x=x.return}m===x&&(m=null),x.sibling.return=x.return,x=x.sibling}}break;case 19:gi(t,e),Zi(e),n&4&&g8(e);break;case 21:break;default:gi(t,e),Zi(e)}}function Zi(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(O9(r)){var n=r;break e}r=r.return}throw Error(Ee(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(vl(i,""),n.flags&=-33);var a=m8(e);dg(e,a,i);break;case 3:case 4:var c=n.stateNode.containerInfo,u=m8(e);lg(e,u,c);break;default:throw Error(Ee(161))}}catch(d){lr(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function KN(e,t,r){ze=e,j9(e)}function j9(e,t,r){for(var n=(e.mode&1)!==0;ze!==null;){var i=ze,a=i.child;if(i.tag===22&&n){var c=i.memoizedState!==null||Ch;if(!c){var u=i.alternate,d=u!==null&&u.memoizedState!==null||an;u=Ch;var p=an;if(Ch=c,(an=d)&&!p)for(ze=i;ze!==null;)c=ze,d=c.child,c.tag===22&&c.memoizedState!==null?_8(i):d!==null?(d.return=c,ze=d):_8(i);for(;a!==null;)ze=a,j9(a),a=a.sibling;ze=i,Ch=u,an=p}b8(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,ze=a):b8(e)}}function b8(e){for(;ze!==null;){var t=ze;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:an||Rp(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!an)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:_i(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&r8(t,a,n);break;case 3:var c=t.updateQueue;if(c!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}r8(t,c,r)}break;case 5:var u=t.stateNode;if(r===null&&t.flags&4){r=u;var d=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&r.focus();break;case"img":d.src&&(r.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var p=t.alternate;if(p!==null){var m=p.memoizedState;if(m!==null){var x=m.dehydrated;x!==null&&wl(x)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ee(163))}an||t.flags&512&&ug(t)}catch(k){lr(t,t.return,k)}}if(t===e){ze=null;break}if(r=t.sibling,r!==null){r.return=t.return,ze=r;break}ze=t.return}}function w8(e){for(;ze!==null;){var t=ze;if(t===e){ze=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ze=r;break}ze=t.return}}function _8(e){for(;ze!==null;){var t=ze;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Rp(4,t)}catch(d){lr(t,r,d)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(d){lr(t,i,d)}}var a=t.return;try{ug(t)}catch(d){lr(t,a,d)}break;case 5:var c=t.return;try{ug(t)}catch(d){lr(t,c,d)}}}catch(d){lr(t,t.return,d)}if(t===e){ze=null;break}var u=t.sibling;if(u!==null){u.return=t.return,ze=u;break}ze=t.return}}var qN=Math.ceil,P0=to.ReactCurrentDispatcher,Gb=to.ReactCurrentOwner,ei=to.ReactCurrentBatchConfig,Tt=0,Ir=null,br=null,Kr=0,Tn=0,Pc=Zo(0),Er=0,Rl=null,Ls=0,Tp=0,Jb=0,ol=null,_n=null,Yb=0,hf=1/0,$a=null,$0=!1,hg=null,Lo=null,Bh=!1,Bo=null,L0=0,sl=0,pg=null,Gh=-1,Jh=0;function dn(){return Tt&6?pr():Gh!==-1?Gh:Gh=pr()}function Oo(e){return e.mode&1?Tt&2&&Kr!==0?Kr&-Kr:AN.transition!==null?(Jh===0&&(Jh=Sx()),Jh):(e=Ft,e!==0||(e=window.event,e=e===void 0?16:Ix(e.type)),e):1}function Ci(e,t,r,n){if(50<sl)throw sl=0,pg=null,Error(Ee(185));Gl(e,r,n),(!(Tt&2)||e!==Ir)&&(e===Ir&&(!(Tt&2)&&(Tp|=r),Er===4&&Mo(e,Kr)),kn(e,n),r===1&&Tt===0&&!(t.mode&1)&&(hf=pr()+500,Cp&&Go()))}function kn(e,t){var r=e.callbackNode;AT(e,t);var n=b0(e,e===Ir?Kr:0);if(n===0)r!==null&&I4(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&I4(r),t===1)e.tag===0?MN(x8.bind(null,e)):Gx(x8.bind(null,e)),xN(function(){!(Tt&6)&&Go()}),r=null;else{switch(Ex(n)){case 1:r=Sb;break;case 4:r=_x;break;case 16:r=g0;break;case 536870912:r=xx;break;default:r=g0}r=Z9(r,F9.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function F9(e,t){if(Gh=-1,Jh=0,Tt&6)throw Error(Ee(327));var r=e.callbackNode;if(Hc()&&e.callbackNode!==r)return null;var n=b0(e,e===Ir?Kr:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=O0(e,n);else{t=n;var i=Tt;Tt|=2;var a=K9();(Ir!==e||Kr!==t)&&($a=null,hf=pr()+500,Cs(e,t));do try{VN();break}catch(u){z9(e,u)}while(1);Lb(),P0.current=a,Tt=i,br!==null?t=0:(Ir=null,Kr=0,t=Er)}if(t!==0){if(t===2&&(i=Fm(e),i!==0&&(n=i,t=yg(e,i))),t===1)throw r=Rl,Cs(e,0),Mo(e,n),kn(e,pr()),r;if(t===6)Mo(e,n);else{if(i=e.current.alternate,!(n&30)&&!HN(i)&&(t=O0(e,n),t===2&&(a=Fm(e),a!==0&&(n=a,t=yg(e,a))),t===1))throw r=Rl,Cs(e,0),Mo(e,n),kn(e,pr()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(Ee(345));case 2:gs(e,_n,$a);break;case 3:if(Mo(e,n),(n&130023424)===n&&(t=Yb+500-pr(),10<t)){if(b0(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){dn(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Gm(gs.bind(null,e,_n,$a),t);break}gs(e,_n,$a);break;case 4:if(Mo(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var c=31-Ai(n);a=1<<c,c=t[c],c>i&&(i=c),n&=~a}if(n=i,n=pr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*qN(n/1960))-n,10<n){e.timeoutHandle=Gm(gs.bind(null,e,_n,$a),n);break}gs(e,_n,$a);break;case 5:gs(e,_n,$a);break;default:throw Error(Ee(329))}}}return kn(e,pr()),e.callbackNode===r?F9.bind(null,e):null}function yg(e,t){var r=ol;return e.current.memoizedState.isDehydrated&&(Cs(e,t).flags|=256),e=O0(e,t),e!==2&&(t=_n,_n=r,t!==null&&vg(t)),e}function vg(e){_n===null?_n=e:_n.push.apply(_n,e)}function HN(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!Bi(a(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Mo(e,t){for(t&=~Jb,t&=~Tp,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ai(t),n=1<<r;e[r]=-1,t&=~n}}function x8(e){if(Tt&6)throw Error(Ee(327));Hc();var t=b0(e,0);if(!(t&1))return kn(e,pr()),null;var r=O0(e,t);if(e.tag!==0&&r===2){var n=Fm(e);n!==0&&(t=n,r=yg(e,n))}if(r===1)throw r=Rl,Cs(e,0),Mo(e,t),kn(e,pr()),r;if(r===6)throw Error(Ee(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,gs(e,_n,$a),kn(e,pr()),null}function Xb(e,t){var r=Tt;Tt|=1;try{return e(t)}finally{Tt=r,Tt===0&&(hf=pr()+500,Cp&&Go())}}function Os(e){Bo!==null&&Bo.tag===0&&!(Tt&6)&&Hc();var t=Tt;Tt|=1;var r=ei.transition,n=Ft;try{if(ei.transition=null,Ft=1,e)return e()}finally{Ft=n,ei.transition=r,Tt=t,!(Tt&6)&&Go()}}function Qb(){Tn=Pc.current,ir(Pc)}function Cs(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,_N(r)),br!==null)for(r=br.return;r!==null;){var n=r;switch(Nb(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&E0();break;case 3:lf(),ir(Sn),ir(sn),zb();break;case 5:Fb(n);break;case 4:lf();break;case 13:ir(cr);break;case 19:ir(cr);break;case 10:Ob(n.type._context);break;case 22:case 23:Qb()}r=r.return}if(Ir=e,br=e=Do(e.current,null),Kr=Tn=t,Er=0,Rl=null,Jb=Tp=Ls=0,_n=ol=null,xs!==null){for(t=0;t<xs.length;t++)if(r=xs[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var c=a.next;a.next=i,n.next=c}r.pending=n}xs=null}return e}function z9(e,t){do{var r=br;try{if(Lb(),Wh.current=N0,T0){for(var n=fr.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}T0=!1}if($s=0,Cr=xr=fr=null,il=!1,Cl=0,Gb.current=null,r===null||r.return===null){Er=1,Rl=t,br=null;break}e:{var a=e,c=r.return,u=r,d=t;if(t=Kr,u.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var p=d,m=u,x=m.tag;if(!(m.mode&1)&&(x===0||x===11||x===15)){var k=m.alternate;k?(m.updateQueue=k.updateQueue,m.memoizedState=k.memoizedState,m.lanes=k.lanes):(m.updateQueue=null,m.memoizedState=null)}var S=f8(c);if(S!==null){S.flags&=-257,u8(S,c,u,a,t),S.mode&1&&c8(a,p,t),t=S,d=p;var P=t.updateQueue;if(P===null){var j=new Set;j.add(d),t.updateQueue=j}else P.add(d);break e}else{if(!(t&1)){c8(a,p,t),e2();break e}d=Error(Ee(426))}}else if(sr&&u.mode&1){var U=f8(c);if(U!==null){!(U.flags&65536)&&(U.flags|=256),u8(U,c,u,a,t),Pb(df(d,u));break e}}a=d=df(d,u),Er!==4&&(Er=2),ol===null?ol=[a]:ol.push(a),a=c;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var O=k9(a,d,t);t8(a,O);break e;case 1:u=d;var L=a.type,z=a.stateNode;if(!(a.flags&128)&&(typeof L.getDerivedStateFromError=="function"||z!==null&&typeof z.componentDidCatch=="function"&&(Lo===null||!Lo.has(z)))){a.flags|=65536,t&=-t,a.lanes|=t;var G=M9(a,u,t);t8(a,G);break e}}a=a.return}while(a!==null)}H9(r)}catch(J){t=J,br===r&&r!==null&&(br=r=r.return);continue}break}while(1)}function K9(){var e=P0.current;return P0.current=N0,e===null?N0:e}function e2(){(Er===0||Er===3||Er===2)&&(Er=4),Ir===null||!(Ls&268435455)&&!(Tp&268435455)||Mo(Ir,Kr)}function O0(e,t){var r=Tt;Tt|=2;var n=K9();(Ir!==e||Kr!==t)&&($a=null,Cs(e,t));do try{WN();break}catch(i){z9(e,i)}while(1);if(Lb(),Tt=r,P0.current=n,br!==null)throw Error(Ee(261));return Ir=null,Kr=0,Er}function WN(){for(;br!==null;)q9(br)}function VN(){for(;br!==null&&!gT();)q9(br)}function q9(e){var t=V9(e.alternate,e,Tn);e.memoizedProps=e.pendingProps,t===null?H9(e):br=t,Gb.current=null}function H9(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=jN(r,t),r!==null){r.flags&=32767,br=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Er=6,br=null;return}}else if(r=UN(r,t,Tn),r!==null){br=r;return}if(t=t.sibling,t!==null){br=t;return}br=t=e}while(t!==null);Er===0&&(Er=5)}function gs(e,t,r){var n=Ft,i=ei.transition;try{ei.transition=null,Ft=1,ZN(e,t,r,n)}finally{ei.transition=i,Ft=n}return null}function ZN(e,t,r,n){do Hc();while(Bo!==null);if(Tt&6)throw Error(Ee(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Ee(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(CT(e,a),e===Ir&&(br=Ir=null,Kr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Bh||(Bh=!0,Z9(g0,function(){return Hc(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=ei.transition,ei.transition=null;var c=Ft;Ft=1;var u=Tt;Tt|=4,Gb.current=null,zN(e,r),U9(r,e),pN(Vm),w0=!!Wm,Vm=Wm=null,e.current=r,KN(r),bT(),Tt=u,Ft=c,ei.transition=a}else e.current=r;if(Bh&&(Bh=!1,Bo=e,L0=i),a=e.pendingLanes,a===0&&(Lo=null),xT(r.stateNode),kn(e,pr()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if($0)throw $0=!1,e=hg,hg=null,e;return L0&1&&e.tag!==0&&Hc(),a=e.pendingLanes,a&1?e===pg?sl++:(sl=0,pg=e):sl=0,Go(),null}function Hc(){if(Bo!==null){var e=Ex(L0),t=ei.transition,r=Ft;try{if(ei.transition=null,Ft=16>e?16:e,Bo===null)var n=!1;else{if(e=Bo,Bo=null,L0=0,Tt&6)throw Error(Ee(331));var i=Tt;for(Tt|=4,ze=e.current;ze!==null;){var a=ze,c=a.child;if(ze.flags&16){var u=a.deletions;if(u!==null){for(var d=0;d<u.length;d++){var p=u[d];for(ze=p;ze!==null;){var m=ze;switch(m.tag){case 0:case 11:case 15:al(8,m,a)}var x=m.child;if(x!==null)x.return=m,ze=x;else for(;ze!==null;){m=ze;var k=m.sibling,S=m.return;if(L9(m),m===p){ze=null;break}if(k!==null){k.return=S,ze=k;break}ze=S}}}var P=a.alternate;if(P!==null){var j=P.child;if(j!==null){P.child=null;do{var U=j.sibling;j.sibling=null,j=U}while(j!==null)}}ze=a}}if(a.subtreeFlags&2064&&c!==null)c.return=a,ze=c;else e:for(;ze!==null;){if(a=ze,a.flags&2048)switch(a.tag){case 0:case 11:case 15:al(9,a,a.return)}var O=a.sibling;if(O!==null){O.return=a.return,ze=O;break e}ze=a.return}}var L=e.current;for(ze=L;ze!==null;){c=ze;var z=c.child;if(c.subtreeFlags&2064&&z!==null)z.return=c,ze=z;else e:for(c=L;ze!==null;){if(u=ze,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:Rp(9,u)}}catch(J){lr(u,u.return,J)}if(u===c){ze=null;break e}var G=u.sibling;if(G!==null){G.return=u.return,ze=G;break e}ze=u.return}}if(Tt=i,Go(),sa&&typeof sa.onPostCommitFiberRoot=="function")try{sa.onPostCommitFiberRoot(Sp,e)}catch{}n=!0}return n}finally{Ft=r,ei.transition=t}}return!1}function S8(e,t,r){t=df(r,t),t=k9(e,t,1),e=$o(e,t,1),t=dn(),e!==null&&(Gl(e,1,t),kn(e,t))}function lr(e,t,r){if(e.tag===3)S8(e,e,r);else for(;t!==null;){if(t.tag===3){S8(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Lo===null||!Lo.has(n))){e=df(r,e),e=M9(t,e,1),t=$o(t,e,1),e=dn(),t!==null&&(Gl(t,1,e),kn(t,e));break}}t=t.return}}function GN(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=dn(),e.pingedLanes|=e.suspendedLanes&r,Ir===e&&(Kr&r)===r&&(Er===4||Er===3&&(Kr&130023424)===Kr&&500>pr()-Yb?Cs(e,0):Jb|=r),kn(e,t)}function W9(e,t){t===0&&(e.mode&1?(t=bh,bh<<=1,!(bh&130023424)&&(bh=4194304)):t=1);var r=dn();e=Za(e,t),e!==null&&(Gl(e,t,r),kn(e,r))}function JN(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),W9(e,r)}function YN(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Ee(314))}n!==null&&n.delete(t),W9(e,r)}var V9;V9=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Sn.current)xn=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return xn=!1,DN(e,t,r);xn=!!(e.flags&131072)}else xn=!1,sr&&t.flags&1048576&&Jx(t,A0,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Zh(e,t),e=t.pendingProps;var i=cf(t,sn.current);qc(t,r),i=qb(null,t,n,e,i,r);var a=Hb();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,En(n)?(a=!0,k0(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ub(t),i.updater=Bp,t.stateNode=i,i._reactInternals=t,rg(t,n,e,r),t=ag(null,t,n,!0,a,r)):(t.tag=0,sr&&a&&Tb(t),ln(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Zh(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=QN(n),e=_i(n,e),i){case 0:t=ig(null,t,n,e,r);break e;case 1:t=h8(null,t,n,e,r);break e;case 11:t=l8(null,t,n,e,r);break e;case 14:t=d8(null,t,n,_i(n.type,e),r);break e}throw Error(Ee(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:_i(n,i),ig(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:_i(n,i),h8(e,t,n,i,r);case 3:e:{if(I9(t),e===null)throw Error(Ee(387));n=t.pendingProps,a=t.memoizedState,i=a.element,e9(e,t),I0(t,n,null,r);var c=t.memoizedState;if(n=c.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:c.cache,pendingSuspenseBoundaries:c.pendingSuspenseBoundaries,transitions:c.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=df(Error(Ee(423)),t),t=p8(e,t,n,r,i);break e}else if(n!==i){i=df(Error(Ee(424)),t),t=p8(e,t,n,r,i);break e}else for(Nn=Po(t.stateNode.containerInfo.firstChild),Pn=t,sr=!0,Si=null,r=i9(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ff(),n===i){t=Ga(e,t,r);break e}ln(e,t,n,r)}t=t.child}return t;case 5:return a9(t),e===null&&Qm(t),n=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,c=i.children,Zm(n,i)?c=null:a!==null&&Zm(n,a)&&(t.flags|=32),B9(e,t),ln(e,t,c,r),t.child;case 6:return e===null&&Qm(t),null;case 13:return R9(e,t,r);case 4:return jb(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=uf(t,null,n,r):ln(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:_i(n,i),l8(e,t,n,i,r);case 7:return ln(e,t,t.pendingProps,r),t.child;case 8:return ln(e,t,t.pendingProps.children,r),t.child;case 12:return ln(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,c=i.value,er(C0,n._currentValue),n._currentValue=c,a!==null)if(Bi(a.value,c)){if(a.children===i.children&&!Sn.current){t=Ga(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var u=a.dependencies;if(u!==null){c=a.child;for(var d=u.firstContext;d!==null;){if(d.context===n){if(a.tag===1){d=Ka(-1,r&-r),d.tag=2;var p=a.updateQueue;if(p!==null){p=p.shared;var m=p.pending;m===null?d.next=d:(d.next=m.next,m.next=d),p.pending=d}}a.lanes|=r,d=a.alternate,d!==null&&(d.lanes|=r),eg(a.return,r,t),u.lanes|=r;break}d=d.next}}else if(a.tag===10)c=a.type===t.type?null:a.child;else if(a.tag===18){if(c=a.return,c===null)throw Error(Ee(341));c.lanes|=r,u=c.alternate,u!==null&&(u.lanes|=r),eg(c,r,t),c=a.sibling}else c=a.child;if(c!==null)c.return=a;else for(c=a;c!==null;){if(c===t){c=null;break}if(a=c.sibling,a!==null){a.return=c.return,c=a;break}c=c.return}a=c}ln(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,qc(t,r),i=ti(i),n=n(i),t.flags|=1,ln(e,t,n,r),t.child;case 14:return n=t.type,i=_i(n,t.pendingProps),i=_i(n.type,i),d8(e,t,n,i,r);case 15:return A9(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:_i(n,i),Zh(e,t),t.tag=1,En(n)?(e=!0,k0(t)):e=!1,qc(t,r),r9(t,n,i),rg(t,n,i,r),ag(null,t,n,!0,e,r);case 19:return T9(e,t,r);case 22:return C9(e,t,r)}throw Error(Ee(156,t.tag))};function Z9(e,t){return wx(e,t)}function XN(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qn(e,t,r,n){return new XN(e,t,r,n)}function t2(e){return e=e.prototype,!(!e||!e.isReactComponent)}function QN(e){if(typeof e=="function")return t2(e)?1:0;if(e!=null){if(e=e.$$typeof,e===wb)return 11;if(e===_b)return 14}return 2}function Do(e,t){var r=e.alternate;return r===null?(r=Qn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Yh(e,t,r,n,i,a){var c=2;if(n=e,typeof e=="function")t2(e)&&(c=1);else if(typeof e=="string")c=5;else e:switch(e){case Ec:return Bs(r.children,i,a,t);case bb:c=8,i|=8;break;case Mm:return e=Qn(12,r,t,i|2),e.elementType=Mm,e.lanes=a,e;case Am:return e=Qn(13,r,t,i),e.elementType=Am,e.lanes=a,e;case Cm:return e=Qn(19,r,t,i),e.elementType=Cm,e.lanes=a,e;case nx:return Np(r,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case tx:c=10;break e;case rx:c=9;break e;case wb:c=11;break e;case _b:c=14;break e;case wo:c=16,n=null;break e}throw Error(Ee(130,e==null?e:typeof e,""))}return t=Qn(c,r,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function Bs(e,t,r,n){return e=Qn(7,e,n,t),e.lanes=r,e}function Np(e,t,r,n){return e=Qn(22,e,n,t),e.elementType=nx,e.lanes=r,e.stateNode={isHidden:!1},e}function wv(e,t,r){return e=Qn(6,e,null,t),e.lanes=r,e}function _v(e,t,r){return t=Qn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function eP(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tv(0),this.expirationTimes=tv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tv(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function r2(e,t,r,n,i,a,c,u,d){return e=new eP(e,t,r,u,d),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Qn(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ub(a),e}function tP(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Sc,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function G9(e){if(!e)return zo;e=e._reactInternals;e:{if(Hs(e)!==e||e.tag!==1)throw Error(Ee(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(En(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ee(171))}if(e.tag===1){var r=e.type;if(En(r))return Zx(e,r,t)}return t}function J9(e,t,r,n,i,a,c,u,d){return e=r2(r,n,!0,e,i,a,c,u,d),e.context=G9(null),r=e.current,n=dn(),i=Oo(r),a=Ka(n,i),a.callback=t??null,$o(r,a,i),e.current.lanes=i,Gl(e,i,n),kn(e,n),e}function Pp(e,t,r,n){var i=t.current,a=dn(),c=Oo(i);return r=G9(r),t.context===null?t.context=r:t.pendingContext=r,t=Ka(a,c),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=$o(i,t,c),e!==null&&(Ci(e,i,c,a),Hh(e,i,c)),c}function D0(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function E8(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function n2(e,t){E8(e,t),(e=e.alternate)&&E8(e,t)}function rP(){return null}var Y9=typeof reportError=="function"?reportError:function(e){console.error(e)};function i2(e){this._internalRoot=e}$p.prototype.render=i2.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ee(409));Pp(e,t,null,null)};$p.prototype.unmount=i2.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Os(function(){Pp(null,e,null,null)}),t[Va]=null}};function $p(e){this._internalRoot=e}$p.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ax();e={blockedOn:null,target:e,priority:t};for(var r=0;r<ko.length&&t!==0&&t<ko[r].priority;r++);ko.splice(r,0,e),r===0&&Bx(e)}};function a2(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Lp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function k8(){}function nP(e,t,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var p=D0(c);a.call(p)}}var c=J9(t,n,e,0,null,!1,!1,"",k8);return e._reactRootContainer=c,e[Va]=c.current,Sl(e.nodeType===8?e.parentNode:e),Os(),c}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var u=n;n=function(){var p=D0(d);u.call(p)}}var d=r2(e,0,!1,null,null,!1,!1,"",k8);return e._reactRootContainer=d,e[Va]=d.current,Sl(e.nodeType===8?e.parentNode:e),Os(function(){Pp(t,d,r,n)}),d}function Op(e,t,r,n,i){var a=r._reactRootContainer;if(a){var c=a;if(typeof i=="function"){var u=i;i=function(){var d=D0(c);u.call(d)}}Pp(t,c,e,i)}else c=nP(r,t,e,i,n);return D0(c)}kx=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Vu(t.pendingLanes);r!==0&&(Eb(t,r|1),kn(t,pr()),!(Tt&6)&&(hf=pr()+500,Go()))}break;case 13:Os(function(){var n=Za(e,1);if(n!==null){var i=dn();Ci(n,e,1,i)}}),n2(e,1)}};kb=function(e){if(e.tag===13){var t=Za(e,134217728);if(t!==null){var r=dn();Ci(t,e,134217728,r)}n2(e,134217728)}};Mx=function(e){if(e.tag===13){var t=Oo(e),r=Za(e,t);if(r!==null){var n=dn();Ci(r,e,t,n)}n2(e,t)}};Ax=function(){return Ft};Cx=function(e,t){var r=Ft;try{return Ft=e,t()}finally{Ft=r}};Dm=function(e,t,r){switch(t){case"input":if(Rm(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=Ap(n);if(!i)throw Error(Ee(90));ax(n),Rm(n,i)}}}break;case"textarea":sx(e,r);break;case"select":t=r.value,t!=null&&jc(e,!!r.multiple,t,!1)}};px=Xb;yx=Os;var iP={usingClientEntryPoint:!1,Events:[Yl,Cc,Ap,dx,hx,Xb]},Tu={findFiberByHostInstance:_s,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},aP={bundleType:Tu.bundleType,version:Tu.version,rendererPackageName:Tu.rendererPackageName,rendererConfig:Tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:to.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=gx(e),e===null?null:e.stateNode},findFiberByHostInstance:Tu.findFiberByHostInstance||rP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ih=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ih.isDisabled&&Ih.supportsFiber)try{Sp=Ih.inject(aP),sa=Ih}catch{}}On.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=iP;On.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!a2(t))throw Error(Ee(200));return tP(e,t,null,r)};On.createRoot=function(e,t){if(!a2(e))throw Error(Ee(299));var r=!1,n="",i=Y9;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=r2(e,1,!1,null,null,r,!1,n,i),e[Va]=t.current,Sl(e.nodeType===8?e.parentNode:e),new i2(t)};On.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ee(188)):(e=Object.keys(e).join(","),Error(Ee(268,e)));return e=gx(t),e=e===null?null:e.stateNode,e};On.flushSync=function(e){return Os(e)};On.hydrate=function(e,t,r){if(!Lp(t))throw Error(Ee(200));return Op(null,e,t,!0,r)};On.hydrateRoot=function(e,t,r){if(!a2(e))throw Error(Ee(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",c=Y9;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(c=r.onRecoverableError)),t=J9(t,null,e,1,r??null,i,!1,a,c),e[Va]=t.current,Sl(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new $p(t)};On.render=function(e,t,r){if(!Lp(t))throw Error(Ee(200));return Op(null,e,t,!1,r)};On.unmountComponentAtNode=function(e){if(!Lp(e))throw Error(Ee(40));return e._reactRootContainer?(Os(function(){Op(null,null,e,!1,function(){e._reactRootContainer=null,e[Va]=null})}),!0):!1};On.unstable_batchedUpdates=Xb;On.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Lp(r))throw Error(Ee(200));if(e==null||e._reactInternals===void 0)throw Error(Ee(38));return Op(e,t,r,!1,n)};On.version="18.2.0-next-9e3b772b8-20220608";(function(e){function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(r){console.error(r)}}t(),e.exports=On})(rT);var M8=Sm;xm.createRoot=M8.createRoot,xm.hydrateRoot=M8.hydrateRoot;/**
 * @remix-run/router v1.3.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pt(){return Pt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pt.apply(this,arguments)}var gr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(gr||(gr={}));const A8="popstate";function oP(e){e===void 0&&(e={});function t(n,i){let{pathname:a,search:c,hash:u}=n.location;return Tl("",{pathname:a,search:c,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Ja(i)}return cP(t,r,null,e)}function yt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function sP(){return Math.random().toString(36).substr(2,8)}function C8(e,t){return{usr:e.state,key:e.key,idx:t}}function Tl(e,t,r,n){return r===void 0&&(r=null),Pt({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ro(t):t,{state:r,key:t&&t.key||n||sP()})}function Ja(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ro(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function cP(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,c=i.history,u=gr.Pop,d=null,p=m();p==null&&(p=0,c.replaceState(Pt({},c.state,{idx:p}),""));function m(){return(c.state||{idx:null}).idx}function x(){u=gr.Pop;let U=m(),O=U==null?null:U-p;p=U,d&&d({action:u,location:j.location,delta:O})}function k(U,O){u=gr.Push;let L=Tl(j.location,U,O);r&&r(L,U),p=m()+1;let z=C8(L,p),G=j.createHref(L);try{c.pushState(z,"",G)}catch{i.location.assign(G)}a&&d&&d({action:u,location:j.location,delta:1})}function S(U,O){u=gr.Replace;let L=Tl(j.location,U,O);r&&r(L,U),p=m();let z=C8(L,p),G=j.createHref(L);c.replaceState(z,"",G),a&&d&&d({action:u,location:j.location,delta:0})}function P(U){let O=i.location.origin!=="null"?i.location.origin:i.location.href,L=typeof U=="string"?U:Ja(U);return yt(O,"No window.location.(origin|href) available to create URL for href: "+L),new URL(L,O)}let j={get action(){return u},get location(){return e(i,c)},listen(U){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(A8,x),d=U,()=>{i.removeEventListener(A8,x),d=null}},createHref(U){return t(i,U)},createURL:P,encodeLocation(U){let O=P(U);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:k,replace:S,go(U){return c.go(U)}};return j}var Br;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Br||(Br={}));function fP(e){return e.index===!0}function X9(e,t,r){return t===void 0&&(t=[]),r===void 0&&(r=new Set),e.map((n,i)=>{let a=[...t,i],c=typeof n.id=="string"?n.id:a.join("-");return yt(n.index!==!0||!n.children,"Cannot specify children on an index route"),yt(!r.has(c),'Found a route id collision on id "'+c+`".  Route id's must be globally unique within Data Router usages`),r.add(c),fP(n)?Pt({},n,{id:c}):Pt({},n,{id:c,children:n.children?X9(n.children,a,r):void 0})})}function $c(e,t,r){r===void 0&&(r="/");let n=typeof t=="string"?ro(t):t,i=Ql(n.pathname||"/",r);if(i==null)return null;let a=Q9(e);uP(a);let c=null;for(let u=0;c==null&&u<a.length;++u)c=bP(a[u],xP(i));return c}function Q9(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,c,u)=>{let d={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:c,route:a};d.relativePath.startsWith("/")&&(yt(d.relativePath.startsWith(n),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(n.length));let p=qa([n,d.relativePath]),m=r.concat(d);a.children&&a.children.length>0&&(yt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),Q9(a.children,t,m,p)),!(a.path==null&&!a.index)&&t.push({path:p,score:mP(p,a.index),routesMeta:m})};return e.forEach((a,c)=>{var u;if(a.path===""||!((u=a.path)!=null&&u.includes("?")))i(a,c);else for(let d of e7(a.path))i(a,c,d)}),t}function e7(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let c=e7(n.join("/")),u=[];return u.push(...c.map(d=>d===""?a:[a,d].join("/"))),i&&u.push(...c),u.map(d=>e.startsWith("/")&&d===""?"/":d)}function uP(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:gP(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const lP=/^:\w+$/,dP=3,hP=2,pP=1,yP=10,vP=-2,B8=e=>e==="*";function mP(e,t){let r=e.split("/"),n=r.length;return r.some(B8)&&(n+=vP),t&&(n+=hP),r.filter(i=>!B8(i)).reduce((i,a)=>i+(lP.test(a)?dP:a===""?pP:yP),n)}function gP(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function bP(e,t){let{routesMeta:r}=e,n={},i="/",a=[];for(let c=0;c<r.length;++c){let u=r[c],d=c===r.length-1,p=i==="/"?t:t.slice(i.length)||"/",m=wP({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},p);if(!m)return null;Object.assign(n,m.params);let x=u.route;a.push({params:n,pathname:qa([i,m.pathname]),pathnameBase:MP(qa([i,m.pathnameBase])),route:x}),m.pathnameBase!=="/"&&(i=qa([i,m.pathnameBase]))}return a}function wP(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=_P(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let a=i[0],c=a.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:n.reduce((p,m,x)=>{if(m==="*"){let k=u[x]||"";c=a.slice(0,a.length-k.length).replace(/(.)\/+$/,"$1")}return p[m]=SP(u[x]||"",m),p},{}),pathname:a,pathnameBase:c,pattern:e}}function _P(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Nl(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(c,u)=>(n.push(u),"/([^\\/]+)"));return e.endsWith("*")?(n.push("*"),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function xP(e){try{return decodeURI(e)}catch(t){return Nl(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function SP(e,t){try{return decodeURIComponent(e)}catch(r){return Nl(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+r+").")),e}}function Ql(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function Nl(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function EP(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?ro(e):e;return{pathname:r?r.startsWith("/")?r:kP(r,t):t,search:AP(n),hash:CP(i)}}function kP(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function xv(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Dp(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function o2(e,t,r,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=ro(e):(i=Pt({},e),yt(!i.pathname||!i.pathname.includes("?"),xv("?","pathname","search",i)),yt(!i.pathname||!i.pathname.includes("#"),xv("#","pathname","hash",i)),yt(!i.search||!i.search.includes("#"),xv("#","search","hash",i)));let a=e===""||i.pathname==="",c=a?"/":i.pathname,u;if(n||c==null)u=r;else{let x=t.length-1;if(c.startsWith("..")){let k=c.split("/");for(;k[0]==="..";)k.shift(),x-=1;i.pathname=k.join("/")}u=x>=0?t[x]:"/"}let d=EP(i,u),p=c&&c!=="/"&&c.endsWith("/"),m=(a||c===".")&&r.endsWith("/");return!d.pathname.endsWith("/")&&(p||m)&&(d.pathname+="/"),d}const qa=e=>e.join("/").replace(/\/\/+/g,"/"),MP=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),AP=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,CP=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class I8 extends Error{}class BP{constructor(t,r){this.pendingKeysSet=new Set,this.subscribers=new Set,this.deferredKeys=[],yt(t&&typeof t=="object"&&!Array.isArray(t),"defer() only accepts plain objects");let n;this.abortPromise=new Promise((a,c)=>n=c),this.controller=new AbortController;let i=()=>n(new I8("Deferred data aborted"));this.unlistenAbortSignal=()=>this.controller.signal.removeEventListener("abort",i),this.controller.signal.addEventListener("abort",i),this.data=Object.entries(t).reduce((a,c)=>{let[u,d]=c;return Object.assign(a,{[u]:this.trackPromise(u,d)})},{}),this.done&&this.unlistenAbortSignal(),this.init=r}trackPromise(t,r){if(!(r instanceof Promise))return r;this.deferredKeys.push(t),this.pendingKeysSet.add(t);let n=Promise.race([r,this.abortPromise]).then(i=>this.onSettle(n,t,null,i),i=>this.onSettle(n,t,i));return n.catch(()=>{}),Object.defineProperty(n,"_tracked",{get:()=>!0}),n}onSettle(t,r,n,i){return this.controller.signal.aborted&&n instanceof I8?(this.unlistenAbortSignal(),Object.defineProperty(t,"_error",{get:()=>n}),Promise.reject(n)):(this.pendingKeysSet.delete(r),this.done&&this.unlistenAbortSignal(),n?(Object.defineProperty(t,"_error",{get:()=>n}),this.emit(!1,r),Promise.reject(n)):(Object.defineProperty(t,"_data",{get:()=>i}),this.emit(!1,r),i))}emit(t,r){this.subscribers.forEach(n=>n(t,r))}subscribe(t){return this.subscribers.add(t),()=>this.subscribers.delete(t)}cancel(){this.controller.abort(),this.pendingKeysSet.forEach((t,r)=>this.pendingKeysSet.delete(r)),this.emit(!0)}async resolveData(t){let r=!1;if(!this.done){let n=()=>this.cancel();t.addEventListener("abort",n),r=await new Promise(i=>{this.subscribe(a=>{t.removeEventListener("abort",n),(a||this.done)&&i(a)})})}return r}get done(){return this.pendingKeysSet.size===0}get unwrappedData(){return yt(this.data!==null&&this.done,"Can only unwrap data on initialized and settled deferreds"),Object.entries(this.data).reduce((t,r)=>{let[n,i]=r;return Object.assign(t,{[n]:RP(i)})},{})}get pendingKeys(){return Array.from(this.pendingKeysSet)}}function IP(e){return e instanceof Promise&&e._tracked===!0}function RP(e){if(!IP(e))return e;if(e._error)throw e._error;return e._data}class s2{constructor(t,r,n,i){i===void 0&&(i=!1),this.status=t,this.statusText=r||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function t7(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const r7=["post","put","patch","delete"],TP=new Set(r7),NP=["get",...r7],PP=new Set(NP),$P=new Set([301,302,303,307,308]),LP=new Set([307,308]),Sv={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},OP={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},R8={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},n7=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,i7=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",DP=!i7;function UP(e){yt(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let t=X9(e.routes),r,n=null,i=new Set,a=null,c=null,u=null,d=e.hydrationData!=null,p=$c(t,e.history.location,e.basename),m=null;if(p==null){let ae=Pa(404,{pathname:e.history.location.pathname}),{matches:te,route:le}=O8(t);p=te,m={[le.id]:ae}}let x=!p.some(ae=>ae.route.loader)||e.hydrationData!=null,k,S={historyAction:e.history.action,location:e.history.location,matches:p,initialized:x,navigation:Sv,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||m,fetchers:new Map,blockers:new Map},P=gr.Pop,j=!1,U,O=!1,L=!1,z=[],G=[],J=new Map,ne=0,ie=-1,re=new Map,ce=new Set,Se=new Map,W=new Map,_=new Map,w=!1;function h(){return n=e.history.listen(ae=>{let{action:te,location:le,delta:ke}=ae;if(w){w=!1;return}Nl(_.size===0||ke!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let be=ee({currentLocation:S.location,nextLocation:le,historyAction:te});if(be&&ke!=null){w=!0,e.history.go(ke*-1),D(be,{state:"blocked",location:le,proceed(){D(be,{state:"proceeding",proceed:void 0,reset:void 0,location:le}),e.history.go(ke)},reset(){R(be),N({blockers:new Map(k.state.blockers)})}});return}return A(te,le)}),S.initialized||A(gr.Pop,S.location),k}function g(){n&&n(),i.clear(),U&&U.abort(),S.fetchers.forEach((ae,te)=>q(te)),S.blockers.forEach((ae,te)=>R(te))}function M(ae){return i.add(ae),()=>i.delete(ae)}function N(ae){S=Pt({},S,ae),i.forEach(te=>te(S))}function T(ae,te){var le,ke;let be=S.actionData!=null&&S.navigation.formMethod!=null&&La(S.navigation.formMethod)&&S.navigation.state==="loading"&&((le=ae.state)==null?void 0:le._isRedirect)!==!0,De;te.actionData?Object.keys(te.actionData).length>0?De=te.actionData:De=null:be?De=S.actionData:De=null;let Re=te.loaderData?L8(S.loaderData,te.loaderData,te.matches||[],te.errors):S.loaderData;for(let[Me]of _)R(Me);let Ce=j===!0||S.navigation.formMethod!=null&&La(S.navigation.formMethod)&&((ke=ae.state)==null?void 0:ke._isRedirect)!==!0;r&&(t=r,r=void 0),N(Pt({},te,{actionData:De,loaderData:Re,historyAction:P,location:ae,initialized:!0,navigation:Sv,revalidation:"idle",restoreScrollPosition:Ae(ae,te.matches||S.matches),preventScrollReset:Ce,blockers:new Map(S.blockers)})),O||P===gr.Pop||(P===gr.Push?e.history.push(ae,ae.state):P===gr.Replace&&e.history.replace(ae,ae.state)),P=gr.Pop,j=!1,O=!1,L=!1,z=[],G=[]}async function B(ae,te){if(typeof ae=="number"){e.history.go(ae);return}let{path:le,submission:ke,error:be}=T8(ae,te),De=S.location,Re=Tl(S.location,le,te&&te.state);Re=Pt({},Re,e.history.encodeLocation(Re));let Ce=te&&te.replace!=null?te.replace:void 0,Me=gr.Push;Ce===!0?Me=gr.Replace:Ce===!1||ke!=null&&La(ke.formMethod)&&ke.formAction===S.location.pathname+S.location.search&&(Me=gr.Replace);let ot=te&&"preventScrollReset"in te?te.preventScrollReset===!0:void 0,Be=ee({currentLocation:De,nextLocation:Re,historyAction:Me});if(Be){D(Be,{state:"blocked",location:Re,proceed(){D(Be,{state:"proceeding",proceed:void 0,reset:void 0,location:Re}),B(ae,te)},reset(){R(Be),N({blockers:new Map(S.blockers)})}});return}return await A(Me,Re,{submission:ke,pendingError:be,preventScrollReset:ot,replace:te&&te.replace})}function b(){if(xe(),N({revalidation:"loading"}),S.navigation.state!=="submitting"){if(S.navigation.state==="idle"){A(S.historyAction,S.location,{startUninterruptedRevalidation:!0});return}A(P||S.historyAction,S.navigation.location,{overrideNavigation:S.navigation})}}async function A(ae,te,le){U&&U.abort(),U=null,P=ae,O=(le&&le.startUninterruptedRevalidation)===!0,Ue(S.location,S.matches),j=(le&&le.preventScrollReset)===!0;let ke=r||t,be=le&&le.overrideNavigation,De=$c(ke,te,e.basename);if(!De){let nt=Pa(404,{pathname:te.pathname}),{matches:Ve,route:wt}=O8(ke);fe(),T(te,{matches:Ve,loaderData:{},errors:{[wt.id]:nt}});return}if(qP(S.location,te)&&!(le&&le.submission&&La(le.submission.formMethod))){T(te,{matches:De});return}U=new AbortController;let Re=Pu(e.history,te,U.signal,le&&le.submission),Ce,Me;if(le&&le.pendingError)Me={[Lc(De).route.id]:le.pendingError};else if(le&&le.submission&&La(le.submission.formMethod)){let nt=await y(Re,te,le.submission,De,{replace:le.replace});if(nt.shortCircuited)return;Ce=nt.pendingActionData,Me=nt.pendingActionError,be=Pt({state:"loading",location:te},le.submission),Re=new Request(Re.url,{signal:Re.signal})}let{shortCircuited:ot,loaderData:Be,errors:ht}=await I(Re,te,De,be,le&&le.submission,le&&le.replace,Ce,Me);ot||(U=null,T(te,Pt({matches:De},Ce?{actionData:Ce}:{},{loaderData:Be,errors:ht})))}async function y(ae,te,le,ke,be){xe();let De=Pt({state:"submitting",location:te},le);N({navigation:De});let Re,Ce=mg(ke,te);if(!Ce.route.action)Re={type:Br.error,error:Pa(405,{method:ae.method,pathname:te.pathname,routeId:Ce.route.id})};else if(Re=await Nu("action",ae,Ce,ke,k.basename),ae.signal.aborted)return{shortCircuited:!0};if(Wc(Re)){let Me;return be&&be.replace!=null?Me=be.replace:Me=Re.location===S.location.pathname+S.location.search,await se(S,Re,{submission:le,replace:Me}),{shortCircuited:!0}}if(cl(Re)){let Me=Lc(ke,Ce.route.id);return(be&&be.replace)!==!0&&(P=gr.Push),{pendingActionData:{},pendingActionError:{[Me.route.id]:Re.error}}}if(Es(Re))throw Pa(400,{type:"defer-action"});return{pendingActionData:{[Ce.route.id]:Re.data}}}async function I(ae,te,le,ke,be,De,Re,Ce){let Me=ke;Me||(Me=Pt({state:"loading",location:te,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},be));let ot=be||(Me.formMethod&&Me.formAction&&Me.formData&&Me.formEncType?{formMethod:Me.formMethod,formAction:Me.formAction,formData:Me.formData,formEncType:Me.formEncType}:void 0),Be=r||t,[ht,nt]=N8(e.history,S,le,ot,te,L,z,G,Se,Be,e.basename,Re,Ce);if(fe(st=>!(le&&le.some(gt=>gt.route.id===st))||ht&&ht.some(gt=>gt.route.id===st)),ht.length===0&&nt.length===0)return T(te,Pt({matches:le,loaderData:{},errors:Ce||null},Re?{actionData:Re}:{})),{shortCircuited:!0};if(!O){nt.forEach(gt=>{let Ye=S.fetchers.get(gt.key),Lt={state:"loading",data:Ye&&Ye.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};S.fetchers.set(gt.key,Lt)});let st=Re||S.actionData;N(Pt({navigation:Me},st?Object.keys(st).length===0?{actionData:null}:{actionData:st}:{},nt.length>0?{fetchers:new Map(S.fetchers)}:{}))}ie=++ne,nt.forEach(st=>J.set(st.key,U));let{results:Ve,loaderResults:wt,fetcherResults:Bt}=await de(S.matches,le,ht,nt,ae);if(ae.signal.aborted)return{shortCircuited:!0};nt.forEach(st=>J.delete(st.key));let Je=D8(Ve);if(Je)return await se(S,Je,{replace:De}),{shortCircuited:!0};let{loaderData:Ot,errors:At}=$8(S,le,ht,wt,Ce,nt,Bt,W);W.forEach((st,gt)=>{st.subscribe(Ye=>{(Ye||st.done)&&W.delete(gt)})}),Ne();let it=K(ie);return Pt({loaderData:Ot,errors:At},it||nt.length>0?{fetchers:new Map(S.fetchers)}:{})}function Q(ae){return S.fetchers.get(ae)||OP}function ue(ae,te,le,ke){if(DP)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");J.has(ae)&&he(ae);let De=$c(r||t,le,e.basename);if(!De){H(ae,te,Pa(404,{pathname:le}));return}let{path:Re,submission:Ce}=T8(le,ke,!0),Me=mg(De,Re);if(j=(ke&&ke.preventScrollReset)===!0,Ce&&La(Ce.formMethod)){Z(ae,te,Re,Me,De,Ce);return}Se.set(ae,{routeId:te,path:Re}),Y(ae,te,Re,Me,De,Ce)}async function Z(ae,te,le,ke,be,De){if(xe(),Se.delete(ae),!ke.route.action){let _t=Pa(405,{method:De.formMethod,pathname:le,routeId:te});H(ae,te,_t);return}let Re=S.fetchers.get(ae),Ce=Pt({state:"submitting"},De,{data:Re&&Re.data," _hasFetcherDoneAnything ":!0});S.fetchers.set(ae,Ce),N({fetchers:new Map(S.fetchers)});let Me=new AbortController,ot=Pu(e.history,le,Me.signal,De);J.set(ae,Me);let Be=await Nu("action",ot,ke,be,k.basename);if(ot.signal.aborted){J.get(ae)===Me&&J.delete(ae);return}if(Wc(Be)){J.delete(ae),ce.add(ae);let _t=Pt({state:"loading"},De,{data:void 0," _hasFetcherDoneAnything ":!0});return S.fetchers.set(ae,_t),N({fetchers:new Map(S.fetchers)}),se(S,Be,{isFetchActionRedirect:!0})}if(cl(Be)){H(ae,te,Be.error);return}if(Es(Be))throw Pa(400,{type:"defer-action"});let ht=S.navigation.location||S.location,nt=Pu(e.history,ht,Me.signal),Ve=r||t,wt=S.navigation.state!=="idle"?$c(Ve,S.navigation.location,e.basename):S.matches;yt(wt,"Didn't find any matches after fetcher action");let Bt=++ne;re.set(ae,Bt);let Je=Pt({state:"loading",data:Be.data},De,{" _hasFetcherDoneAnything ":!0});S.fetchers.set(ae,Je);let[Ot,At]=N8(e.history,S,wt,De,ht,L,z,G,Se,Ve,e.basename,{[ke.route.id]:Be.data},void 0);At.filter(_t=>_t.key!==ae).forEach(_t=>{let tt=_t.key,Dt=S.fetchers.get(tt),Kt={state:"loading",data:Dt&&Dt.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};S.fetchers.set(tt,Kt),J.set(tt,Me)}),N({fetchers:new Map(S.fetchers)});let{results:it,loaderResults:st,fetcherResults:gt}=await de(S.matches,wt,Ot,At,nt);if(Me.signal.aborted)return;re.delete(ae),J.delete(ae),At.forEach(_t=>J.delete(_t.key));let Ye=D8(it);if(Ye)return se(S,Ye);let{loaderData:Lt,errors:vt}=$8(S,S.matches,Ot,st,void 0,At,gt,W),Ge={state:"idle",data:Be.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};S.fetchers.set(ae,Ge);let zt=K(Bt);S.navigation.state==="loading"&&Bt>ie?(yt(P,"Expected pending action"),U&&U.abort(),T(S.navigation.location,{matches:wt,loaderData:Lt,errors:vt,fetchers:new Map(S.fetchers)})):(N(Pt({errors:vt,loaderData:L8(S.loaderData,Lt,wt,vt)},zt?{fetchers:new Map(S.fetchers)}:{})),L=!1)}async function Y(ae,te,le,ke,be,De){let Re=S.fetchers.get(ae),Ce=Pt({state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},De,{data:Re&&Re.data," _hasFetcherDoneAnything ":!0});S.fetchers.set(ae,Ce),N({fetchers:new Map(S.fetchers)});let Me=new AbortController,ot=Pu(e.history,le,Me.signal);J.set(ae,Me);let Be=await Nu("loader",ot,ke,be,k.basename);if(Es(Be)&&(Be=await c7(Be,ot.signal,!0)||Be),J.get(ae)===Me&&J.delete(ae),ot.signal.aborted)return;if(Wc(Be)){await se(S,Be);return}if(cl(Be)){let nt=Lc(S.matches,te);S.fetchers.delete(ae),N({fetchers:new Map(S.fetchers),errors:{[nt.route.id]:Be.error}});return}yt(!Es(Be),"Unhandled fetcher deferred data");let ht={state:"idle",data:Be.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};S.fetchers.set(ae,ht),N({fetchers:new Map(S.fetchers)})}async function se(ae,te,le){var ke;let{submission:be,replace:De,isFetchActionRedirect:Re}=le===void 0?{}:le;te.revalidate&&(L=!0);let Ce=Tl(ae.location,te.location,Pt({_isRedirect:!0},Re?{_isFetchActionRedirect:!0}:{}));if(yt(Ce,"Expected a location on the redirect navigation"),n7.test(te.location)&&i7&&typeof((ke=window)==null?void 0:ke.location)<"u"){let Ve=e.history.createURL(te.location),wt=Ql(Ve.pathname,e.basename||"/")==null;if(window.location.origin!==Ve.origin||wt){De?window.location.replace(te.location):window.location.assign(te.location);return}}U=null;let Me=De===!0?gr.Replace:gr.Push,{formMethod:ot,formAction:Be,formEncType:ht,formData:nt}=ae.navigation;!be&&ot&&Be&&nt&&ht&&(be={formMethod:ot,formAction:Be,formEncType:ht,formData:nt}),LP.has(te.status)&&be&&La(be.formMethod)?await A(Me,Ce,{submission:Pt({},be,{formAction:te.location}),preventScrollReset:j}):await A(Me,Ce,{overrideNavigation:{state:"loading",location:Ce,formMethod:be?be.formMethod:void 0,formAction:be?be.formAction:void 0,formEncType:be?be.formEncType:void 0,formData:be?be.formData:void 0},preventScrollReset:j})}async function de(ae,te,le,ke,be){let De=await Promise.all([...le.map(Me=>Nu("loader",be,Me,te,k.basename)),...ke.map(Me=>Me.matches&&Me.match?Nu("loader",Pu(e.history,Me.path,be.signal),Me.match,Me.matches,k.basename):{type:Br.error,error:Pa(404,{pathname:Me.path})})]),Re=De.slice(0,le.length),Ce=De.slice(le.length);return await Promise.all([U8(ae,le,Re,be.signal,!1,S.loaderData),U8(ae,ke.map(Me=>Me.match),Ce,be.signal,!0)]),{results:De,loaderResults:Re,fetcherResults:Ce}}function xe(){L=!0,z.push(...fe()),Se.forEach((ae,te)=>{J.has(te)&&(G.push(te),he(te))})}function H(ae,te,le){let ke=Lc(S.matches,te);q(ae),N({errors:{[ke.route.id]:le},fetchers:new Map(S.fetchers)})}function q(ae){J.has(ae)&&he(ae),Se.delete(ae),re.delete(ae),ce.delete(ae),S.fetchers.delete(ae)}function he(ae){let te=J.get(ae);yt(te,"Expected fetch controller: "+ae),te.abort(),J.delete(ae)}function ge(ae){for(let te of ae){let ke={state:"idle",data:Q(te).data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};S.fetchers.set(te,ke)}}function Ne(){let ae=[];for(let te of ce){let le=S.fetchers.get(te);yt(le,"Expected fetcher: "+te),le.state==="loading"&&(ce.delete(te),ae.push(te))}ge(ae)}function K(ae){let te=[];for(let[le,ke]of re)if(ke<ae){let be=S.fetchers.get(le);yt(be,"Expected fetcher: "+le),be.state==="loading"&&(he(le),re.delete(le),te.push(le))}return ge(te),te.length>0}function C(ae,te){let le=S.blockers.get(ae)||R8;return _.get(ae)!==te&&_.set(ae,te),le}function R(ae){S.blockers.delete(ae),_.delete(ae)}function D(ae,te){let le=S.blockers.get(ae)||R8;yt(le.state==="unblocked"&&te.state==="blocked"||le.state==="blocked"&&te.state==="blocked"||le.state==="blocked"&&te.state==="proceeding"||le.state==="blocked"&&te.state==="unblocked"||le.state==="proceeding"&&te.state==="unblocked","Invalid blocker state transition: "+le.state+" -> "+te.state),S.blockers.set(ae,te),N({blockers:new Map(S.blockers)})}function ee(ae){let{currentLocation:te,nextLocation:le,historyAction:ke}=ae;if(_.size===0)return;_.size>1&&Nl(!1,"A router only supports one blocker at a time");let be=Array.from(_.entries()),[De,Re]=be[be.length-1],Ce=S.blockers.get(De);if(!(Ce&&Ce.state==="proceeding")&&Re({currentLocation:te,nextLocation:le,historyAction:ke}))return De}function fe(ae){let te=[];return W.forEach((le,ke)=>{(!ae||ae(ke))&&(le.cancel(),te.push(ke),W.delete(ke))}),te}function pe(ae,te,le){if(a=ae,u=te,c=le||(ke=>ke.key),!d&&S.navigation===Sv){d=!0;let ke=Ae(S.location,S.matches);ke!=null&&N({restoreScrollPosition:ke})}return()=>{a=null,u=null,c=null}}function Ue(ae,te){if(a&&c&&u){let le=te.map(be=>j8(be,S.loaderData)),ke=c(ae,le)||ae.key;a[ke]=u()}}function Ae(ae,te){if(a&&c&&u){let le=te.map(De=>j8(De,S.loaderData)),ke=c(ae,le)||ae.key,be=a[ke];if(typeof be=="number")return be}return null}function qe(ae){r=ae}return k={get basename(){return e.basename},get state(){return S},get routes(){return t},initialize:h,subscribe:M,enableScrollRestoration:pe,navigate:B,fetch:ue,revalidate:b,createHref:ae=>e.history.createHref(ae),encodeLocation:ae=>e.history.encodeLocation(ae),getFetcher:Q,deleteFetcher:q,dispose:g,getBlocker:C,deleteBlocker:R,_internalFetchControllers:J,_internalActiveDeferreds:W,_internalSetRoutes:qe},k}function jP(e){return e!=null&&"formData"in e}function T8(e,t,r){r===void 0&&(r=!1);let n=typeof e=="string"?e:Ja(e);if(!t||!jP(t))return{path:n};if(t.formMethod&&!WP(t.formMethod))return{path:n,error:Pa(405,{method:t.formMethod})};let i;if(t.formData&&(i={formMethod:t.formMethod||"get",formAction:s7(n),formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:t.formData},La(i.formMethod)))return{path:n,submission:i};let a=ro(n),c=o7(t.formData);return r&&a.search&&f7(a.search)&&c.append("index",""),a.search="?"+c,{path:Ja(a),submission:i}}function FP(e,t){let r=e;if(t){let n=e.findIndex(i=>i.route.id===t);n>=0&&(r=e.slice(0,n))}return r}function N8(e,t,r,n,i,a,c,u,d,p,m,x,k){let S=k?Object.values(k)[0]:x?Object.values(x)[0]:void 0,P=e.createURL(t.location),j=e.createURL(i),U=a||P.toString()===j.toString()||P.search!==j.search,O=k?Object.keys(k)[0]:void 0,z=FP(r,O).filter((J,ne)=>{if(J.route.loader==null)return!1;if(zP(t.loaderData,t.matches[ne],J)||c.some(ce=>ce===J.route.id))return!0;let ie=t.matches[ne],re=J;return P8(J,Pt({currentUrl:P,currentParams:ie.params,nextUrl:j,nextParams:re.params},n,{actionResult:S,defaultShouldRevalidate:U||a7(ie,re)}))}),G=[];return d.forEach((J,ne)=>{if(!r.some(Se=>Se.route.id===J.routeId))return;let ie=$c(p,J.path,m);if(!ie){G.push(Pt({key:ne},J,{matches:null,match:null}));return}let re=mg(ie,J.path);if(u.includes(ne)){G.push(Pt({key:ne,matches:ie,match:re},J));return}P8(re,Pt({currentUrl:P,currentParams:t.matches[t.matches.length-1].params,nextUrl:j,nextParams:r[r.length-1].params},n,{actionResult:S,defaultShouldRevalidate:U}))&&G.push(Pt({key:ne,matches:ie,match:re},J))}),[z,G]}function zP(e,t,r){let n=!t||r.route.id!==t.route.id,i=e[r.route.id]===void 0;return n||i}function a7(e,t){let r=e.route.path;return e.pathname!==t.pathname||r!=null&&r.endsWith("*")&&e.params["*"]!==t.params["*"]}function P8(e,t){if(e.route.shouldRevalidate){let r=e.route.shouldRevalidate(t);if(typeof r=="boolean")return r}return t.defaultShouldRevalidate}async function Nu(e,t,r,n,i,a,c,u){i===void 0&&(i="/"),a===void 0&&(a=!1),c===void 0&&(c=!1);let d,p,m,x=new Promise((j,U)=>m=U),k=()=>m();t.signal.addEventListener("abort",k);try{let j=r.route[e];yt(j,"Could not find the "+e+' to run on the "'+r.route.id+'" route'),p=await Promise.race([j({request:t,params:r.params,context:u}),x]),yt(p!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+r.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(j){d=Br.error,p=j}finally{t.signal.removeEventListener("abort",k)}if(HP(p)){let j=p.status;if($P.has(j)){let L=p.headers.get("Location");if(yt(L,"Redirects returned/thrown from loaders/actions must have a Location header"),n7.test(L)){if(!a){let z=new URL(t.url),G=L.startsWith("//")?new URL(z.protocol+L):new URL(L),J=Ql(G.pathname,i)!=null;G.origin===z.origin&&J&&(L=G.pathname+G.search+G.hash)}}else{let z=n.slice(0,n.indexOf(r)+1),G=Dp(z).map(ne=>ne.pathnameBase),J=o2(L,G,new URL(t.url).pathname);if(yt(Ja(J),"Unable to resolve redirect location: "+L),i){let ne=J.pathname;J.pathname=ne==="/"?i:qa([i,ne])}L=Ja(J)}if(a)throw p.headers.set("Location",L),p;return{type:Br.redirect,status:j,location:L,revalidate:p.headers.get("X-Remix-Revalidate")!==null}}if(c)throw{type:d||Br.data,response:p};let U,O=p.headers.get("Content-Type");return O&&/\bapplication\/json\b/.test(O)?U=await p.json():U=await p.text(),d===Br.error?{type:d,error:new s2(j,p.statusText,U),headers:p.headers}:{type:Br.data,data:U,statusCode:p.status,headers:p.headers}}if(d===Br.error)return{type:d,error:p};if(p instanceof BP){var S,P;return{type:Br.deferred,deferredData:p,statusCode:(S=p.init)==null?void 0:S.status,headers:((P=p.init)==null?void 0:P.headers)&&new Headers(p.init.headers)}}return{type:Br.data,data:p}}function Pu(e,t,r,n){let i=e.createURL(s7(t)).toString(),a={signal:r};if(n&&La(n.formMethod)){let{formMethod:c,formEncType:u,formData:d}=n;a.method=c.toUpperCase(),a.body=u==="application/x-www-form-urlencoded"?o7(d):d}return new Request(i,a)}function o7(e){let t=new URLSearchParams;for(let[r,n]of e.entries())t.append(r,n instanceof File?n.name:n);return t}function KP(e,t,r,n,i){let a={},c=null,u,d=!1,p={};return r.forEach((m,x)=>{let k=t[x].route.id;if(yt(!Wc(m),"Cannot handle redirect results in processLoaderData"),cl(m)){let S=Lc(e,k),P=m.error;n&&(P=Object.values(n)[0],n=void 0),c=c||{},c[S.route.id]==null&&(c[S.route.id]=P),a[k]=void 0,d||(d=!0,u=t7(m.error)?m.error.status:500),m.headers&&(p[k]=m.headers)}else Es(m)?(i.set(k,m.deferredData),a[k]=m.deferredData.data):a[k]=m.data,m.statusCode!=null&&m.statusCode!==200&&!d&&(u=m.statusCode),m.headers&&(p[k]=m.headers)}),n&&(c=n,a[Object.keys(n)[0]]=void 0),{loaderData:a,errors:c,statusCode:u||200,loaderHeaders:p}}function $8(e,t,r,n,i,a,c,u){let{loaderData:d,errors:p}=KP(t,r,n,i,u);for(let m=0;m<a.length;m++){let{key:x,match:k}=a[m];yt(c!==void 0&&c[m]!==void 0,"Did not find corresponding fetcher result");let S=c[m];if(cl(S)){let P=Lc(e.matches,k==null?void 0:k.route.id);p&&p[P.route.id]||(p=Pt({},p,{[P.route.id]:S.error})),e.fetchers.delete(x)}else if(Wc(S))yt(!1,"Unhandled fetcher revalidation redirect");else if(Es(S))yt(!1,"Unhandled fetcher deferred data");else{let P={state:"idle",data:S.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};e.fetchers.set(x,P)}}return{loaderData:d,errors:p}}function L8(e,t,r,n){let i=Pt({},t);for(let a of r){let c=a.route.id;if(t.hasOwnProperty(c)?t[c]!==void 0&&(i[c]=t[c]):e[c]!==void 0&&a.route.loader&&(i[c]=e[c]),n&&n.hasOwnProperty(c))break}return i}function Lc(e,t){return(t?e.slice(0,e.findIndex(n=>n.route.id===t)+1):[...e]).reverse().find(n=>n.route.hasErrorBoundary===!0)||e[0]}function O8(e){let t=e.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Pa(e,t){let{pathname:r,routeId:n,method:i,type:a}=t===void 0?{}:t,c="Unknown Server Error",u="Unknown @remix-run/router error";return e===400?(c="Bad Request",i&&r&&n?u="You made a "+i+' request to "'+r+'" but '+('did not provide a `loader` for route "'+n+'", ')+"so there is no way to handle the request.":a==="defer-action"&&(u="defer() is not supported in actions")):e===403?(c="Forbidden",u='Route "'+n+'" does not match URL "'+r+'"'):e===404?(c="Not Found",u='No route matches URL "'+r+'"'):e===405&&(c="Method Not Allowed",i&&r&&n?u="You made a "+i.toUpperCase()+' request to "'+r+'" but '+('did not provide an `action` for route "'+n+'", ')+"so there is no way to handle the request.":i&&(u='Invalid request method "'+i.toUpperCase()+'"')),new s2(e||500,c,new Error(u),!0)}function D8(e){for(let t=e.length-1;t>=0;t--){let r=e[t];if(Wc(r))return r}}function s7(e){let t=typeof e=="string"?ro(e):e;return Ja(Pt({},t,{hash:""}))}function qP(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash!==t.hash}function Es(e){return e.type===Br.deferred}function cl(e){return e.type===Br.error}function Wc(e){return(e&&e.type)===Br.redirect}function HP(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function WP(e){return PP.has(e)}function La(e){return TP.has(e)}async function U8(e,t,r,n,i,a){for(let c=0;c<r.length;c++){let u=r[c],d=t[c];if(!d)continue;let p=e.find(x=>x.route.id===d.route.id),m=p!=null&&!a7(p,d)&&(a&&a[d.route.id])!==void 0;Es(u)&&(i||m)&&await c7(u,n,i).then(x=>{x&&(r[c]=x||r[c])})}}async function c7(e,t,r){if(r===void 0&&(r=!1),!await e.deferredData.resolveData(t)){if(r)try{return{type:Br.data,data:e.deferredData.unwrappedData}}catch(i){return{type:Br.error,error:i}}return{type:Br.data,data:e.deferredData.data}}}function f7(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function j8(e,t){let{route:r,pathname:n,params:i}=e;return{id:r.id,pathname:n,params:i,data:t[r.id],handle:r.handle}}function mg(e,t){let r=typeof t=="string"?ro(t).search:t.search;if(e[e.length-1].route.index&&f7(r||""))return e[e.length-1];let n=Dp(e);return n[n.length-1]}/**
 * React Router v6.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function U0(){return U0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},U0.apply(this,arguments)}function VP(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}const ZP=typeof Object.is=="function"?Object.is:VP,{useState:GP,useEffect:JP,useLayoutEffect:YP,useDebugValue:XP}=_m;function QP(e,t,r){const n=t(),[{inst:i},a]=GP({inst:{value:n,getSnapshot:t}});return YP(()=>{i.value=n,i.getSnapshot=t,Ev(i)&&a({inst:i})},[e,n,t]),JP(()=>(Ev(i)&&a({inst:i}),e(()=>{Ev(i)&&a({inst:i})})),[e]),XP(n),n}function Ev(e){const t=e.getSnapshot,r=e.value;try{const n=t();return!ZP(r,n)}catch{return!0}}function e$(e,t,r){return t()}const t$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",r$=!t$,n$=r$?e$:QP,i$="useSyncExternalStore"in _m?(e=>e.useSyncExternalStore)(_m):n$,Up=$e.createContext(null),c2=$e.createContext(null),ed=$e.createContext(null),jp=$e.createContext(null),Jo=$e.createContext({outlet:null,matches:[]}),u7=$e.createContext(null);function a$(e,t){let{relative:r}=t===void 0?{}:t;td()||yt(!1);let{basename:n,navigator:i}=$e.useContext(ed),{hash:a,pathname:c,search:u}=d7(e,{relative:r}),d=c;return n!=="/"&&(d=c==="/"?n:qa([n,c])),i.createHref({pathname:d,search:u,hash:a})}function td(){return $e.useContext(jp)!=null}function Fp(){return td()||yt(!1),$e.useContext(jp).location}function l7(){td()||yt(!1);let{basename:e,navigator:t}=$e.useContext(ed),{matches:r}=$e.useContext(Jo),{pathname:n}=Fp(),i=JSON.stringify(Dp(r).map(u=>u.pathnameBase)),a=$e.useRef(!1);return $e.useEffect(()=>{a.current=!0}),$e.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){t.go(u);return}let p=o2(u,JSON.parse(i),n,d.relative==="path");e!=="/"&&(p.pathname=p.pathname==="/"?e:qa([e,p.pathname])),(d.replace?t.replace:t.push)(p,d.state,d)},[e,t,i,n])}const o$=$e.createContext(null);function s$(e){let t=$e.useContext(Jo).outlet;return t&&$e.createElement(o$.Provider,{value:e},t)}function c$(){let{matches:e}=$e.useContext(Jo),t=e[e.length-1];return t?t.params:{}}function d7(e,t){let{relative:r}=t===void 0?{}:t,{matches:n}=$e.useContext(Jo),{pathname:i}=Fp(),a=JSON.stringify(Dp(n).map(c=>c.pathnameBase));return $e.useMemo(()=>o2(e,JSON.parse(a),i,r==="path"),[e,a,i,r])}function f$(e,t){td()||yt(!1);let{navigator:r}=$e.useContext(ed),n=$e.useContext(c2),{matches:i}=$e.useContext(Jo),a=i[i.length-1],c=a?a.params:{};a&&a.pathname;let u=a?a.pathnameBase:"/";a&&a.route;let d=Fp(),p;if(t){var m;let j=typeof t=="string"?ro(t):t;u==="/"||(m=j.pathname)!=null&&m.startsWith(u)||yt(!1),p=j}else p=d;let x=p.pathname||"/",k=u==="/"?x:x.slice(u.length)||"/",S=$c(e,{pathname:k}),P=h$(S&&S.map(j=>Object.assign({},j,{params:Object.assign({},c,j.params),pathname:qa([u,r.encodeLocation?r.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?u:qa([u,r.encodeLocation?r.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),i,n||void 0);return t&&P?$e.createElement(jp.Provider,{value:{location:U0({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:gr.Pop}},P):P}function u$(){let e=v$(),t=t7(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},a=null;return $e.createElement($e.Fragment,null,$e.createElement("h2",null,"Unexpected Application Error!"),$e.createElement("h3",{style:{fontStyle:"italic"}},t),r?$e.createElement("pre",{style:i},r):null,a)}class l$ extends $e.Component{constructor(t){super(t),this.state={location:t.location,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location?{error:t.error,location:t.location}:{error:t.error||r.error,location:r.location}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error?$e.createElement(Jo.Provider,{value:this.props.routeContext},$e.createElement(u7.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function d$(e){let{routeContext:t,match:r,children:n}=e,i=$e.useContext(Up);return i&&i.static&&i.staticContext&&r.route.errorElement&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),$e.createElement(Jo.Provider,{value:t},n)}function h$(e,t,r){if(t===void 0&&(t=[]),e==null)if(r!=null&&r.errors)e=r.matches;else return null;let n=e,i=r==null?void 0:r.errors;if(i!=null){let a=n.findIndex(c=>c.route.id&&(i==null?void 0:i[c.route.id]));a>=0||yt(!1),n=n.slice(0,Math.min(n.length,a+1))}return n.reduceRight((a,c,u)=>{let d=c.route.id?i==null?void 0:i[c.route.id]:null,p=r?c.route.errorElement||$e.createElement(u$,null):null,m=t.concat(n.slice(0,u+1)),x=()=>$e.createElement(d$,{match:c,routeContext:{outlet:a,matches:m}},d?p:c.route.element!==void 0?c.route.element:a);return r&&(c.route.errorElement||u===0)?$e.createElement(l$,{location:r.location,component:p,error:d,children:x(),routeContext:{outlet:null,matches:m}}):x()},null)}var gg;(function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator"})(gg||(gg={}));var Ds;(function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"})(Ds||(Ds={}));function p$(e){let t=$e.useContext(Up);return t||yt(!1),t}function f2(e){let t=$e.useContext(c2);return t||yt(!1),t}function y$(e){let t=$e.useContext(Jo);return t||yt(!1),t}function h7(e){let t=y$(),r=t.matches[t.matches.length-1];return r.route.id||yt(!1),r.route.id}function p7(){let e=p$(gg.UseRevalidator),t=f2(Ds.UseRevalidator);return{revalidate:e.router.revalidate,state:t.revalidation}}function y7(){let e=f2(Ds.UseLoaderData),t=h7(Ds.UseLoaderData);if(e.errors&&e.errors[t]!=null){console.error("You cannot `useLoaderData` in an errorElement (routeId: "+t+")");return}return e.loaderData[t]}function v$(){var e;let t=$e.useContext(u7),r=f2(Ds.UseRouteError),n=h7(Ds.UseRouteError);return t||((e=r.errors)==null?void 0:e[n])}function m$(e){let{fallbackElement:t,router:r}=e,n=i$(r.subscribe,()=>r.state,()=>r.state),i=$e.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:c=>r.navigate(c),push:(c,u,d)=>r.navigate(c,{state:u,preventScrollReset:d==null?void 0:d.preventScrollReset}),replace:(c,u,d)=>r.navigate(c,{replace:!0,state:u,preventScrollReset:d==null?void 0:d.preventScrollReset})}),[r]),a=r.basename||"/";return $e.createElement($e.Fragment,null,$e.createElement(Up.Provider,{value:{router:r,navigator:i,static:!1,basename:a}},$e.createElement(c2.Provider,{value:n},$e.createElement(b$,{basename:r.basename,location:r.state.location,navigationType:r.state.historyAction,navigator:i},r.state.initialized?$e.createElement(w$,null):t))),null)}function g$(e){return s$(e.context)}function wc(e){yt(!1)}function b$(e){let{basename:t="/",children:r=null,location:n,navigationType:i=gr.Pop,navigator:a,static:c=!1}=e;td()&&yt(!1);let u=t.replace(/^\/*/,"/"),d=$e.useMemo(()=>({basename:u,navigator:a,static:c}),[u,a,c]);typeof n=="string"&&(n=ro(n));let{pathname:p="/",search:m="",hash:x="",state:k=null,key:S="default"}=n,P=$e.useMemo(()=>{let j=Ql(p,u);return j==null?null:{pathname:j,search:m,hash:x,state:k,key:S}},[u,p,m,x,k,S]);return P==null?null:$e.createElement(ed.Provider,{value:d},$e.createElement(jp.Provider,{children:r,value:{location:P,navigationType:i}}))}function w$(e){let{children:t,location:r}=e,n=$e.useContext(Up),i=n&&!t?n.router.routes:j0(t);return f$(i,r)}var F8;(function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"})(F8||(F8={}));new Promise(()=>{});function j0(e,t){t===void 0&&(t=[]);let r=[];return $e.Children.forEach(e,(n,i)=>{if(!$e.isValidElement(n))return;if(n.type===$e.Fragment){r.push.apply(r,j0(n.props.children,t));return}n.type!==wc&&yt(!1),!n.props.index||!n.props.children||yt(!1);let a=[...t,i],c={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,hasErrorBoundary:n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle};n.props.children&&(c.children=j0(n.props.children,a)),r.push(c)}),r}function v7(e){return e.map(t=>{let r=U0({},t);return r.hasErrorBoundary==null&&(r.hasErrorBoundary=r.errorElement!=null),r.children&&(r.children=v7(r.children)),r})}/**
 * React Router DOM v6.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function F0(){return F0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},F0.apply(this,arguments)}function _$(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function x$(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function S$(e,t){return e.button===0&&(!t||t==="_self")&&!x$(e)}const E$=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function k$(e,t){return UP({basename:t==null?void 0:t.basename,history:oP({window:t==null?void 0:t.window}),hydrationData:(t==null?void 0:t.hydrationData)||M$(),routes:v7(e)}).initialize()}function M$(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=F0({},t,{errors:A$(t.errors)})),t}function A$(e){if(!e)return null;let t=Object.entries(e),r={};for(let[n,i]of t)if(i&&i.__type==="RouteErrorResponse")r[n]=new s2(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){let a=new Error(i.message);a.stack="",r[n]=a}else r[n]=i;return r}const C$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",B$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fl=$e.forwardRef(function(t,r){let{onClick:n,relative:i,reloadDocument:a,replace:c,state:u,target:d,to:p,preventScrollReset:m}=t,x=_$(t,E$),{basename:k}=$e.useContext(ed),S,P=!1;if(typeof p=="string"&&B$.test(p)&&(S=p,C$)){let L=new URL(window.location.href),z=p.startsWith("//")?new URL(L.protocol+p):new URL(p),G=Ql(z.pathname,k);z.origin===L.origin&&G!=null?p=G+z.search+z.hash:P=!0}let j=a$(p,{relative:i}),U=I$(p,{replace:c,state:u,target:d,preventScrollReset:m,relative:i});function O(L){n&&n(L),L.defaultPrevented||U(L)}return $e.createElement("a",F0({},x,{href:S||j,onClick:P||a?n:O,ref:r,target:d}))});var z8;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(z8||(z8={}));var K8;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(K8||(K8={}));function I$(e,t){let{target:r,replace:n,state:i,preventScrollReset:a,relative:c}=t===void 0?{}:t,u=l7(),d=Fp(),p=d7(e,{relative:c});return $e.useCallback(m=>{if(S$(m,r)){m.preventDefault();let x=n!==void 0?n:Ja(d)===Ja(p);u(e,{replace:x,state:i,preventScrollReset:a,relative:c})}},[d,u,p,n,i,r,e,a,c])}var pf={},R$={get exports(){return pf},set exports(e){pf=e}};function T$(){}function N$(e,t){if(e===t)return!0;if(!e||!t||typeof e!="object"||typeof t!="object")return!1;const r=Object.keys(e),n=Object.keys(t),{length:i}=r;if(n.length!==i)return!1;for(const a of r)if(e[a]!==t[a])return!1;return!0}function P$(e,t){if($$(e)){const r=L$(t)?t():t;return e(r)}return e}function $$(e){return typeof e=="function"}function L$(e){return typeof e=="function"}function m7(e){return typeof e=="object"&&e!=null}function O$(e){return Array.isArray(e)?!e.length:m7(e)?!Object.keys(e).length:e==null||e===""}function D$(e){return Boolean(e&&"then"in e&&typeof e.then=="function")}function U$(e){return typeof e=="number"?Math.floor(e)===e:String(Math.floor(Number(e)))===e}function j$(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function F$(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(){for(const n of t)typeof n=="function"&&n(...arguments)}}function z$(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter(Boolean).join(" ")||void 0}function K$(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function q$(e){if(window.queueMicrotask)return window.queueMicrotask(e);Promise.resolve().then(e)}const H$=Object.freeze(Object.defineProperty({__proto__:null,applyState:P$,chain:F$,cx:z$,hasOwnProperty:j$,isEmpty:O$,isInteger:U$,isObject:m7,isPromise:D$,noop:T$,normalizeString:K$,queueMicrotask:q$,shallowEqual:N$},Symbol.toStringTag,{value:"Module"})),W$=TR(H$);/**
 * react-keyring
 *
 * Copyright (c) Web3.Storage
 *
 * This source code is licensed under Apache-2.0 OR MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license Apache-2.0 OR MIT
 */(function(e,t){(function(r,n){n(t,$e,W$)})(He,function(r,n){var Ia,yo,rr,wu,bg,_u,wg,xu,Su,vo,Ra,Eu,pc,Xh;function i(s){return s&&typeof s=="object"&&"default"in s?s:{default:s}}var a=i(n),c=0;function u(s){return"__private_"+c+++"_"+s}function d(s,o){if(!Object.prototype.hasOwnProperty.call(s,o))throw new TypeError("attempted to use private field on non-instance");return s}const p=s=>{if(s instanceof Uint8Array&&s.constructor.name==="Uint8Array")return s;if(s instanceof ArrayBuffer)return new Uint8Array(s);if(ArrayBuffer.isView(s))return new Uint8Array(s.buffer,s.byteOffset,s.byteLength);throw new Error("Unknown type, must be binary type")};var m=function s(o,f,l){f=f||[];for(var v=l=l||0;o>=x;)f[l++]=255&o|128,o/=128;for(;-128&o;)f[l++]=255&o|128,o>>>=7;return f[l]=0|o,s.bytes=l-v+1,f},x=Math.pow(2,31),k=function s(o,f){var l,v=0,E=0,$=f=f||0,F=o.length;do{if($>=F)throw s.bytes=0,new RangeError("Could not decode varint");l=o[$++],v+=E<28?(127&l)<<E:(127&l)*Math.pow(2,E),E+=7}while(l>=128);return s.bytes=$-f,v},S=Math.pow(2,7),P=Math.pow(2,14),j=Math.pow(2,21),U=Math.pow(2,28),O=Math.pow(2,35),L=Math.pow(2,42),z=Math.pow(2,49),G=Math.pow(2,56),J=Math.pow(2,63),ne={encode:m,decode:k,encodingLength:function(s){return s<S?1:s<P?2:s<j?3:s<U?4:s<O?5:s<L?6:s<z?7:s<G?8:s<J?9:10}};const ie=(s,o=0)=>[ne.decode(s,o),ne.decode.bytes],re=(s,o,f=0)=>(ne.encode(s,o,f),o),ce=s=>ne.encodingLength(s),Se=(s,o)=>{const f=o.byteLength,l=ce(s),v=l+ce(f),E=new Uint8Array(v+f);return re(s,E,0),re(f,E,l),E.set(o,v),new _(s,f,o,E)},W=s=>{const o=p(s),[f,l]=ie(o),[v,E]=ie(o.subarray(l)),$=o.subarray(l+E);if($.byteLength!==v)throw new Error("Incorrect length");return new _(f,v,$,o)};class _{constructor(o,f,l,v){this.code=o,this.size=f,this.digest=l,this.bytes=v}}const w=({name:s,code:o,encode:f})=>new h(s,o,f);class h{constructor(o,f,l){this.name=o,this.code=f,this.encode=l}digest(o){if(o instanceof Uint8Array){const f=this.encode(o);return f instanceof Uint8Array?Se(this.code,f):f.then(l=>Se(this.code,l))}throw Error("Unknown type, must be binary type")}}const g=s=>async o=>new Uint8Array(await crypto.subtle.digest(s,o)),M=w({name:"sha2-256",code:18,encode:g("SHA-256")});class N{constructor(o){this.id=o.id,this.options=o,this.encoder=o.encoder,this.decoder=o.decoder,this.channel=o.channel,this.hasher=o.hasher||M}execute(...o){return T(o,this)}}const T=async(s,o)=>{const f=await o.encoder.encode(s,o),l=await o.channel.request(f);return await o.decoder.decode(l)},B=["string","number","bigint","symbol"],b=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function A(s){if(s===null)return"null";if(s===void 0)return"undefined";if(s===!0||s===!1)return"boolean";const o=typeof s;return B.includes(o)?o:o==="function"?"Function":Array.isArray(s)?"Array":function(l){return l&&l.constructor&&l.constructor.isBuffer&&l.constructor.isBuffer.call(null,l)}(s)?"Buffer":function(l){const v=Object.prototype.toString.call(l).slice(8,-1);if(b.includes(v))return v}(s)||"Object"}class y{constructor(o,f,l){this.major=o,this.majorEncoded=o<<5,this.name=f,this.terminal=l}toString(){return`Type[${this.major}].${this.name}`}compare(o){return this.major<o.major?-1:this.major>o.major?1:0}}y.uint=new y(0,"uint",!0),y.negint=new y(1,"negint",!0),y.bytes=new y(2,"bytes",!0),y.string=new y(3,"string",!0),y.array=new y(4,"array",!1),y.map=new y(5,"map",!1),y.tag=new y(6,"tag",!1),y.float=new y(7,"float",!0),y.false=new y(7,"false",!0),y.true=new y(7,"true",!0),y.null=new y(7,"null",!0),y.undefined=new y(7,"undefined",!0),y.break=new y(7,"break",!0);class I{constructor(o,f,l){this.type=o,this.value=f,this.encodedLength=l,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}}const Q=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&typeof globalThis.Buffer.isBuffer=="function",ue=new TextDecoder,Z=new TextEncoder;function Y(s){return Q&&globalThis.Buffer.isBuffer(s)}function se(s){return s instanceof Uint8Array?Y(s)?new Uint8Array(s.buffer,s.byteOffset,s.byteLength):s:Uint8Array.from(s)}const de=Q?(s,o,f)=>f-o>64?globalThis.Buffer.from(s.subarray(o,f)).toString("utf8"):K(s,o,f):(s,o,f)=>f-o>64?ue.decode(s.subarray(o,f)):K(s,o,f),xe=Q?s=>s.length>64?globalThis.Buffer.from(s):Ne(s):s=>s.length>64?Z.encode(s):Ne(s),H=s=>Uint8Array.from(s),q=Q?(s,o,f)=>Y(s)?new Uint8Array(s.subarray(o,f)):s.slice(o,f):(s,o,f)=>s.slice(o,f),he=Q?(s,o)=>(s=s.map(f=>f instanceof Uint8Array?f:globalThis.Buffer.from(f)),se(globalThis.Buffer.concat(s,o))):(s,o)=>{const f=new Uint8Array(o);let l=0;for(let v of s)l+v.length>f.length&&(v=v.subarray(0,f.length-l)),f.set(v,l),l+=v.length;return f},ge=Q?s=>globalThis.Buffer.allocUnsafe(s):s=>new Uint8Array(s);function Ne(s,o=1/0){let f;const l=s.length;let v=null;const E=[];for(let $=0;$<l;++$){if(f=s.charCodeAt($),f>55295&&f<57344){if(!v){if(f>56319){(o-=3)>-1&&E.push(239,191,189);continue}if($+1===l){(o-=3)>-1&&E.push(239,191,189);continue}v=f;continue}if(f<56320){(o-=3)>-1&&E.push(239,191,189),v=f;continue}f=65536+(v-55296<<10|f-56320)}else v&&(o-=3)>-1&&E.push(239,191,189);if(v=null,f<128){if((o-=1)<0)break;E.push(f)}else if(f<2048){if((o-=2)<0)break;E.push(f>>6|192,63&f|128)}else if(f<65536){if((o-=3)<0)break;E.push(f>>12|224,f>>6&63|128,63&f|128)}else{if(!(f<1114112))throw new Error("Invalid code point");if((o-=4)<0)break;E.push(f>>18|240,f>>12&63|128,f>>6&63|128,63&f|128)}}return E}function K(s,o,f){const l=[];for(;o<f;){const v=s[o];let E=null,$=v>239?4:v>223?3:v>191?2:1;if(o+$<=f){let F,V,X,oe;switch($){case 1:v<128&&(E=v);break;case 2:F=s[o+1],(192&F)==128&&(oe=(31&v)<<6|63&F,oe>127&&(E=oe));break;case 3:F=s[o+1],V=s[o+2],(192&F)==128&&(192&V)==128&&(oe=(15&v)<<12|(63&F)<<6|63&V,oe>2047&&(oe<55296||oe>57343)&&(E=oe));break;case 4:F=s[o+1],V=s[o+2],X=s[o+3],(192&F)==128&&(192&V)==128&&(192&X)==128&&(oe=(15&v)<<18|(63&F)<<12|(63&V)<<6|63&X,oe>65535&&oe<1114112&&(E=oe))}}E===null?(E=65533,$=1):E>65535&&(E-=65536,l.push(E>>>10&1023|55296),E=56320|1023&E),l.push(E),o+=$}return C(l)}function C(s){const o=s.length;if(o<=4096)return String.fromCharCode.apply(String,s);let f="",l=0;for(;l<o;)f+=String.fromCharCode.apply(String,s.slice(l,l+=4096));return f}class R{constructor(o=256){this.chunkSize=o,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),this._initReuseChunk!==null&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(o){let f=this.chunks[this.chunks.length-1];if(this.cursor+o.length<=this.maxCursor+1){const l=f.length-(this.maxCursor-this.cursor)-1;f.set(o,l)}else{if(f){const l=f.length-(this.maxCursor-this.cursor)-1;l<f.length&&(this.chunks[this.chunks.length-1]=f.subarray(0,l),this.maxCursor=this.cursor-1)}o.length<64&&o.length<this.chunkSize?(f=ge(this.chunkSize),this.chunks.push(f),this.maxCursor+=f.length,this._initReuseChunk===null&&(this._initReuseChunk=f),f.set(o,0)):(this.chunks.push(o),this.maxCursor+=o.length)}this.cursor+=o.length}toBytes(o=!1){let f;if(this.chunks.length===1){const l=this.chunks[0];o&&this.cursor>l.length/2?(f=this.cursor===l.length?l:l.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):f=q(l,0,this.cursor)}else f=he(this.chunks,this.cursor);return o&&this.reset(),f}}const D="CBOR decode error:",ee="CBOR encode error:";function fe(s,o,f){if(s.length-o<f)throw new Error(`${D} not enough data for type`)}const pe=[24,256,65536,4294967296,BigInt("18446744073709551616")];function Ue(s,o,f){fe(s,o,1);const l=s[o];if(f.strict===!0&&l<pe[0])throw new Error(`${D} integer encoded in more bytes than necessary (strict decode)`);return l}function Ae(s,o,f){fe(s,o,2);const l=s[o]<<8|s[o+1];if(f.strict===!0&&l<pe[1])throw new Error(`${D} integer encoded in more bytes than necessary (strict decode)`);return l}function qe(s,o,f){fe(s,o,4);const l=16777216*s[o]+(s[o+1]<<16)+(s[o+2]<<8)+s[o+3];if(f.strict===!0&&l<pe[2])throw new Error(`${D} integer encoded in more bytes than necessary (strict decode)`);return l}function ae(s,o,f){fe(s,o,8);const l=16777216*s[o]+(s[o+1]<<16)+(s[o+2]<<8)+s[o+3],v=16777216*s[o+4]+(s[o+5]<<16)+(s[o+6]<<8)+s[o+7],E=(BigInt(l)<<BigInt(32))+BigInt(v);if(f.strict===!0&&E<pe[3])throw new Error(`${D} integer encoded in more bytes than necessary (strict decode)`);if(E<=Number.MAX_SAFE_INTEGER)return Number(E);if(f.allowBigInt===!0)return E;throw new Error(`${D} integers outside of the safe integer range are not supported`)}function te(s,o){return le(s,0,o.value)}function le(s,o,f){if(f<pe[0]){const l=Number(f);s.push([o|l])}else if(f<pe[1]){const l=Number(f);s.push([24|o,l])}else if(f<pe[2]){const l=Number(f);s.push([25|o,l>>>8,255&l])}else if(f<pe[3]){const l=Number(f);s.push([26|o,l>>>24&255,l>>>16&255,l>>>8&255,255&l])}else{const l=BigInt(f);if(!(l<pe[4]))throw new Error(`${D} encountered BigInt larger than allowable range`);{const v=[27|o,0,0,0,0,0,0,0];let E=Number(l&BigInt(4294967295)),$=Number(l>>BigInt(32)&BigInt(4294967295));v[8]=255&E,E>>=8,v[7]=255&E,E>>=8,v[6]=255&E,E>>=8,v[5]=255&E,v[4]=255&$,$>>=8,v[3]=255&$,$>>=8,v[2]=255&$,$>>=8,v[1]=255&$,s.push(v)}}}te.encodedSize=function(s){return le.encodedSize(s.value)},le.encodedSize=function(s){return s<pe[0]?1:s<pe[1]?2:s<pe[2]?3:s<pe[3]?5:9},te.compareTokens=function(s,o){return s.value<o.value?-1:s.value>o.value?1:0};const ke=BigInt(-1),be=BigInt(1);function De(s,o){const f=o.value,l=typeof f=="bigint"?f*ke-be:-1*f-1;le(s,o.type.majorEncoded,l)}function Re(s,o,f,l){fe(s,o,f+l);const v=q(s,o+f,o+f+l);return new I(y.bytes,v,f+l)}function Ce(s,o,f,l){return Re(s,o,1,f)}function Me(s){return s.encodedBytes===void 0&&(s.encodedBytes=s.type===y.string?xe(s.value):s.value),s.encodedBytes}function ot(s,o){const f=Me(o);le(s,o.type.majorEncoded,f.length),s.push(f)}function Be(s,o,f,l,v){const E=f+l;fe(s,o,E);const $=new I(y.string,de(s,o+f,o+E),E);return v.retainStringBytes===!0&&($.byteValue=q(s,o+f,o+E)),$}function ht(s,o,f,l){return Be(s,o,1,f,l)}De.encodedSize=function(s){const o=s.value,f=typeof o=="bigint"?o*ke-be:-1*o-1;return f<pe[0]?1:f<pe[1]?2:f<pe[2]?3:f<pe[3]?5:9},De.compareTokens=function(s,o){return s.value<o.value?1:s.value>o.value?-1:0},ot.encodedSize=function(s){const o=Me(s);return le.encodedSize(o.length)+o.length},ot.compareTokens=function(s,o){return f=Me(s),l=Me(o),f.length<l.length?-1:f.length>l.length?1:function(v,E){if(Y(v)&&Y(E))return v.compare(E);for(let $=0;$<v.length;$++)if(v[$]!==E[$])return v[$]<E[$]?-1:1;return 0}(f,l);var f,l};const nt=ot;function Ve(s,o,f,l){return new I(y.array,l,f)}function wt(s,o,f,l){return Ve(0,0,1,f)}function Bt(s,o){le(s,y.array.majorEncoded,o.value)}function Je(s,o,f,l){return new I(y.map,l,f)}function Ot(s,o,f,l){return Je(0,0,1,f)}function At(s,o){le(s,y.map.majorEncoded,o.value)}function it(s,o,f,l){return new I(y.tag,f,1)}function st(s,o){le(s,y.tag.majorEncoded,o.value)}Bt.compareTokens=te.compareTokens,Bt.encodedSize=function(s){return le.encodedSize(s.value)},At.compareTokens=te.compareTokens,At.encodedSize=function(s){return le.encodedSize(s.value)},st.compareTokens=te.compareTokens,st.encodedSize=function(s){return le.encodedSize(s.value)};function gt(s,o,f){if(f){if(f.allowNaN===!1&&Number.isNaN(s))throw new Error(`${D} NaN values are not supported`);if(f.allowInfinity===!1&&(s===1/0||s===-1/0))throw new Error(`${D} Infinity values are not supported`)}return new I(y.float,s,o)}function Ye(s,o,f){const l=o.value;if(l===!1)s.push([20|y.float.majorEncoded]);else if(l===!0)s.push([21|y.float.majorEncoded]);else if(l===null)s.push([22|y.float.majorEncoded]);else if(l===void 0)s.push([23|y.float.majorEncoded]);else{let E,$=!1;f&&f.float64===!0||(zt(l),E=_t(Ge,1),l===E||Number.isNaN(l)?(Ge[0]=249,s.push(Ge.slice(0,3)),$=!0):(tt(l),E=Dt(Ge,1),l===E&&(Ge[0]=250,s.push(Ge.slice(0,5)),$=!0))),$||(v=l,vt.setFloat64(0,v,!1),E=Kt(Ge,1),Ge[0]=251,s.push(Ge.slice(0,9)))}var v}Ye.encodedSize=function(s,o){const f=s.value;if(f===!1||f===!0||f==null)return 1;if(!o||o.float64!==!0){zt(f);let l=_t(Ge,1);if(f===l||Number.isNaN(f))return 3;if(tt(f),l=Dt(Ge,1),f===l)return 5}return 9};const Lt=new ArrayBuffer(9),vt=new DataView(Lt,1),Ge=new Uint8Array(Lt,0);function zt(s){if(s===1/0)vt.setUint16(0,31744,!1);else if(s===-1/0)vt.setUint16(0,64512,!1);else if(Number.isNaN(s))vt.setUint16(0,32256,!1);else{vt.setFloat32(0,s);const o=vt.getUint32(0),f=(2139095040&o)>>23,l=8388607&o;if(f===255)vt.setUint16(0,31744,!1);else if(f===0)vt.setUint16(0,(2147483648&s)>>16|l>>13,!1);else{const v=f-127;v<-24?vt.setUint16(0,0):v<-14?vt.setUint16(0,(2147483648&o)>>16|1<<24+v,!1):vt.setUint16(0,(2147483648&o)>>16|v+15<<10|l>>13,!1)}}}function _t(s,o){if(s.length-o<2)throw new Error(`${D} not enough data for float16`);const f=(s[o]<<8)+s[o+1];if(f===31744)return 1/0;if(f===64512)return-1/0;if(f===32256)return NaN;const l=f>>10&31,v=1023&f;let E;return E=l===0?v*2**-24:l!==31?(v+1024)*2**(l-25):v===0?1/0:NaN,32768&f?-E:E}function tt(s){vt.setFloat32(0,s,!1)}function Dt(s,o){if(s.length-o<4)throw new Error(`${D} not enough data for float32`);const f=(s.byteOffset||0)+o;return new DataView(s.buffer,f,4).getFloat32(0,!1)}function Kt(s,o){if(s.length-o<8)throw new Error(`${D} not enough data for float64`);const f=(s.byteOffset||0)+o;return new DataView(s.buffer,f,8).getFloat64(0,!1)}function Oe(s,o,f){throw new Error(`${D} encountered invalid minor (${f}) for major ${s[o]>>>5}`)}function qt(s){return()=>{throw new Error(`${D} ${s}`)}}Ye.compareTokens=te.compareTokens;const _e=[];for(let s=0;s<=23;s++)_e[s]=Oe;_e[24]=function(s,o,f,l){return new I(y.uint,Ue(s,o+1,l),2)},_e[25]=function(s,o,f,l){return new I(y.uint,Ae(s,o+1,l),3)},_e[26]=function(s,o,f,l){return new I(y.uint,qe(s,o+1,l),5)},_e[27]=function(s,o,f,l){return new I(y.uint,ae(s,o+1,l),9)},_e[28]=Oe,_e[29]=Oe,_e[30]=Oe,_e[31]=Oe;for(let s=32;s<=55;s++)_e[s]=Oe;_e[56]=function(s,o,f,l){return new I(y.negint,-1-Ue(s,o+1,l),2)},_e[57]=function(s,o,f,l){return new I(y.negint,-1-Ae(s,o+1,l),3)},_e[58]=function(s,o,f,l){return new I(y.negint,-1-qe(s,o+1,l),5)},_e[59]=function(s,o,f,l){const v=ae(s,o+1,l);if(typeof v!="bigint"){const E=-1-v;if(E>=Number.MIN_SAFE_INTEGER)return new I(y.negint,E,9)}if(l.allowBigInt!==!0)throw new Error(`${D} integers outside of the safe integer range are not supported`);return new I(y.negint,ke-BigInt(v),9)},_e[60]=Oe,_e[61]=Oe,_e[62]=Oe,_e[63]=Oe;for(let s=64;s<=87;s++)_e[s]=Ce;_e[88]=function(s,o,f,l){return Re(s,o,2,Ue(s,o+1,l))},_e[89]=function(s,o,f,l){return Re(s,o,3,Ae(s,o+1,l))},_e[90]=function(s,o,f,l){return Re(s,o,5,qe(s,o+1,l))},_e[91]=function(s,o,f,l){const v=ae(s,o+1,l);if(typeof v=="bigint")throw new Error(`${D} 64-bit integer bytes lengths not supported`);return Re(s,o,9,v)},_e[92]=Oe,_e[93]=Oe,_e[94]=Oe,_e[95]=qt("indefinite length bytes/strings are not supported");for(let s=96;s<=119;s++)_e[s]=ht;_e[120]=function(s,o,f,l){return Be(s,o,2,Ue(s,o+1,l),l)},_e[121]=function(s,o,f,l){return Be(s,o,3,Ae(s,o+1,l),l)},_e[122]=function(s,o,f,l){return Be(s,o,5,qe(s,o+1,l),l)},_e[123]=function(s,o,f,l){const v=ae(s,o+1,l);if(typeof v=="bigint")throw new Error(`${D} 64-bit integer string lengths not supported`);return Be(s,o,9,v,l)},_e[124]=Oe,_e[125]=Oe,_e[126]=Oe,_e[127]=qt("indefinite length bytes/strings are not supported");for(let s=128;s<=151;s++)_e[s]=wt;_e[152]=function(s,o,f,l){return Ve(0,0,2,Ue(s,o+1,l))},_e[153]=function(s,o,f,l){return Ve(0,0,3,Ae(s,o+1,l))},_e[154]=function(s,o,f,l){return Ve(0,0,5,qe(s,o+1,l))},_e[155]=function(s,o,f,l){const v=ae(s,o+1,l);if(typeof v=="bigint")throw new Error(`${D} 64-bit integer array lengths not supported`);return Ve(0,0,9,v)},_e[156]=Oe,_e[157]=Oe,_e[158]=Oe,_e[159]=function(s,o,f,l){if(l.allowIndefinite===!1)throw new Error(`${D} indefinite length items not allowed`);return Ve(0,0,1,1/0)};for(let s=160;s<=183;s++)_e[s]=Ot;_e[184]=function(s,o,f,l){return Je(0,0,2,Ue(s,o+1,l))},_e[185]=function(s,o,f,l){return Je(0,0,3,Ae(s,o+1,l))},_e[186]=function(s,o,f,l){return Je(0,0,5,qe(s,o+1,l))},_e[187]=function(s,o,f,l){const v=ae(s,o+1,l);if(typeof v=="bigint")throw new Error(`${D} 64-bit integer map lengths not supported`);return Je(0,0,9,v)},_e[188]=Oe,_e[189]=Oe,_e[190]=Oe,_e[191]=function(s,o,f,l){if(l.allowIndefinite===!1)throw new Error(`${D} indefinite length items not allowed`);return Je(0,0,1,1/0)};for(let s=192;s<=215;s++)_e[s]=it;_e[216]=function(s,o,f,l){return new I(y.tag,Ue(s,o+1,l),2)},_e[217]=function(s,o,f,l){return new I(y.tag,Ae(s,o+1,l),3)},_e[218]=function(s,o,f,l){return new I(y.tag,qe(s,o+1,l),5)},_e[219]=function(s,o,f,l){return new I(y.tag,ae(s,o+1,l),9)},_e[220]=Oe,_e[221]=Oe,_e[222]=Oe,_e[223]=Oe;for(let s=224;s<=243;s++)_e[s]=qt("simple values are not supported");_e[244]=Oe,_e[245]=Oe,_e[246]=Oe,_e[247]=function(s,o,f,l){if(l.allowUndefined===!1)throw new Error(`${D} undefined values are not supported`);return l.coerceUndefinedToNull===!0?new I(y.null,null,1):new I(y.undefined,void 0,1)},_e[248]=qt("simple values are not supported"),_e[249]=function(s,o,f,l){return gt(_t(s,o+1),3,l)},_e[250]=function(s,o,f,l){return gt(Dt(s,o+1),5,l)},_e[251]=function(s,o,f,l){return gt(Kt(s,o+1),9,l)},_e[252]=Oe,_e[253]=Oe,_e[254]=Oe,_e[255]=function(s,o,f,l){if(l.allowIndefinite===!1)throw new Error(`${D} indefinite length items not allowed`);return new I(y.break,void 0,1)};const Xe=[];for(let s=0;s<24;s++)Xe[s]=new I(y.uint,s,1);for(let s=-1;s>=-24;s--)Xe[31-s]=new I(y.negint,s,1);function Yt(s){switch(s.type){case y.false:return H([244]);case y.true:return H([245]);case y.null:return H([246]);case y.bytes:return s.value.length?void 0:H([64]);case y.string:return s.value===""?H([96]):void 0;case y.array:return s.value===0?H([128]):void 0;case y.map:return s.value===0?H([160]):void 0;case y.uint:return s.value<24?H([Number(s.value)]):void 0;case y.negint:if(s.value>=-24)return H([31-Number(s.value)])}}Xe[64]=new I(y.bytes,new Uint8Array(0),1),Xe[96]=new I(y.string,"",1),Xe[128]=new I(y.array,0,1),Xe[160]=new I(y.map,0,1),Xe[244]=new I(y.false,!1,1),Xe[245]=new I(y.true,!0,1),Xe[246]=new I(y.null,null,1);const Xt={float64:!1,mapSorter:function(s,o){const f=Array.isArray(s[0])?s[0][0]:s[0],l=Array.isArray(o[0])?o[0][0]:o[0];if(f.type!==l.type)return f.type.compare(l.type);const v=f.type.major,E=Di[v].compareTokens(f,l);return E===0&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone"),E},quickEncodeToken:Yt};function Zt(){const s=[];return s[y.uint.major]=te,s[y.negint.major]=De,s[y.bytes.major]=ot,s[y.string.major]=nt,s[y.array.major]=Bt,s[y.map.major]=At,s[y.tag.major]=st,s[y.float.major]=Ye,s}const Di=Zt(),pi=new R;class zn{constructor(o,f){this.obj=o,this.parent=f}includes(o){let f=this;do if(f.obj===o)return!0;while(f=f.parent);return!1}static createCheck(o,f){if(o&&o.includes(f))throw new Error(`${ee} object contains circular references`);return new zn(f,o)}}const Wr={null:new I(y.null,null),undefined:new I(y.undefined,void 0),true:new I(y.true,!0),false:new I(y.false,!1),emptyArray:new I(y.array,0),emptyMap:new I(y.map,0)},Vr={number:(s,o,f,l)=>Number.isInteger(s)&&Number.isSafeInteger(s)?new I(s>=0?y.uint:y.negint,s):new I(y.float,s),bigint:(s,o,f,l)=>s>=BigInt(0)?new I(y.uint,s):new I(y.negint,s),Uint8Array:(s,o,f,l)=>new I(y.bytes,s),string:(s,o,f,l)=>new I(y.string,s),boolean:(s,o,f,l)=>s?Wr.true:Wr.false,null:(s,o,f,l)=>Wr.null,undefined:(s,o,f,l)=>Wr.undefined,ArrayBuffer:(s,o,f,l)=>new I(y.bytes,new Uint8Array(s)),DataView:(s,o,f,l)=>new I(y.bytes,new Uint8Array(s.buffer,s.byteOffset,s.byteLength)),Array(s,o,f,l){if(!s.length)return f.addBreakTokens===!0?[Wr.emptyArray,new I(y.break)]:Wr.emptyArray;l=zn.createCheck(l,s);const v=[];let E=0;for(const $ of s)v[E++]=Kn($,f,l);return f.addBreakTokens?[new I(y.array,s.length),v,new I(y.break)]:[new I(y.array,s.length),v]},Object(s,o,f,l){const v=o!=="Object",E=v?s.keys():Object.keys(s),$=v?s.size:E.length;if(!$)return f.addBreakTokens===!0?[Wr.emptyMap,new I(y.break)]:Wr.emptyMap;l=zn.createCheck(l,s);const F=[];let V=0;for(const X of E)F[V++]=[Kn(X,f,l),Kn(v?s.get(X):s[X],f,l)];return function(X,oe){oe.mapSorter&&X.sort(oe.mapSorter)}(F,f),f.addBreakTokens?[new I(y.map,$),F,new I(y.break)]:[new I(y.map,$),F]}};Vr.Map=Vr.Object,Vr.Buffer=Vr.Uint8Array;for(const s of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))Vr[`${s}Array`]=Vr.DataView;function Kn(s,o={},f){const l=A(s),v=o&&o.typeEncoders&&o.typeEncoders[l]||Vr[l];if(typeof v=="function"){const $=v(s,l,o,f);if($!=null)return $}const E=Vr[l];if(!E)throw new Error(`${ee} unsupported type: ${l}`);return E(s,l,o,f)}function Ui(s,o,f,l){if(Array.isArray(o))for(const v of o)Ui(s,v,f,l);else f[o.type.major](s,o,l)}function ji(s,o,f){const l=Kn(s,f);if(!Array.isArray(l)&&f.quickEncodeToken){const v=f.quickEncodeToken(l);if(v)return v;const E=o[l.type.major];if(E.encodedSize){const $=E.encodedSize(l,f),F=new R($);if(E(F,l,f),F.chunks.length!==1)throw new Error(`Unexpected error: pre-calculated length for ${l} was wrong`);return se(F.chunks[0])}}return pi.reset(),Ui(pi,l,o,f),pi.toBytes(!0)}const ba={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0};class wa{constructor(o,f={}){this.pos=0,this.data=o,this.options=f}done(){return this.pos>=this.data.length}next(){const o=this.data[this.pos];let f=Xe[o];if(f===void 0){const l=_e[o];if(!l)throw new Error(`${D} no decoder for major type ${o>>>5} (byte 0x${o.toString(16).padStart(2,"0")})`);const v=31&o;f=l(this.data,this.pos,v,this.options)}return this.pos+=f.encodedLength,f}}const Cn=Symbol.for("DONE"),qn=Symbol.for("BREAK");function Bn(s,o){if(s.done())return Cn;const f=s.next();if(f.type===y.break)return qn;if(f.type.terminal)return f.value;if(f.type===y.array)return function(l,v,E){const $=[];for(let F=0;F<l.value;F++){const V=Bn(v,E);if(V===qn){if(l.value===1/0)break;throw new Error(`${D} got unexpected break to lengthed array`)}if(V===Cn)throw new Error(`${D} found array but not enough entries (got ${F}, expected ${l.value})`);$[F]=V}return $}(f,s,o);if(f.type===y.map)return function(l,v,E){const $=E.useMaps===!0,F=$?void 0:{},V=$?new Map:void 0;for(let X=0;X<l.value;X++){const oe=Bn(v,E);if(oe===qn){if(l.value===1/0)break;throw new Error(`${D} got unexpected break to lengthed map`)}if(oe===Cn)throw new Error(`${D} found map but not enough entries (got ${X} [no key], expected ${l.value})`);if($!==!0&&typeof oe!="string")throw new Error(`${D} non-string keys not supported (got ${typeof oe})`);if(E.rejectDuplicateMapKeys===!0&&($&&V.has(oe)||!$&&oe in F))throw new Error(`${D} found repeat map key "${oe}"`);const ye=Bn(v,E);if(ye===Cn)throw new Error(`${D} found map but not enough entries (got ${X} [no value], expected ${l.value})`);$?V.set(oe,ye):F[oe]=ye}return $?V:F}(f,s,o);if(f.type===y.tag){if(o.tags&&typeof o.tags[f.value]=="function"){const l=Bn(s,o);return o.tags[f.value](l)}throw new Error(`${D} tag not supported (${f.value})`)}throw new Error("unsupported")}function Fi(s,o){if(!(s instanceof Uint8Array))throw new Error(`${D} data to decode must be a Uint8Array`);const f=(o=Object.assign({},ba,o)).tokenizer||new wa(s,o),l=Bn(f,o);if(l===Cn)throw new Error(`${D} did not find any content to decode`);if(l===qn)throw new Error(`${D} got unexpected break`);if(!f.done())throw new Error(`${D} too many terminals, data makes no sense`);return l}var _a=function(s,o){if(s.length>=255)throw new TypeError("Alphabet too long");for(var f=new Uint8Array(256),l=0;l<f.length;l++)f[l]=255;for(var v=0;v<s.length;v++){var E=s.charAt(v),$=E.charCodeAt(0);if(f[$]!==255)throw new TypeError(E+" is ambiguous");f[$]=v}var F=s.length,V=s.charAt(0),X=Math.log(F)/Math.log(256),oe=Math.log(256)/Math.log(F);function ye(me){if(typeof me!="string")throw new TypeError("Expected String");if(me.length===0)return new Uint8Array;var Pe=0;if(me[Pe]!==" "){for(var We=0,et=0;me[Pe]===V;)We++,Pe++;for(var Ct=(me.length-Pe)*X+1>>>0,Qe=new Uint8Array(Ct);me[Pe];){var ut=f[me.charCodeAt(Pe)];if(ut===255)return;for(var Ut=0,Qt=Ct-1;(ut!==0||Ut<et)&&Qt!==-1;Qt--,Ut++)ut+=F*Qe[Qt]>>>0,Qe[Qt]=ut%256>>>0,ut=ut/256>>>0;if(ut!==0)throw new Error("Non-zero carry");et=Ut,Pe++}if(me[Pe]!==" "){for(var Jt=Ct-et;Jt!==Ct&&Qe[Jt]===0;)Jt++;for(var vn=new Uint8Array(We+(Ct-Jt)),ds=We;Jt!==Ct;)vn[ds++]=Qe[Jt++];return vn}}}return{encode:function(me){if(me instanceof Uint8Array||(ArrayBuffer.isView(me)?me=new Uint8Array(me.buffer,me.byteOffset,me.byteLength):Array.isArray(me)&&(me=Uint8Array.from(me))),!(me instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(me.length===0)return"";for(var Pe=0,We=0,et=0,Ct=me.length;et!==Ct&&me[et]===0;)et++,Pe++;for(var Qe=(Ct-et)*oe+1>>>0,ut=new Uint8Array(Qe);et!==Ct;){for(var Ut=me[et],Qt=0,Jt=Qe-1;(Ut!==0||Qt<We)&&Jt!==-1;Jt--,Qt++)Ut+=256*ut[Jt]>>>0,ut[Jt]=Ut%F>>>0,Ut=Ut/F>>>0;if(Ut!==0)throw new Error("Non-zero carry");We=Qt,et++}for(var vn=Qe-We;vn!==Qe&&ut[vn]===0;)vn++;for(var ds=V.repeat(Pe);vn<Qe;++vn)ds+=s.charAt(ut[vn]);return ds},decodeUnsafe:ye,decode:function(me){var Pe=ye(me);if(Pe)return Pe;throw new Error(`Non-${o} character`)}}},xa=_a;class Sa{constructor(o,f,l){this.name=o,this.prefix=f,this.baseEncode=l}encode(o){if(o instanceof Uint8Array)return`${this.prefix}${this.baseEncode(o)}`;throw Error("Unknown type, must be binary type")}}class Kf{constructor(o,f,l){if(this.name=o,this.prefix=f,f.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=f.codePointAt(0),this.baseDecode=l}decode(o){if(typeof o=="string"){if(o.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(o)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(o.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(o){return Rw(this,o)}}class qf{constructor(o){this.decoders=o}or(o){return Rw(this,o)}decode(o){const f=o[0],l=this.decoders[f];if(l)return l.decode(o);throw RangeError(`Unable to decode multibase string ${JSON.stringify(o)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const Rw=(s,o)=>new qf({...s.decoders||{[s.prefix]:s},...o.decoders||{[o.prefix]:o}});class LM{constructor(o,f,l,v){this.name=o,this.prefix=f,this.baseEncode=l,this.baseDecode=v,this.encoder=new Sa(o,f,l),this.decoder=new Kf(o,f,v)}encode(o){return this.encoder.encode(o)}decode(o){return this.decoder.decode(o)}}const wd=({name:s,prefix:o,encode:f,decode:l})=>new LM(s,o,f,l),Hf=({prefix:s,name:o,alphabet:f})=>{const{encode:l,decode:v}=xa(f,o);return wd({prefix:s,name:o,encode:l,decode:E=>p(v(E))})},$r=({name:s,prefix:o,bitsPerChar:f,alphabet:l})=>wd({prefix:o,name:s,encode:v=>((E,$,F)=>{const V=$[$.length-1]==="=",X=(1<<F)-1;let oe="",ye=0,me=0;for(let Pe=0;Pe<E.length;++Pe)for(me=me<<8|E[Pe],ye+=8;ye>F;)ye-=F,oe+=$[X&me>>ye];if(ye&&(oe+=$[X&me<<F-ye]),V)for(;oe.length*F&7;)oe+="=";return oe})(v,l,f),decode:v=>((E,$,F,V)=>{const X={};for(let et=0;et<$.length;++et)X[$[et]]=et;let oe=E.length;for(;E[oe-1]==="=";)--oe;const ye=new Uint8Array(oe*F/8|0);let me=0,Pe=0,We=0;for(let et=0;et<oe;++et){const Ct=X[E[et]];if(Ct===void 0)throw new SyntaxError(`Non-${V} character`);Pe=Pe<<F|Ct,me+=F,me>=8&&(me-=8,ye[We++]=255&Pe>>me)}if(me>=F||255&Pe<<8-me)throw new SyntaxError("Unexpected end of data");return ye})(v,l,f,s)}),In=Hf({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),OM=Hf({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var DM=Object.freeze({__proto__:null,base58btc:In,base58flickr:OM});const es=$r({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),UM=$r({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),jM=$r({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),FM=$r({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),zM=$r({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),KM=$r({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),qM=$r({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),HM=$r({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),WM=$r({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var VM=Object.freeze({__proto__:null,base32:es,base32upper:UM,base32pad:jM,base32padupper:FM,base32hex:zM,base32hexupper:KM,base32hexpad:qM,base32hexpadupper:HM,base32z:WM});const Tw=(s,o)=>{const{bytes:f,version:l}=s;return l===0?GM(f,z1(s),o||In.encoder):JM(f,z1(s),o||es.encoder)},Nw=new WeakMap,z1=s=>{const o=Nw.get(s);if(o==null){const f=new Map;return Nw.set(s,f),f}return o};class Ht{constructor(o,f,l,v){this.code=f,this.version=o,this.multihash=l,this.bytes=v,this["/"]=v}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:o,multihash:f}=this;if(o!==Wf)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(f.code!==YM)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return Ht.createV0(f)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:o,digest:f}=this.multihash,l=Se(o,f);return Ht.createV1(this.code,l)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(o){return Ht.equals(this,o)}static equals(o,f){const l=f;return l&&o.code===l.code&&o.version===l.version&&((v,E)=>{if(v===E)return!0;{const $=E;return v.code===$.code&&v.size===$.size&&$.bytes instanceof Uint8Array&&((F,V)=>{if(F===V)return!0;if(F.byteLength!==V.byteLength)return!1;for(let X=0;X<F.byteLength;X++)if(F[X]!==V[X])return!1;return!0})(v.bytes,$.bytes)}})(o.multihash,l.multihash)}toString(o){return Tw(this,o)}toJSON(){return{"/":Tw(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(o){if(o==null)return null;const f=o;if(f instanceof Ht)return f;if(f["/"]!=null&&f["/"]===f.bytes||f.asCID===f){const{version:l,code:v,multihash:E,bytes:$}=f;return new Ht(l,v,E,$||Pw(l,v,E.bytes))}if(f[XM]===!0){const{version:l,multihash:v,code:E}=f,$=W(v);return Ht.create(l,E,$)}return null}static create(o,f,l){if(typeof f!="number")throw new Error("String codecs are no longer supported");if(!(l.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(o){case 0:if(f!==Wf)throw new Error(`Version 0 CID must use dag-pb (code: ${Wf}) block encoding`);return new Ht(o,f,l,l.bytes);case 1:{const v=Pw(o,f,l.bytes);return new Ht(o,f,l,v)}default:throw new Error("Invalid version")}}static createV0(o){return Ht.create(0,Wf,o)}static createV1(o,f){return Ht.create(1,o,f)}static decode(o){const[f,l]=Ht.decodeFirst(o);if(l.length)throw new Error("Incorrect length");return f}static decodeFirst(o){const f=Ht.inspectBytes(o),l=f.size-f.multihashSize,v=p(o.subarray(l,l+f.multihashSize));if(v.byteLength!==f.multihashSize)throw new Error("Incorrect length");const E=v.subarray(f.multihashSize-f.digestSize),$=new _(f.multihashCode,f.digestSize,E,v);return[f.version===0?Ht.createV0($):Ht.createV1(f.codec,$),o.subarray(f.size)]}static inspectBytes(o){let f=0;const l=()=>{const[oe,ye]=ie(o.subarray(f));return f+=ye,oe};let v=l(),E=Wf;if(v===18?(v=0,f=0):E=l(),v!==0&&v!==1)throw new RangeError(`Invalid CID version ${v}`);const $=f,F=l(),V=l(),X=f+V;return{version:v,codec:E,multihashCode:F,digestSize:V,multihashSize:X-$,size:X}}static parse(o,f){const[l,v]=ZM(o,f),E=Ht.decode(v);if(E.version===0&&o[0]!=="Q")throw Error("Version 0 CID string must not include multibase prefix");return z1(E).set(l,o),E}}const ZM=(s,o)=>{switch(s[0]){case"Q":{const f=o||In;return[In.prefix,f.decode(`${In.prefix}${s}`)]}case In.prefix:{const f=o||In;return[In.prefix,f.decode(s)]}case es.prefix:{const f=o||es;return[es.prefix,f.decode(s)]}default:if(o==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[s[0],o.decode(s)]}},GM=(s,o,f)=>{const{prefix:l}=f;if(l!==In.prefix)throw Error(`Cannot string encode V0 in ${f.name} encoding`);const v=o.get(l);if(v==null){const E=f.encode(s).slice(1);return o.set(l,E),E}return v},JM=(s,o,f)=>{const{prefix:l}=f,v=o.get(l);if(v==null){const E=f.encode(s);return o.set(l,E),E}return v},Wf=112,YM=18,Pw=(s,o,f)=>{const l=ce(s),v=l+ce(o),E=new Uint8Array(v+f.byteLength);return re(s,E,0),re(o,E,l),E.set(f,v),E},XM=Symbol.for("@ipld/js-cid/CID"),QM={float64:!0,typeEncoders:{Object:function(s){if(s.asCID!==s&&s["/"]!==s.bytes)return null;const o=Ht.asCID(s);if(!o)return null;const f=new Uint8Array(o.bytes.byteLength+1);return f.set(o.bytes,1),[new I(y.tag,42),new I(y.bytes,f)]},undefined:function(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")},number:function(s){if(Number.isNaN(s))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(s===1/0||s===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}}},$w={allowIndefinite:!1,coerceUndefinedToNull:!0,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,rejectDuplicateMapKeys:!0,tags:[]};$w.tags[42]=function(s){if(s[0]!==0)throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return Ht.decode(s.subarray(1))};const K1=s=>{return o=s,f=QM,f=Object.assign({},Xt,f),ji(o,Di,f);var o,f},Vf=s=>Fi(s,$w),eA=new TextEncoder,tA=new TextDecoder,Zf=s=>eA.encode(s),_d=s=>tA.decode(s),Gf=(s,o)=>Ht.create(1,s,o),tc=s=>{if(s==null)return!1;const o=s;return o["/"]!=null&&o["/"]===o.bytes?!0:s.asCID===s},Lw=(s,o)=>Ht.parse(s,o),Ow=p,rA={code:0,name:"identity",encode:Ow,digest:s=>Se(0,Ow(s))},Dw="did:",nA=Dw.length,Uw="did:key:",iA=Uw.length,q1=3357,H1=ce(q1),zi=s=>{if(s.startsWith(Dw)){if(s.startsWith(Uw)){const o=In.decode(s.slice(iA));return W1(o)}{const o=Zf(s.slice(nA)),f=new Uint8Array(o.byteLength+H1);return re(q1,f),f.set(o,H1),new xd(f)}}throw new RangeError(`Invalid DID "${s}", must start with 'did:'`)},jw=s=>s.did(),Fw=s=>s instanceof xd?s:s instanceof Uint8Array?W1(s):zi(typeof s=="string"?s:s.did()),W1=s=>{const[o]=ie(s),{buffer:f,byteOffset:l,byteLength:v}=s;switch(o){case 4608:if(s.length>35)throw new RangeError("Only p256-pub compressed is supported.");case 237:case 4613:case 4609:case 4610:return new aA(f,l,v);case q1:return new xd(f,l,v);default:throw new RangeError(`Unsupported DID encoding, unknown multicode 0x${o.toString(16)}.`)}};class xd extends Uint8Array{did(){const o=new Uint8Array(this.buffer,this.byteOffset+H1);return`did:${_d(o)}`}toJSON(){return this.did()}}class aA extends xd{did(){return`did:key:${In.encode(this)}`}}const Sd=$r({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),oA=$r({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),ts=$r({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),sA=$r({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var cA=Object.freeze({__proto__:null,base64:Sd,base64pad:oA,base64url:ts,base64urlpad:sA});const V1=53248,Z1=53485,zw=13636096,Kw=13636097,qw=13636098,G1=13636101,Hw=s=>{switch(s){case 53479:return"ES256K";case 53482:return"BLS12381G1";case 53483:return"BLS12381G2";case Z1:return"EdDSA";case zw:return"ES256";case Kw:return"ES384";case qw:return"ES512";case G1:return"RS256";case 53649:return"EIP191";default:throw new RangeError(`Unknown signature algorithm code 0x${s.toString(16)}`)}};class J1 extends Uint8Array{get code(){const[o]=ie(this);return Object.defineProperties(this,{code:{value:o}}),o}get size(){const o=uA(this);return Object.defineProperties(this,{size:{value:o}}),o}get algorithm(){const o=fA(this);return Object.defineProperties(this,{algorithm:{value:o}}),o}get raw(){const{buffer:o,byteOffset:f,size:l,code:v}=this,E=ce(v),$=ce(l),F=new Uint8Array(o,f+E+$,l);return Object.defineProperties(this,{raw:{value:F}}),F}toJSON(){return hA(this)}}const fA=s=>{const{code:o,raw:f,buffer:l,byteOffset:v}=s;if(o===V1){const E=f.byteLength+ce(o)+ce(f.byteLength),$=new Uint8Array(l,v+E);return _d($)}return Hw(o)},uA=s=>{const o=ce(s.code),[f]=ie(new Uint8Array(s.buffer,s.byteOffset+o));return f},Y1=(s,o)=>{Hw(s);const f=ce(s),l=ce(o.byteLength),v=new J1(f+l+o.byteLength);return re(s,v),re(o.byteLength,v,f),v.set(o,f+l),Object.defineProperties(v,{code:{value:s},size:{value:o.byteLength}}),v},lA=(s,o)=>{const f=(l=>{switch(l){case"ES256K":return 53479;case"BLS12381G1":return 53482;case"BLS12381G2":return 53483;case"EdDSA":return Z1;case"ES256":return zw;case"ES384":return Kw;case"ES512":return qw;case"RS256":return G1;case"EIP191":return 53649;default:return V1}})(s);return f===V1?dA(s,o):Y1(f,o)},dA=(s,o)=>{const f=ce(53248),l=ce(o.byteLength),v=Zf(s),E=new J1(f+l+o.byteLength+v.byteLength);return re(53248,E),re(o.byteLength,E,f),E.set(o,f+l),E.set(v,f+l+o.byteLength),E},X1=s=>{if(!(s instanceof Uint8Array))throw new TypeError(`Can only decode Uint8Array into a Signature, instead got ${JSON.stringify(s)}`);return(f=>new J1(f.buffer,f.byteOffset,f.byteLength))(s)},hA=s=>({"/":{bytes:Sd.baseEncode(s)}}),Q1=s=>Ww(s,{readPrincipal:kA,readProof:xA}),Ww=(s,{readPrincipal:o,readProof:f})=>({iss:o(s.iss,"iss"),aud:o(s.aud,"aud"),att:vA(s.att,"att"),prf:Gw(s.prf,f,"prf")||[],exp:AA(s.exp===1/0?null:s.exp,Vw,"exp"),nbf:Yw(s.nbf,Vw,"nbf"),fct:Gw(s.fct,_A,"fct")||[],nnc:Yw(s.nnc,Ed,"nnc")}),pA=s=>{if(s instanceof Uint8Array)return X1(s);throw new TypeError(`Can only decode Uint8Array into a Signature, instead got ${JSON.stringify(s)}`)},Vw=(s,o)=>Number.isInteger(s)?s:Ki.throw(`Expected ${o} to be integer, instead got ${JSON.stringify(s)}`),yA=(s,o)=>Jw(s,mA,o),vA=(s,o)=>Zw(s,yA,o),mA=s=>({...s,can:gA(s.can),with:bA(s.with)}),gA=s=>typeof s!="string"?Ki.throw(`Capability has invalid 'can: ${JSON.stringify(s)}', value must be a string`):s.slice(1,-1).includes("/")?s.toLocaleLowerCase():s==="*"?s:Ki.throw(`Capability has invalid 'can: "${s}"', value must have at least one path segment`),bA=s=>typeof s!="string"?Ki.throw(`Capability has invalid 'with: ${JSON.stringify(s)}', value must be a string`):wA(s)||Ki.throw(`Capability has invalid 'with: "${s}"', value must be a valid URI string`),wA=s=>{try{return new URL(s),s}catch{return null}},Zw=(s,o,f)=>Array.isArray(s)?s.map((l,v)=>o(l,`${f}[${v}]`)):Ki.throw(`${f} must be an array`),Gw=(s,o,f)=>s===void 0?s:Zw(s,o,f),Jw=(s,o,f)=>s!=null&&typeof s=="object"?o(s):Ki.throw(`${f} must be of type object, instead got ${s}`),_A=(s,o)=>Jw(s,Object,o),xA=(s,o)=>tc(s)?s:kd(`Expected ${o} to be IPLD link, instead got ${JSON.stringify(s)}`),SA=(s,o)=>EA(Ed(s,o)),EA=s=>{try{return Lw(s)}catch{return Gf(85,rA.digest(Zf(s)))}},kA=(s,o)=>W1(CA(s,o)),MA=(s,o)=>zi(Ed(s,o)),Yw=(s,o,f="Field")=>s!==void 0?o(s,f):void 0,AA=(s,o,f)=>s===null?null:o(s,f),Ed=(s,o="Field")=>typeof s=="string"?s:kd(`${o} has invalid value ${s}`),CA=(s,o)=>s instanceof Uint8Array?s:kd(`Expected ${o} to be Uint8Array, instead got ${JSON.stringify(s)}`),ey=(s,o)=>/\d+\.\d+\.\d+/.test(s)?s:Ki.throw(`Invalid version '${o}: ${JSON.stringify(s)}'`);class Ki extends TypeError{get name(){return"ParseError"}static throw(o){throw new this(o)}}const kd=s=>Ki.throw(s);class BA extends Array{constructor(){super(),this.inRecursive=[]}prefix(o){const f=this.inRecursive[this.inRecursive.length-1];f&&(f.type===y.array&&(f.elements++,f.elements!==1&&o.push([44])),f.type===y.map&&(f.elements++,f.elements!==1&&(f.elements%2==1?o.push([44]):o.push([58]))))}[y.uint.major](o,f){this.prefix(o);const l=String(f.value),v=[];for(let E=0;E<l.length;E++)v[E]=l.charCodeAt(E);o.push(v)}[y.negint.major](o,f){this[y.uint.major](o,f)}[y.bytes.major](o,f){throw new Error(`${ee} unsupported type: Uint8Array`)}[y.string.major](o,f){this.prefix(o);const l=xe(JSON.stringify(f.value));o.push(l.length>32?se(l):l)}[y.array.major](o,f){this.prefix(o),this.inRecursive.push({type:y.array,elements:0}),o.push([91])}[y.map.major](o,f){this.prefix(o),this.inRecursive.push({type:y.map,elements:0}),o.push([123])}[y.tag.major](o,f){}[y.float.major](o,f){if(f.type.name==="break"){const $=this.inRecursive.pop();if($){if($.type===y.array)o.push([93]);else{if($.type!==y.map)throw new Error("Unexpected recursive type; this should not happen!");o.push([125])}return}throw new Error("Unexpected break; this should not happen!")}if(f.value===void 0)throw new Error(`${ee} unsupported type: undefined`);if(this.prefix(o),f.type.name==="true")return void o.push([116,114,117,101]);if(f.type.name==="false")return void o.push([102,97,108,115,101]);if(f.type.name==="null")return void o.push([110,117,108,108]);const l=String(f.value),v=[];let E=!1;for(let $=0;$<l.length;$++)v[$]=l.charCodeAt($),E||v[$]!==46&&v[$]!==101&&v[$]!==69||(E=!0);E||(v.push(46),v.push(48)),o.push(v)}}const IA={addBreakTokens:!0,mapSorter:function(s,o){if(Array.isArray(s[0])||Array.isArray(o[0]))throw new Error(`${ee} complex map keys are not supported`);const f=s[0],l=o[0];if(f.type!==y.string||l.type!==y.string)throw new Error(`${ee} non-string map keys are not supported`);if(f<l)return-1;if(f>l)return 1;throw new Error(`${ee} unexpected duplicate map keys, this is not supported`)}};class Xw{constructor(o,f={}){this.pos=0,this.data=o,this.options=f,this.modeStack=["value"],this.lastToken=""}done(){return this.pos>=this.data.length}ch(){return this.data[this.pos]}currentMode(){return this.modeStack[this.modeStack.length-1]}skipWhitespace(){let o=this.ch();for(;o===32||o===9||o===13||o===10;)o=this.data[++this.pos]}expect(o){if(this.data.length-this.pos<o.length)throw new Error(`${D} unexpected end of input at position ${this.pos}`);for(let f=0;f<o.length;f++)if(this.data[this.pos++]!==o[f])throw new Error(`${D} unexpected token at position ${this.pos}, expected to find '${String.fromCharCode(...o)}'`)}parseNumber(){const o=this.pos;let f=!1,l=!1;const v=F=>{for(;!this.done();){const V=this.ch();if(!F.includes(V))break;this.pos++}};if(this.ch()===45&&(f=!0,this.pos++),this.ch()===48){if(this.pos++,this.ch()!==46)return new I(y.uint,0,this.pos-o);this.pos++,l=!0}if(v([48,49,50,51,52,53,54,55,56,57]),f&&this.pos===o+1)throw new Error(`${D} unexpected token at position ${this.pos}`);if(!this.done()&&this.ch()===46){if(l)throw new Error(`${D} unexpected token at position ${this.pos}`);l=!0,this.pos++,v([48,49,50,51,52,53,54,55,56,57])}this.done()||this.ch()!==101&&this.ch()!==69||(l=!0,this.pos++,this.done()||this.ch()!==43&&this.ch()!==45||this.pos++,v([48,49,50,51,52,53,54,55,56,57]));const E=String.fromCharCode.apply(null,this.data.subarray(o,this.pos)),$=parseFloat(E);return l?new I(y.float,$,this.pos-o):this.options.allowBigInt!==!0||Number.isSafeInteger($)?new I($>=0?y.uint:y.negint,$,this.pos-o):new I($>=0?y.uint:y.negint,BigInt(E),this.pos-o)}parseString(){if(this.ch()!==34)throw new Error(`${D} unexpected character at position ${this.pos}; this shouldn't happen`);this.pos++;for(let E=this.pos,$=0;E<this.data.length&&$<65536;E++,$++){const F=this.data[E];if(F===92||F<32||F>=128)break;if(F===34){const V=String.fromCharCode.apply(null,this.data.subarray(this.pos,E));return this.pos=E+1,new I(y.string,V,$)}}const o=this.pos,f=[],l=()=>{if(this.pos+4>=this.data.length)throw new Error(`${D} unexpected end of unicode escape sequence at position ${this.pos}`);let E=0;for(let $=0;$<4;$++){let F=this.ch();if(F>=48&&F<=57)F-=48;else if(F>=97&&F<=102)F=F-97+10;else{if(!(F>=65&&F<=70))throw new Error(`${D} unexpected unicode escape character at position ${this.pos}`);F=F-65+10}E=16*E+F,this.pos++}return E},v=()=>{const E=this.ch();let $,F,V,X,oe=null,ye=E>239?4:E>223?3:E>191?2:1;if(this.pos+ye>this.data.length)throw new Error(`${D} unexpected unicode sequence at position ${this.pos}`);switch(ye){case 1:E<128&&(oe=E);break;case 2:$=this.data[this.pos+1],(192&$)==128&&(X=(31&E)<<6|63&$,X>127&&(oe=X));break;case 3:$=this.data[this.pos+1],F=this.data[this.pos+2],(192&$)==128&&(192&F)==128&&(X=(15&E)<<12|(63&$)<<6|63&F,X>2047&&(X<55296||X>57343)&&(oe=X));break;case 4:$=this.data[this.pos+1],F=this.data[this.pos+2],V=this.data[this.pos+3],(192&$)==128&&(192&F)==128&&(192&V)==128&&(X=(15&E)<<18|(63&$)<<12|(63&F)<<6|63&V,X>65535&&X<1114112&&(oe=X))}oe===null?(oe=65533,ye=1):oe>65535&&(oe-=65536,f.push(oe>>>10&1023|55296),oe=56320|1023&oe),f.push(oe),this.pos+=ye};for(;!this.done();){const E=this.ch();let $;switch(E){case 92:if(this.pos++,this.done())throw new Error(`${D} unexpected string termination at position ${this.pos}`);switch($=this.ch(),this.pos++,$){case 34:case 39:case 92:case 47:f.push($);break;case 98:f.push(8);break;case 116:f.push(9);break;case 110:f.push(10);break;case 102:f.push(12);break;case 114:f.push(13);break;case 117:f.push(l());break;default:throw new Error(`${D} unexpected string escape character at position ${this.pos}`)}break;case 34:return this.pos++,new I(y.string,C(f),this.pos-o);default:if(E<32)throw new Error(`${D} invalid control character at position ${this.pos}`);E<128?(f.push(E),this.pos++):v()}}throw new Error(`${D} unexpected end of string at position ${this.pos}`)}parseValue(){switch(this.ch()){case 123:return this.modeStack.push("obj-start"),this.pos++,new I(y.map,1/0,1);case 91:return this.modeStack.push("array-start"),this.pos++,new I(y.array,1/0,1);case 34:return this.parseString();case 110:return this.expect([110,117,108,108]),new I(y.null,null,4);case 102:return this.expect([102,97,108,115,101]),new I(y.false,!1,5);case 116:return this.expect([116,114,117,101]),new I(y.true,!0,4);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.parseNumber();default:throw new Error(`${D} unexpected character at position ${this.pos}`)}}next(){switch(this.skipWhitespace(),this.currentMode()){case"value":return this.modeStack.pop(),this.parseValue();case"array-value":if(this.modeStack.pop(),this.ch()===93)return this.pos++,this.skipWhitespace(),new I(y.break,void 0,1);if(this.ch()!==44)throw new Error(`${D} unexpected character at position ${this.pos}, was expecting array delimiter but found '${String.fromCharCode(this.ch())}'`);return this.pos++,this.modeStack.push("array-value"),this.skipWhitespace(),this.parseValue();case"array-start":return this.modeStack.pop(),this.ch()===93?(this.pos++,this.skipWhitespace(),new I(y.break,void 0,1)):(this.modeStack.push("array-value"),this.skipWhitespace(),this.parseValue());case"obj-key":if(this.ch()===125)return this.modeStack.pop(),this.pos++,this.skipWhitespace(),new I(y.break,void 0,1);if(this.ch()!==44)throw new Error(`${D} unexpected character at position ${this.pos}, was expecting object delimiter but found '${String.fromCharCode(this.ch())}'`);this.pos++,this.skipWhitespace();case"obj-start":{if(this.modeStack.pop(),this.ch()===125)return this.pos++,this.skipWhitespace(),new I(y.break,void 0,1);const o=this.parseString();if(this.skipWhitespace(),this.ch()!==58)throw new Error(`${D} unexpected character at position ${this.pos}, was expecting key/value delimiter ':' but found '${String.fromCharCode(this.ch())}'`);return this.pos++,this.modeStack.push("obj-value"),o}case"obj-value":return this.modeStack.pop(),this.modeStack.push("obj-key"),this.skipWhitespace(),this.parseValue();default:throw new Error(`${D} unexpected parse state at position ${this.pos}; this shouldn't happen`)}}}function Qw(s){const o=Sd.encode(s).slice(1);return[new I(y.map,1/0,1),new I(y.string,"/",1),new I(y.map,1/0,1),new I(y.string,"bytes",5),new I(y.string,o,o.length),new I(y.break,void 0,1),new I(y.break,void 0,1)]}const RA={typeEncoders:{Object:function(s){if(s.asCID!==s&&s["/"]!==s.bytes)return null;const o=Ht.asCID(s);if(!o)return null;const f=o.toString();return[new I(y.map,1/0,1),new I(y.string,"/",1),new I(y.string,f,f.length),new I(y.break,void 0,1)]},Uint8Array:Qw,Buffer:Qw,undefined:function(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")},number:function(s){if(Number.isNaN(s))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(s===1/0||s===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}}};class TA extends Xw{constructor(o,f){super(o,f),this.tokenBuffer=[]}done(){return this.tokenBuffer.length===0&&super.done()}_next(){return this.tokenBuffer.length>0?this.tokenBuffer.pop():super.next()}next(){const o=this._next();if(o.type===y.map){const f=this._next();if(f.type===y.string&&f.value==="/"){const l=this._next();if(l.type===y.string){if(this._next().type!==y.break)throw new Error("Invalid encoded CID form");return this.tokenBuffer.push(l),new I(y.tag,42,0)}if(l.type===y.map){const v=this._next();if(v.type===y.string&&v.value==="bytes"){const E=this._next();if(E.type===y.string){for(let F=0;F<2;F++)if(this._next().type!==y.break)throw new Error("Invalid encoded Bytes form");const $=Sd.decode(`m${E.value}`);return new I(y.bytes,$,E.value.length)}this.tokenBuffer.push(E)}this.tokenBuffer.push(v)}this.tokenBuffer.push(l)}this.tokenBuffer.push(f)}return o}}const ty={allowIndefinite:!1,allowUndefined:!1,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,rejectDuplicateMapKeys:!0,tags:[]};ty.tags[42]=Ht.parse;const ry=s=>{return o=s,f=RA,f=Object.assign({},IA,f),ji(o,new BA,f);var o,f},e3=s=>function(o,f){return Fi(o,f=Object.assign({tokenizer:new Xw(o,f)},f))}(s,Object.assign(ty,{tokenizer:new TA(s,ty)}));new TextDecoder,new TextEncoder;const t3=(s,o)=>ts.baseEncode(PA(s,o)),r3=s=>ts.baseEncode($A(s)),NA=s=>ts.baseEncode(s.raw),PA=(s,o)=>ry({alg:o,ucv:s,typ:"JWT"}),$A=s=>ry({iss:jw(s.iss),aud:jw(s.aud),att:s.att,exp:s.exp,prf:s.prf.map(LA),...s.fct.length>0&&{fct:s.fct},...s.nnc&&{nnc:s.nnc},...s.nbf&&{nbf:s.nbf}}),LA=s=>s.toString();class n3{constructor(o){this.model=o}get version(){return this.model.v}get issuer(){return Fw(this.model.iss)}get audience(){return Fw(this.model.aud)}get capabilities(){return this.model.att}get expiration(){const{exp:o}=this.model;return o===null?1/0:o}get notBefore(){return this.model.nbf}get nonce(){return this.model.nnc}get facts(){return this.model.fct}get proofs(){return this.model.prf}get signature(){return this.model.s}get jwt(){return this.model.jwt}get s(){return this.model.s}get v(){return this.model.v}get iss(){return this.model.iss}get aud(){return this.model.aud}get att(){return this.model.att}get exp(){return this.model.exp}get nbf(){return this.model.nbf}get nnc(){return this.model.nnc}get fct(){return this.model.fct}get prf(){return this.model.prf}toJSON(){const{v:o,iss:f,aud:l,s:v,att:E,prf:$,exp:F,fct:V,nnc:X,nbf:oe}=this.model;return{iss:f,aud:l,v:o,s:v,exp:F,...(ye={att:E,prf:$,...V.length>0&&{fct:V}},JSON.parse(_d(ry(ye)))),...X!=null&&{nnc:X},...oe&&{nbf:oe}};var ye}}const i3=s=>{const{fct:o,nnc:f,nbf:l,...v}=Q1(s);return K1({...o.length>0&&{fct:o},...f!=null&&{nnc:f},...l&&{nbf:l},...v,v:ey(s.v,"v"),s:OA(s.s,"s")})},OA=(s,o)=>{try{return(f=>X1(f))(s)}catch(f){throw new Error(`Expected signature ${o}, instead got ${JSON.stringify(s)}`,{cause:f})}};class a3 extends n3{get code(){return 113}format(){return o=this.model,`${t3(o.v,o.s.algorithm)}.${r3(o)}.${NA(o.s)}`;var o}encode(){return i3(this.model)}}const DA=s=>{const o=s.split("."),[f,l,v]=o.length===3?o:kd(`Can't parse UCAN: ${s}: Expected JWT format: 3 dot-separated base64url-encoded values.`),{ucv:E,alg:$}=UA(f);return{...jA(l),v:E,s:lA($,ts.baseDecode(v))}},UA=s=>{const{ucv:o,alg:f,typ:l}=e3(ts.baseDecode(s));return{typ:(v=l,E="JWT",$="typ",v===E?E:Ki.throw(`Expected ${$} to be a ${JSON.stringify(E)} instead got ${JSON.stringify(v)}`)),ucv:ey(o,"ucv"),alg:Ed(f,"alg")};var v,E,$},jA=s=>{const o=e3(ts.baseDecode(s));return Ww(o,{readPrincipal:MA,readProof:SA})},o3=({jwt:s})=>Zf(s);class FA extends n3{constructor(o){super(o),this.model=o}get code(){return 85}format(){return(({jwt:o})=>o)(this.model)}encode(){return o3(this.model)}}const zA=M,KA=s=>{try{return(o=>{const f=Vf(o);return new a3({...Q1(f),v:ey(f.v,"v"),s:pA(f.s)})})(s)}catch{return(f=>{const l=_d(f);return new FA({...DA(l),jwt:l})})(s)}},s3=async({issuer:s,audience:o,capabilities:f,lifetimeInSeconds:l=30,expiration:v=HA()+l,notBefore:E,facts:$=[],proofs:F=[],nonce:V})=>{const X="0.9.1",oe=Q1({iss:zi(s.did()),aud:zi(o.did()),att:f,fct:$,exp:v,nbf:E,prf:F,nnc:V}),ye=qA(oe,X,s.signatureAlgorithm);return me={...oe,v:X,s:await s.sign(ye)},new a3(me);var me},qA=(s,o,f)=>Zf(((l,v,E)=>`${t3(v,E)}.${r3(l)}`)(s,o,f)),HA=()=>Math.floor(Date.now()/1e3),ny=s=>!tc(s);class Md{constructor(o,f=new Map){this.root=o,this.blocks=f,Object.defineProperties(this,{blocks:{enumerable:!1}})}get version(){return this.data.version}get signature(){return this.data.signature}get cid(){return this.root.cid}get asCID(){return this.cid}get bytes(){return this.root.bytes}get data(){const o=ay(this.root);return Object.defineProperties(this,{data:{value:o,enumerable:!1}}),o}export(){return f3(this.root,this.blocks)}get proofs(){return VA(this)}get issuer(){return this.data.issuer}get audience(){return this.data.audience}get capabilities(){return this.data.capabilities}get expiration(){return this.data.expiration}get notBefore(){return this.data.notBefore}get nonce(){return this.data.nonce}get facts(){return this.data.facts}iterate(){return c3(this)}delegate(){return this}toJSON(){return{...this.data.toJSON(),"/":this.cid.toString(),prf:this.proofs.map(o=>ny(o)?o:{"/":o.toString()})}}}const c3=function*(s){for(const o of s.proofs)ny(o)&&(yield*c3(o),yield o)},iy=new WeakMap,ay=({bytes:s})=>{const o=iy.get(s);if(!o){const f=KA(s);return iy.set(s,f),f}return o},oy=async({issuer:s,audience:o,proofs:f=[],...l},v)=>{const E=[],$=new Map;for(const ye of f)if(ny(ye)){E.push(ye.cid);for(const me of ye.export())$.set(me.cid.toString(),me)}else E.push(ye);const F=await s3({...l,issuer:s,audience:o,proofs:E}),{cid:V,bytes:X}=await(async(ye,{hasher:me=zA}={})=>{const[Pe,We]=ye.jwt?[85,o3(ye)]:[113,i3(ye)],et=await me.digest(We);return{bytes:We,cid:Gf(Pe,et),data:ye}})(F,v);iy.set(V,F);const oe=new Md({cid:V,bytes:X},$);return Object.defineProperties(oe,{proofs:{value:f}}),oe},f3=function*(s,o){for(const f of ay(s).proofs){const l=o.get(f.toString());l&&(yield*f3(l,o))}yield s},WA=s=>{let o=[];for(const l of s)o.push([l.cid.toString(),l]);const f=o.pop();if(f){const[,l]=f;return new Md(l,new Map(o))}throw new RangeError("Empty DAG can not be turned into a delegation")},u3=({root:s,blocks:o})=>new Md(s,o),VA=s=>{const o=[],{root:f,blocks:l}=s;for(const v of ay(f).proofs){const E=l.get(v.toString());o.push(E?u3({root:E,blocks:l}):v)}return Object.defineProperty(s,"proofs",{value:o}),o},l3=s=>new ZA(s);class ZA{constructor({issuer:o,audience:f,capability:l,proofs:v=[],expiration:E,lifetimeInSeconds:$,notBefore:F,nonce:V,facts:X=[]}){this.issuer=o,this.audience=f,this.proofs=v,this.capabilities=[l],this.expiration=E,this.lifetimeInSeconds=$,this.notBefore=F,this.nonce=V,this.facts=X}delegate(){return oy(this)}async execute(o){const[f]=await o.execute(this);return f}}var GA=function s(o,f,l){if(Number.MAX_SAFE_INTEGER&&o>Number.MAX_SAFE_INTEGER)throw s.bytes=0,new RangeError("Could not encode varint");f=f||[];for(var v=l=l||0;o>=JA;)f[l++]=255&o|128,o/=128;for(;-128&o;)f[l++]=255&o|128,o>>>=7;return f[l]=0|o,s.bytes=l-v+1,f},JA=Math.pow(2,31),YA=function s(o,f){var l,v=0,E=0,$=f=f||0,F=o.length;do{if($>=F||E>49)throw s.bytes=0,new RangeError("Could not decode varint");l=o[$++],v+=E<28?(127&l)<<E:(127&l)*Math.pow(2,E),E+=7}while(l>=128);return s.bytes=$-f,v},XA=Math.pow(2,7),QA=Math.pow(2,14),eC=Math.pow(2,21),tC=Math.pow(2,28),rC=Math.pow(2,35),nC=Math.pow(2,42),iC=Math.pow(2,49),aC=Math.pow(2,56),oC=Math.pow(2,63),kr={encode:GA,decode:YA,encodingLength:function(s){return s<XA?1:s<QA?2:s<eC?3:s<tC?4:s<rC?5:s<nC?6:s<iC?7:s<aC?8:s<oC?9:10}};const sC=Zt(),cC={float64:!1,quickEncodeToken:Yt};function d3(s,o=sC,f=cC){if(Array.isArray(s)){let l=0;for(const v of s)l+=d3(v,o,f);return l}{const l=o[s.type.major];if(l.encodedSize===void 0||typeof l.encodedSize!="function")throw new Error(`Encoder for ${s.type.name} does not have an encodedSize()`);return l.encodedSize(s,f)}}class fC{constructor(o,f){this.bytes=o,this.byteOffset=f,this.roots=[],this.headerSize=f}addRoot(o,f){return uC(this,o,f),this}write(o){return lC(this,o),this}close(o){return dC(this,o)}}const uC=(s,o,f={})=>{const{resize:l=!1}=f,{bytes:v,headerSize:E,byteOffset:$,roots:F}=s;s.roots.push(o);const V=fy(s);if(V>E){if(!(V-E+$<v.byteLength))throw F.pop(),new RangeError(`Buffer has no capacity for a new root ${o}`);if(!l)throw F.pop(),new RangeError(`Header of size ${E} has no capacity for new root ${o}.
  However there is a space in the buffer and you could call addRoot(root, { resize: root }) to resize header to make a space for this root.`);h3(s,V)}},sy=({cid:s,bytes:o})=>{const f=s.bytes.byteLength+o.byteLength;return kr.encodingLength(f)+f},lC=(s,{cid:o,bytes:f})=>{const l=o.bytes.byteLength+f.byteLength,v=kr.encode(l);if(s.byteOffset+v.length+l>s.bytes.byteLength)throw new RangeError("Buffer has no capacity for this block");cy(s,v),cy(s,o.bytes),cy(s,f)},dC=(s,o={})=>{const{resize:f=!1}=o,{roots:l,bytes:v,byteOffset:E,headerSize:$}=s,F=K1({version:1,roots:l}),V=kr.encode(F.length),X=V.length+F.byteLength;if($-X===0)return p3(s,V,F),v.subarray(0,E);if(f)return h3(s,X),p3(s,V,F),v.subarray(0,s.byteOffset);throw new RangeError(`Header size was overestimated.
You can use close({ resize: true }) to resize header`)},h3=(s,o)=>{const{bytes:f,headerSize:l}=s;f.set(f.subarray(l,s.byteOffset),o),s.byteOffset+=o-l,s.headerSize=o},cy=(s,o)=>{s.bytes.set(o,s.byteOffset),s.byteOffset+=o.length},p3=({bytes:s},o,f)=>{s.set(o),s.set(f,o.length)},hC=[new I(y.map,2),new I(y.string,"version"),new I(y.uint,1),new I(y.string,"roots")],pC=new I(y.tag,42),y3=s=>{const o=[...hC];o.push(new I(y.array,s.length));for(const l of s)o.push(pC),o.push(new I(y.bytes,{length:l+1}));const f=d3(o);return kr.encodingLength(f)+f},fy=({roots:s})=>y3(s.map(o=>o.bytes.byteLength)),v3=(s,o={})=>{const{roots:f=[],byteOffset:l=0,byteLength:v=s.byteLength,headerSize:E=fy({roots:f})}=o,$=new Uint8Array(s,l,v),F=new fC($,E);for(const V of f)F.addRoot(V);return F},oo={Null:s=>s===null,Int:s=>Number.isInteger(s),Float:s=>typeof s=="number"&&Number.isFinite(s),String:s=>typeof s=="string",Bool:s=>typeof s=="boolean",Bytes:s=>s instanceof Uint8Array,Link:s=>!oo.Null(s)&&typeof s=="object"&&s.asCID===s,List:s=>Array.isArray(s),Map:s=>!oo.Null(s)&&typeof s=="object"&&s.asCID!==s&&!oo.List(s)&&!oo.Bytes(s)},rc={Int:oo.Int,"CarHeader > version":s=>rc.Int(s),"CarHeader > roots (anon) > valueType (anon)":oo.Link,"CarHeader > roots (anon)":s=>oo.List(s)&&Array.prototype.every.call(s,rc["CarHeader > roots (anon) > valueType (anon)"]),"CarHeader > roots":s=>rc["CarHeader > roots (anon)"](s),CarHeader:s=>{const o=s&&Object.keys(s);return oo.Map(s)&&["version"].every(f=>o.includes(f))&&Object.entries(s).every(([f,l])=>rc["CarHeader > "+f]&&rc["CarHeader > "+f](l))}},yC=rc.CarHeader,vC=18,mC=32,gC=112;function Ad(s,o){if(!s.length)throw new Error("Unexpected end of data");const f=kr.decode(s);return o.seek(kr.decode.bytes),f}async function m3(s,o){const f=Ad(await s.upTo(8),s);if(f===0)throw new Error("Invalid CAR header (zero length)");const l=await s.exactly(f,!0),v=Vf(l);if(!yC(v))throw new Error("Invalid CAR header format");if(v.version!==1&&v.version!==2||o!==void 0&&v.version!==o)throw new Error(`Invalid CAR version: ${v.version}${o!==void 0?` (expected ${o})`:""}`);const E=Array.isArray(v.roots);if(v.version===1&&!E||v.version===2&&E)throw new Error("Invalid CAR header format");if(v.version===1)return v;const $=function(V){const X=new DataView(V.buffer,V.byteOffset,V.byteLength);let oe=0;return{version:2,characteristics:[X.getBigUint64(oe,!0),X.getBigUint64(oe+=8,!0)],dataOffset:Number(X.getBigUint64(oe+=8,!0)),dataSize:Number(X.getBigUint64(oe+=8,!0)),indexOffset:Number(X.getBigUint64(oe+=8,!0))}}(await s.exactly(40,!0));s.seek($.dataOffset-s.pos);const F=await m3(s,1);return Object.assign(F,$)}async function bC(s){const o=await s.exactly(2,!1);if(o[0]===vC&&o[1]===mC){const $=await s.exactly(34,!0),F=W($);return Ht.create(0,gC,F)}const f=Ad(await s.upTo(8),s);if(f!==1)throw new Error(`Unexpected CID version (${f})`);const l=Ad(await s.upTo(8),s),v=await s.exactly(function($){kr.decode($);const F=kr.decode.bytes,V=kr.decode($.subarray(kr.decode.bytes));return F+kr.decode.bytes+V}(await s.upTo(8)),!0),E=W(v);return Ht.create(f,l,E)}async function g3(s){const o=s.pos;let f=Ad(await s.upTo(8),s);if(f===0)throw new Error("Invalid CAR section (zero length)");return f+=s.pos-o,{cid:await bC(s),length:f,blockLength:f-Number(s.pos-o)}}async function wC(s){const{cid:o,blockLength:f}=await g3(s);return{bytes:await s.exactly(f,!0),cid:o}}async function _C(s){const o=s.pos,{cid:f,length:l,blockLength:v}=await g3(s),E={cid:f,length:l,blockLength:v,offset:o,blockOffset:s.pos};return s.seek(E.blockLength),E}function xC(s){const o=(async()=>{const f=await m3(s);if(f.version===2){const l=s.pos-f.dataOffset;s=function(v,E){let $=0;return{async upTo(F){let V=await v.upTo(F);return V.length+$>E&&(V=V.subarray(0,E-$)),V},async exactly(F,V=!1){const X=await v.exactly(F,V);if(X.length+$>E)throw new Error("Unexpected end of data");return V&&($+=F),X},seek(F){$+=F,v.seek(F)},get pos(){return v.pos}}}(s,f.dataSize-l)}return f})();return{header:()=>o,async*blocks(){for(await o;(await s.upTo(8)).length>0;)yield await wC(s)},async*blocksIndex(){for(await o;(await s.upTo(8)).length>0;)yield await _C(s)}}}function SC(s){const o=s[Symbol.asyncIterator]();return function(f){let l=0,v=0,E=0,$=new Uint8Array(0);const F=async V=>{v=$.length-E;const X=[$.subarray(E)];for(;v<V;){const ye=await f();if(ye==null)break;v<0?ye.length>v&&X.push(ye.subarray(-v)):X.push(ye),v+=ye.length}$=new Uint8Array(X.reduce((ye,me)=>ye+me.length,0));let oe=0;for(const ye of X)$.set(ye,oe),oe+=ye.length;E=0};return{upTo:async V=>($.length-E<V&&await F(V),$.subarray(E,E+Math.min($.length-E,V))),async exactly(V,X=!1){if($.length-E<V&&await F(V),$.length-E<V)throw new Error("Unexpected end of data");const oe=$.subarray(E,E+V);return X&&(l+=V,E+=V),oe},seek(V){l+=V,E+=V},get pos(){return l}}}(async function(){const f=await o.next();return f.done?null:f.value})}class b3{constructor(o,f){this._header=o,this._blocks=f,this._keys=f.map(l=>l.cid.toString())}get version(){return this._header.version}async getRoots(){return this._header.roots}async has(o){return this._keys.indexOf(o.toString())>-1}async get(o){const f=this._keys.indexOf(o.toString());return f>-1?this._blocks[f]:void 0}async*blocks(){for(const o of this._blocks)yield o}async*cids(){for(const o of this._blocks)yield o.cid}static async fromBytes(o){if(!(o instanceof Uint8Array))throw new TypeError("fromBytes() requires a Uint8Array");return w3(function(f){let l=0;return{upTo:async v=>f.subarray(l,l+Math.min(v,f.length-l)),async exactly(v,E=!1){if(v>f.length-l)throw new Error("Unexpected end of data");const $=f.subarray(l,l+v);return E&&(l+=v),$},seek(v){l+=v},get pos(){return l}}}(o))}static async fromIterable(o){if(!o||typeof o[Symbol.asyncIterator]!="function")throw new TypeError("fromIterable() requires an async iterable");return w3(SC(o))}}async function w3(s){const o=xC(s),f=await o.header(),l=[];for await(const v of o.blocks())l.push(v);return new b3(f,l)}class _3{constructor(o=[],f=0){this.written=new Set,this.blocks=o,this.byteLength=f}write(...o){for(const f of o){const l=f.cid.toString(es);this.written.has(l)||(this.blocks.push(f),this.byteLength+=sy(f),this.written.add(l))}return this}flush(...o){const f=[];for(const E of o.reverse()){const $=E.cid.toString(es);this.written.has($)||(this.blocks.unshift(E),this.byteLength+=sy({cid:E.cid,bytes:E.bytes}),this.written.add($)),f.push(E.cid)}this.byteLength+=fy({roots:f});const l=new ArrayBuffer(this.byteLength),v=v3(l,{roots:f});for(const E of this.blocks)v.write(E);return v.close()}}const uy=({roots:s=[],blocks:o})=>{const f=new _3;return o&&f.write(...o.values()),f.flush(...s)},x3=async s=>{const o=await b3.fromBytes(s),{_header:f,_blocks:l,_keys:v}=o,E=[],$=new Map,F=f.roots.map(V=>v.indexOf(String(V)));for(const[V,X]of l.entries())F.includes(V)?E.push(X):$.set(X.cid.toString(),X);return{roots:E,blocks:$}},S3=async(s,{hasher:o=M}={})=>Gf(514,await o.digest(s));var EC=Object.freeze({__proto__:null,code:514,createWriter:()=>new _3,encode:uy,decode:x3,link:S3,write:async(s,o)=>{const f=uy(s);return{bytes:f,cid:await S3(f,o)}}});const kC=Object.freeze({"content-type":"application/car"});var MC=Object.freeze({__proto__:null,codec:EC,encode:async(s,o)=>{const f=[],l=new Map;for(const E of s){const $=await E.delegate();f.push($.root);for(const F of $.export())l.set(F.cid.toString(),F);l.delete($.root.cid.toString())}const v=uy({roots:f,blocks:l});return{headers:kC,body:v}},decode:async({headers:s,body:o})=>{const f=s["content-type"]||s["Content-Type"];if(f!=="application/car")throw TypeError(`Only 'content-type: application/car' is supported, instead got '${f}'`);const{roots:l,blocks:v}=await x3(o),E=[];for(const $ of l)E.push(u3({root:$,blocks:v}));return E}});const Cd=(s,o)=>{if(o.has(s))throw new TypeError("Can not encode circular structure");if(s===void 0&&o.size===0||s===null||typeof s=="symbol"&&o.size===0)return null;if(tc(s)||ArrayBuffer.isView(s))return s;if(Array.isArray(s)){o.add(s);const f=[];for(const l of s)f.push(l===void 0||typeof l=="symbol"?null:Cd(l,o));return f}if(typeof s.toJSON=="function"){o.add(s);const f=s.toJSON();return Cd(f,o)}if(typeof s=="object"){o.add(s);const f={};for(const[l,v]of Object.entries(s))v!==void 0&&typeof v!="symbol"&&(f[l]=Cd(v,o));return f}return s},ly=s=>K1(Cd(s,new Set)),E3=async(s,{hasher:o=M}={})=>Gf(113,await o.digest(s));var AC=Object.freeze({__proto__:null,encode:ly,link:E3,write:async(s,o)=>{const f=ly(s);return{cid:await E3(f,o),bytes:f}},code:113,decode:Vf});const CC=Object.freeze({"content-type":"application/cbor"});var BC=Object.freeze({__proto__:null,codec:AC,encode:s=>({headers:CC,body:ly(s)}),decode:async({headers:s,body:o})=>{const f=s["content-type"]||s["Content-Type"];if(f!=="application/cbor")throw TypeError(`Only 'content-type: application/cbor' is supported, intsead got '${f}'`);return Vf(o)}});const IC=({url:s,method:o="POST",fetch:f})=>{if(!f){if(globalThis.fetch===void 0)throw new TypeError("ucanto HTTP transport got undefined `fetch`. Try passing in a `fetch` implementation explicitly.");f=globalThis.fetch.bind(globalThis)}return new RC({url:s,method:o,fetch:f})};class RC{constructor({url:o,fetch:f,method:l}){this.fetch=f,this.method=l,this.url=o}async request({headers:o,body:f}){const l=await this.fetch(this.url.href,{headers:o,body:f,method:this.method}),v=l.ok?await l.arrayBuffer():TC.throw("HTTP Request failed",l);return{headers:l.headers.entries?Object.fromEntries(l.headers.entries()):{},body:new Uint8Array(v)}}}class TC extends Error{static throw(o,f){throw new this(o,f)}constructor(o,{url:f,status:l=500,statusText:v="Server error"}){super(o),this.name="HTTPError",this.url=f,this.status=l,this.statusText=v}}const k3=s=>Object.entries(s),M3=(s,o)=>{const[f,l]=s.length<o.length?[new Set(s),new Set(o)]:[new Set(o),new Set(s)];for(const v of f)l.has(v)||f.delete(v);return[...f]};class cn extends Error{get error(){return!0}describe(){return this.name}get message(){return this.describe()}toJSON(){const{error:o,name:f,message:l,stack:v}=this;return{error:o,name:f,message:l,stack:v}}}class A3 extends cn{constructor(o,f,l){super(),this.claimed=o,this.delegated=f,this.cause=l,this.name="EscalatedCapability"}describe(){return`Constraint violation: ${this.cause.message}`}}class nc extends cn{constructor(o,f){super(),this.name="InvalidClaim",this.causes=o,this.context=f}describe(){return[`Can not derive ${this.context} from delegated capabilities:`,...this.causes.map(o=>R3(o.message))].join(`
`)}get cause(){if(this.causes.length!==1)return this;{const[o]=this.causes,f=o.name==="InvalidClaim"?o.cause:o;return Object.defineProperties(this,{cause:{value:f}}),f}}}class C3 extends cn{constructor(o,f){super(),this.name="MalformedCapability",this.capability=o,this.cause=f}describe(){return[`Encountered malformed '${this.capability.can}' capability: ${I3(this.capability)}`,R3(this.cause.message)].join(`
`)}}class B3 extends cn{constructor(o){super(),this.name="UnknownCapability",this.capability=o}describe(){return`Encountered unknown capability: ${I3(this.capability)}`}}const I3=(s,o)=>JSON.stringify(s,(f,l)=>tc(l)?l.toString():l,o),R3=s=>((o,f="  ")=>`${f}${o.split(`
`).join(`
${f}`)}`)(`- ${s}`),Lr=s=>new NC(s);class T3{match(o){return new B3(o.capability)}select(o){return OC(this,o)}derive({derives:o,to:f}){return(({from:l,to:v,derives:E})=>new $C(l,v,E))({derives:o,to:f,from:this})}}class dy extends T3{or(o){return new PC(this,o)}and(o){return((...f)=>new hy(f))(this,o)}}class NC extends dy{constructor(o){super(),this.descriptor={derives:$3,...o}}create(o){const{descriptor:f,can:l}=this,v=f.nb,E=o.nb||{},$=f.with.read(o.with);if($.error)throw Object.assign(new Error(`Invalid 'with' - ${$.message}`),{cause:$});const F={can:l,with:$};for(const[V,X]of Object.entries(v||{})){const oe=V,ye=X.read(E[oe]);if(ye!=null&&ye.error)throw Object.assign(new Error(`Invalid 'nb.${oe}' - ${ye.message}`),{cause:ye});ye!==void 0&&((F.nb||(F.nb={}))[V]=ye)}return F}invoke({with:o,nb:f,...l}){return l3({...l,capability:this.create({with:o,nb:f})})}async delegate({with:o,nb:f,...l}){const{descriptor:v,can:E}=this,$=v.nb,F=f||{},V=v.with.read(o);if(V.error)throw Object.assign(new Error(`Invalid 'with' - ${V.message}`),{cause:V});const X={can:E,with:V};for(const[oe,ye]of Object.entries($||{})){const me=oe,Pe=F[me],We=Pe===void 0?Pe:ye.read(F[me]);if(We!=null&&We.error)throw Object.assign(new Error(`Invalid 'nb.${me}' - ${We.message}`),{cause:We});We!==void 0&&((X.nb||(X.nb={}))[oe]=We)}return await oy({capabilities:[X],...l})}get can(){return this.descriptor.can}match(o){const f=N3(this,o);return f.error?f:new py(o,f,this.descriptor)}toString(){return JSON.stringify({can:this.descriptor.can})}}class PC extends dy{constructor(o,f){super(),this.left=o,this.right=f}match(o){const f=this.left.match(o);if(f.error){const l=this.right.match(o);return l.error?l.name==="MalformedCapability"?l:f:l}return f}toString(){return`${this.left.toString()}|${this.right.toString()}`}}class hy extends T3{constructor(o){super(),this.selectors=o}match(o){const f=[];for(const l of this.selectors){const v=l.match(o);if(v.error)return v;f.push(v)}return new Id(f)}select(o){return P3(this,o)}and(o){return new hy([...this.selectors,o])}toString(){return`[${this.selectors.map(String).join(", ")}]`}}class $C extends dy{constructor(o,f,l){super(),this.from=o,this.to=f,this.derives=l}create(o){return this.to.create(o)}invoke(o){return this.to.invoke(o)}delegate(o){return this.to.delegate(o)}get can(){return this.to.can}match(o){const f=this.to.match(o);return f.error?f:new Bd(f,this.from,this.derives)}toString(){return this.to.toString()}}class py{constructor(o,f,l){this.source=[o],this.value=f,this.descriptor={derives:$3,...l}}get can(){return this.value.can}get proofs(){const o=[this.source[0].delegation];return Object.defineProperties(this,{proofs:{value:o}}),o}prune(o){return o.canIssue(this.value,this.source[0].delegation.issuer.did())?null:this}select(o){const f=[],l=[],v=[];for(const E of o){const $=N3(this,E,!0);if($.error)$.name==="UnknownCapability"?f.push($.capability):l.push(new nc([$],this));else{const F=this.descriptor.derives(this.value,$);F.error?l.push(new nc([new A3(this.value,$,F)],this)):v.push(new py(E,$,this.descriptor))}}return{matches:v,unknown:f,errors:l}}toString(){const{nb:o}=this.value;return JSON.stringify({can:this.descriptor.can,with:this.value.with,nb:o&&Object.keys(o).length>0?o:void 0})}}class Bd{constructor(o,f,l){this.selected=o,this.from=f,this.derives=l}get can(){return this.value.can}get source(){return this.selected.source}get proofs(){const o=[];for(const{delegation:f}of this.selected.source)o.push(f);return Object.defineProperties(this,{proofs:{value:o}}),o}get value(){return this.selected.value}prune(o){const f=this.selected.prune(o);return f?new Bd(f,this.from,this.derives):null}select(o){const{derives:f,selected:l,from:v}=this,{value:E}=l,$=l.select(o),F=v.select(o),V=[],X=[];for(const oe of F.matches){const ye=f(E,oe.value);ye.error?X.push(new nc([new A3(E,oe.value,ye)],this)):V.push(oe)}return{unknown:M3($.unknown,F.unknown),errors:[...X,...$.errors,...F.errors.map(oe=>new nc([oe],this))],matches:[...$.matches.map(oe=>new Bd(oe,v,f)),...V]}}toString(){return this.selected.toString()}}class Id{constructor(o){this.matches=o}get selectors(){return this.matches}get source(){const o=[];for(const f of this.matches)o.push(...f.source);return Object.defineProperties(this,{source:{value:o}}),o}prune(o){const f=[];for(const l of this.matches){const v=l.prune(o);v&&f.push(v)}return f.length===0?null:new Id(f)}get proofs(){const o=[];for(const{delegation:f}of this.source)o.push(f);return Object.defineProperties(this,{proofs:{value:o}}),o}get value(){const o=[];for(const f of this.matches)o.push(f.value);return Object.defineProperties(this,{value:{value:o}}),o}select(o){return P3(this,o)}toString(){return`[${this.matches.map(o=>o.toString()).join(", ")}]`}}const N3=(s,o,f=!1)=>{const{can:l,with:v,nb:E}=s.descriptor,{delegation:$}=o,F=o.capability;if(F.can!==l)return new B3(F);const V=v.read(F.with);if(V.error)return new C3(F,V);const X={};if(E){const oe=F.nb||{};for(const[ye,me]of k3(E)){const Pe=ye;if(Pe in oe||!f){const We=me.read(oe[Pe]);if(We!=null&&We.error)return new C3(F,We);We!=null&&(X[Pe]=We)}}}return new LC(l,F.with,X,$)};class LC{constructor(o,f,l,v){this.can=o,this.with=f,this.delegation=v,this.nb=l}}const OC=(s,o)=>{const f=[],l=[],v=[];for(const E of o){const $=s.match(E);$.error?$.name==="UnknownCapability"?f.push($.capability):v.push(new nc([$],$.capability)):l.push($)}return{matches:l,errors:v,unknown:f}},P3=(s,o)=>{let f;const l=[],v=[];for(const E of s.selectors){const $=E.select(o);f=f?M3(f,$.unknown):$.unknown;for(const F of $.errors)v.push(new nc([F],s));l.push($.matches)}return{unknown:f||[],errors:v,matches:(([E,...$])=>{const F=E.map(V=>[V]);for(const V of $){const X=F.splice(0);for(const oe of V)for(const ye of X)F.push([...ye,oe])}return F})(l).map(E=>new Id(E))}},$3=(s,o)=>{if(o.with.endsWith("*")){if(!s.with.startsWith(o.with.slice(0,-1)))return new cn(`Resource ${s.with} does not match delegated ${o.with} `)}else if(o.with!==s.with)return new cn(`Resource ${s.with} is not contained by ${o.with}`);const f=o.nb||{},l=s.nb||{},v=k3(f);for(const[E,$]of v)if(l[E]!=$)return new cn(`${String(E)}: ${l[E]} violates ${$}`);return!0};class Or{constructor(o){this.settings=o}toString(){return`new ${this.constructor.name}()`}readWith(o,f){throw new Error("Abstract method readWith must be implemented by subclass")}read(o){return this.readWith(o,this.settings)}is(o){var f;return!((f=this.read(o))!=null&&f.error)}from(o){const f=this.read(o);if(f!=null&&f.error)throw f;return f}optional(){return zC(this)}nullable(){return UC(this)}array(){return qC(this)}or(o){return WC(this,o)}and(o){return ZC(this,o)}refine(o){return lB(this,o)}brand(o){return this}default(o){const f=this.from(o);if(f===void 0)throw new Error("Value of type undefined is not a vaild default");return new FC({reader:this,value:f})}}class DC extends Or{readWith(o,f){const l=f.read(o);return l!=null&&l.error?o===null?null:new j3({causes:[l,rs({expect:"null",actual:o})]}):l}toString(){return`${this.settings}.nullable()`}}const UC=s=>new DC(s);class jC extends Or{optional(){return this}readWith(o,f){const l=f.read(o);return l!=null&&l.error&&o===void 0?void 0:l}toString(){return`${this.settings}.optional()`}}class FC extends Or{optional(){return this}readWith(o,{reader:f,value:l}){if(o===void 0)return l;{const v=f.read(o);return v===void 0?l:v}}toString(){return`${this.settings.reader}.default(${JSON.stringify(this.settings.value)})`}get value(){return this.settings.value}}const zC=s=>new jC(s);class KC extends Or{readWith(o,f){if(!Array.isArray(o))return rs({expect:"array",actual:o});const l=[];for(const[v,E]of o.entries()){const $=f.read(E);if($!=null&&$.error)return vB({at:v,cause:$});l.push($)}return l}get element(){return this.settings}toString(){return`array(${this.element})`}}const qC=s=>new KC(s);class HC extends Or{readWith(o,f){const l=[];for(const v of f){const E=v.read(o);if(!(E!=null&&E.error))return E;l.push(E)}return new j3({causes:l})}get variants(){return this.settings}toString(){return`union([${this.variants.map(o=>o.toString()).join(", ")}])`}}const WC=(s,o)=>new HC([s,o]);class VC extends Or{readWith(o,f){const l=[];for(const v of f){const E=v.read(o);E!=null&&E.error&&l.push(E)}return l.length>0?new mB({causes:l}):o}toString(){return`intersection([${this.settings.map(o=>o.toString()).join(",")}])`}}const ZC=(s,o)=>new VC([s,o]),GC=new class extends Or{readWith(s){switch(s){case!0:case!1:return s;default:return rs({expect:"boolean",actual:s})}}toString(){return"boolean()"}},L3=()=>GC;class O3 extends Or{greaterThan(o){return this.refine(eB(o))}lessThan(o){return this.refine(XC(o))}refine(o){return new JC({base:this,schema:o})}}const D3=new class extends O3{readWith(s){return typeof s=="number"?s:rs({expect:"number",actual:s})}toString(){return"number()"}};class JC extends O3{readWith(o,{base:f,schema:l}){const v=f.read(o);return v!=null&&v.error?v:l.read(v)}toString(){return`${this.settings.base}.refine(${this.settings.schema})`}}class YC extends Or{readWith(o,f){return o<f?o:Rn(`Expected ${o} < ${f}`)}toString(){return`lessThan(${this.settings})`}}const XC=s=>new YC(s);class QC extends Or{readWith(o,f){return o>f?o:Rn(`Expected ${o} > ${f}`)}toString(){return`greaterThan(${this.settings})`}}const eB=s=>new QC(s),tB={read:s=>Number.isInteger(s)?s:rs({expect:"integer",actual:s}),toString:()=>"Integer"},rB=D3.refine(tB),yy=()=>rB,nB={read:s=>Number.isFinite(s)?s:rs({expect:"Float",actual:s}),toString:()=>"Float"};D3.refine(nB);class U3 extends Or{refine(o){return new iB({base:this,schema:o})}startsWith(o){return this.refine(sB(o))}endsWith(o){return this.refine(fB(o))}toString(){return"string()"}}class iB extends U3{readWith(o,{base:f,schema:l}){const v=f.read(o);return v!=null&&v.error?v:l.read(v)}toString(){return`${this.settings.base}.refine(${this.settings.schema})`}}const aB=new class extends U3{readWith(s){return typeof s=="string"?s:rs({expect:"string",actual:s})}},Rd=()=>aB;class oB extends Or{readWith(o,f){return o.startsWith(f)?o:Rn(`Expect string to start with "${f}" instead got "${o}"`)}get prefix(){return this.settings}toString(){return`startsWith("${this.prefix}")`}}const sB=s=>new oB(s);class cB extends Or{readWith(o,f){return o.endsWith(f)?o:Rn(`Expect string to end with "${f}" instead got "${o}"`)}get suffix(){return this.settings}toString(){return`endsWith("${this.suffix}")`}}const fB=s=>new cB(s);class uB extends Or{readWith(o,{base:f,schema:l}){const v=f.read(o);return v!=null&&v.error?v:l.read(v)}toString(){return`${this.settings.base}.refine(${this.settings.schema})`}}const lB=(s,o)=>new uB({base:s,schema:o}),Rn=s=>new ic(s);class ic extends Error{get name(){return"SchemaError"}get error(){return!0}describe(){return this.name}get message(){return this.describe()}toJSON(){const{error:o,name:f,message:l,stack:v}=this;return{error:o,name:f,message:l,stack:v}}}class dB extends ic{constructor({expect:o,actual:f}){super(),this.expect=o,this.actual=f}get name(){return"TypeError"}describe(){return`Expected value of type ${this.expect} instead got ${hB(this.actual)}`}}const rs=s=>new dB(s),hB=s=>{const o=typeof s;switch(o){case"boolean":case"string":return JSON.stringify(s);case"bigint":return`${s}n`;case"number":case"symbol":case"undefined":return String(s);case"object":return s===null?"null":Array.isArray(s)?"array":"object";default:return o}};class pB extends ic{constructor({at:o,cause:f}){super(),this.at=o,this.cause=f}get name(){return"ElementError"}describe(){return[`Array contains invalid element at ${this.at}:`,Td(this.cause.message)].join(`
`)}}class yB extends ic{constructor({at:o,cause:f}){super(),this.at=o,this.cause=f}get name(){return"FieldError"}describe(){return[`Object contains invalid field "${this.at}":`,Td(this.cause.message)].join(`
`)}}const vB=({at:s,cause:o})=>typeof s=="string"?new yB({at:s,cause:o}):new pB({at:s,cause:o});class j3 extends ic{constructor({causes:o}){super(),this.causes=o}get name(){return"UnionError"}describe(){const{causes:o}=this;return["Value does not match any type of the union:",...o.map(f=>Td(f.message))].join(`
`)}}class mB extends ic{constructor({causes:o}){super(),this.causes=o}get name(){return"IntersectionError"}describe(){const{causes:o}=this;return["Value does not match following types of the intersection:",...o.map(f=>Td(f.message))].join(`
`)}}const Td=s=>((o,f="  ")=>`${f}${o.split(`
`).join(`
${f}`)}`)(`- ${s}`);class F3 extends Or{readWith(o,{protocol:f}={}){if(typeof o!="string"&&!(o instanceof URL))return Rn("Expected URI but got "+(o===null?"null":typeof o));try{const l=new URL(String(o));return f!=null&&l.protocol!==f?Rn(`Expected ${f} URI instead got ${l.href}`):l.href}catch{return Rn("Invalid URI")}}}const z3=new F3({}),vr=s=>new F3(s),ac=s=>z3.from(s);class K3 extends Or{readWith(o,{code:f,algorithm:l,version:v}){return o==null?Rn(`Expected link but got ${o} instead`):tc(o)?f!=null&&o.code!==f?Rn(`Expected link to be CID with 0x${f.toString(16)} codec`):l!=null&&o.multihash.code!==l?Rn(`Expected link to be CID with 0x${l.toString(16)} hashing algorithm`):v!=null&&o.version!==v?Rn(`Expected link to be CID version ${v} instead of ${o.version}`):o:Rn(`Expected link to be a CID instead of ${o}`)}}const Nd=new K3({}),q3=(s={})=>new K3(s),H3=()=>Nd.optional();var Pd=Object.freeze({__proto__:null,create:Gf,createLegacy:s=>Ht.create(0,112,s),isLink:tc,parse:Lw,schema:Nd,link:()=>Nd,match:q3,read:s=>Nd.read(s),optional:H3});class W3 extends Or{readWith(o,f){const l=f?`did:${f}:`:"did:";return o.startsWith(l)?o:Rn(`Expected a ${l} but got "${o}" instead`)}}const V3=Rd().refine(new W3),vy=s=>Rd().refine(new W3(s.method));Lr({can:"*",with:Object.freeze({__proto__:null,did:()=>V3,read:s=>V3.read(s),match:vy,from:s=>vy({}).from(s)})});var gB=Object.freeze({__proto__:null,default:{}});/*! noble-ed25519 - MIT License (c) 2019 Paul Miller (paulmillr.com) */const Dr=BigInt(0),It=BigInt(1),oc=BigInt(2),Z3=BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),ar=Object.freeze({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),P:BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),l:Z3,n:Z3,h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960")}),G3=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),Jf=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt("6853475219497561581579357271197624642482790079785650197046958215289687604742");const bB=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),wB=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),_B=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),xB=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952");class Nt{constructor(o,f,l,v){this.x=o,this.y=f,this.z=l,this.t=v}static fromAffine(o){if(!(o instanceof hr))throw new TypeError("ExtendedPoint#fromAffine: expected Point");return o.equals(hr.ZERO)?Nt.ZERO:new Nt(o.x,o.y,It,we(o.x*o.y))}static toAffineBatch(o){const f=function(l,v=ar.P){const E=new Array(l.length),$=$d(l.reduce((F,V,X)=>V===Dr?F:(E[X]=F,we(F*V,v)),It),v);return l.reduceRight((F,V,X)=>V===Dr?F:(E[X]=we(F*E[X],v),we(F*V,v)),$),E}(o.map(l=>l.z));return o.map((l,v)=>l.toAffine(f[v]))}static normalizeZ(o){return this.toAffineBatch(o).map(this.fromAffine)}equals(o){J3(o);const{x:f,y:l,z:v}=this,{x:E,y:$,z:F}=o,V=we(f*F),X=we(E*v),oe=we(l*F),ye=we($*v);return V===X&&oe===ye}negate(){return new Nt(we(-this.x),this.y,this.z,we(-this.t))}double(){const{x:o,y:f,z:l}=this,{a:v}=ar,E=we(o*o),$=we(f*f),F=we(oc*we(l*l)),V=we(v*E),X=o+f,oe=we(we(X*X)-E-$),ye=V+$,me=ye-F,Pe=V-$,We=we(oe*me),et=we(ye*Pe),Ct=we(oe*Pe),Qe=we(me*ye);return new Nt(We,et,Qe,Ct)}add(o){J3(o);const{x:f,y:l,z:v,t:E}=this,{x:$,y:F,z:V,t:X}=o,oe=we((l-f)*(F+$)),ye=we((l+f)*(F-$)),me=we(ye-oe);if(me===Dr)return this.double();const Pe=we(v*oc*X),We=we(E*oc*V),et=We+Pe,Ct=ye+oe,Qe=We-Pe,ut=we(et*me),Ut=we(Ct*Qe),Qt=we(et*Qe),Jt=we(me*Ct);return new Nt(ut,Ut,Jt,Qt)}subtract(o){return this.add(o.negate())}precomputeWindow(o){const f=1+256/o,l=[];let v=this,E=v;for(let $=0;$<f;$++){E=v,l.push(E);for(let F=1;F<2**(o-1);F++)E=E.add(v),l.push(E);v=E.double()}return l}wNAF(o,f){!f&&this.equals(Nt.BASE)&&(f=hr.BASE);const l=f&&f._WINDOW_SIZE||1;if(256%l)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let v=f&&by.get(f);v||(v=this.precomputeWindow(l),f&&l!==1&&(v=Nt.normalizeZ(v),by.set(f,v)));let E=Nt.ZERO,$=Nt.ZERO;const F=1+256/l,V=2**(l-1),X=BigInt(2**l-1),oe=2**l,ye=BigInt(l);for(let me=0;me<F;me++){const Pe=me*V;let We=Number(o&X);if(o>>=ye,We>V&&(We-=oe,o+=It),We===0){let et=v[Pe];me%2&&(et=et.negate()),$=$.add(et)}else{let et=v[Pe+Math.abs(We)-1];We<0&&(et=et.negate()),E=E.add(et)}}return Nt.normalizeZ([E,$])[0]}multiply(o,f){return this.wNAF(Od(o,ar.l),f)}multiplyUnsafe(o){let f=Od(o,ar.l,!1);const l=Nt.BASE,v=Nt.ZERO;if(f===Dr)return v;if(this.equals(v)||f===It)return this;if(this.equals(l))return this.wNAF(f);let E=v,$=this;for(;f>Dr;)f&It&&(E=E.add($)),$=$.double(),f>>=It;return E}isSmallOrder(){return this.multiplyUnsafe(ar.h).equals(Nt.ZERO)}isTorsionFree(){return this.multiplyUnsafe(ar.l).equals(Nt.ZERO)}toAffine(o=$d(this.z)){const{x:f,y:l,z:v}=this,E=we(f*o),$=we(l*o);if(we(v*o)!==It)throw new Error("invZ was invalid");return new hr(E,$)}fromRistrettoBytes(){gy()}toRistrettoBytes(){gy()}fromRistrettoHash(){gy()}}function J3(s){if(!(s instanceof Nt))throw new TypeError("ExtendedPoint expected")}function my(s){if(!(s instanceof Hn))throw new TypeError("RistrettoPoint expected")}function gy(){throw new Error("Legacy method: switch to RistrettoPoint")}Nt.BASE=new Nt(ar.Gx,ar.Gy,It,we(ar.Gx*ar.Gy)),Nt.ZERO=new Nt(Dr,It,It,Dr);class Hn{constructor(o){this.ep=o}static calcElligatorRistrettoMap(o){const{d:f}=ar,l=we(Jf*o*o),v=we((l+It)*_B);let E=BigInt(-1);const $=we((E-f*l)*we(l+f));let{isValid:F,value:V}=xy(v,$),X=we(V*o);so(X)||(X=we(-X)),F||(V=X),F||(E=l);const oe=we(E*(l-It)*xB-$),ye=V*V,me=we((V+V)*$),Pe=we(oe*bB),We=we(It-ye),et=we(It+ye);return new Nt(we(me*et),we(We*Pe),we(Pe*et),we(me*We))}static hashToCurve(o){const f=_y((o=co(o,64)).slice(0,32)),l=this.calcElligatorRistrettoMap(f),v=_y(o.slice(32,64)),E=this.calcElligatorRistrettoMap(v);return new Hn(l.add(E))}static fromHex(o){o=co(o,32);const{a:f,d:l}=ar,v="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",E=_y(o);if(!function(Ut,Qt){if(Ut.length!==Qt.length)return!1;for(let Jt=0;Jt<Ut.length;Jt++)if(Ut[Jt]!==Qt[Jt])return!1;return!0}(Qf(E),o)||so(E))throw new Error(v);const $=we(E*E),F=we(It+f*$),V=we(It-f*$),X=we(F*F),oe=we(V*V),ye=we(f*l*X-oe),{isValid:me,value:Pe}=Q3(we(ye*oe)),We=we(Pe*V),et=we(Pe*We*ye);let Ct=we((E+E)*We);so(Ct)&&(Ct=we(-Ct));const Qe=we(F*et),ut=we(Ct*Qe);if(!me||so(ut)||Qe===Dr)throw new Error(v);return new Hn(new Nt(Ct,Qe,It,ut))}toRawBytes(){let{x:o,y:f,z:l,t:v}=this.ep;const E=we(we(l+f)*we(l-f)),$=we(o*f),F=we($*$),{value:V}=Q3(we(E*F)),X=we(V*E),oe=we(V*$),ye=we(X*oe*v);let me;if(so(v*ye)){let We=we(f*Jf),et=we(o*Jf);o=We,f=et,me=we(X*wB)}else me=oe;so(o*ye)&&(f=we(-f));let Pe=we((l-f)*me);return so(Pe)&&(Pe=we(-Pe)),Qf(Pe)}toHex(){return Xf(this.toRawBytes())}toString(){return this.toHex()}equals(o){my(o);const f=this.ep,l=o.ep,v=we(f.x*l.y)===we(f.y*l.x),E=we(f.y*l.y)===we(f.x*l.x);return v||E}add(o){return my(o),new Hn(this.ep.add(o.ep))}subtract(o){return my(o),new Hn(this.ep.subtract(o.ep))}multiply(o){return new Hn(this.ep.multiply(o))}multiplyUnsafe(o){return new Hn(this.ep.multiplyUnsafe(o))}}Hn.BASE=new Hn(Nt.BASE),Hn.ZERO=new Hn(Nt.ZERO);const by=new WeakMap;class hr{constructor(o,f){this.x=o,this.y=f}_setWindowSize(o){this._WINDOW_SIZE=o,by.delete(this)}static fromHex(o,f=!0){const{d:l,P:v}=ar,E=(o=co(o,32)).slice();E[31]=-129&o[31];const $=eu(E);if(f&&$>=v)throw new Error("Expected 0 < hex < P");if(!f&&$>=G3)throw new Error("Expected 0 < hex < 2**256");const F=we($*$),V=we(F-It),X=we(l*F+It);let{isValid:oe,value:ye}=xy(V,X);if(!oe)throw new Error("Point.fromHex: invalid y coordinate");const me=(ye&It)===It;return(128&o[31])!=0!==me&&(ye=we(-ye)),new hr(ye,$)}static async fromPrivateKey(o){return(await Dd(o)).point}toRawBytes(){const o=Qf(this.y);return o[31]|=this.x&It?128:0,o}toHex(){return Xf(this.toRawBytes())}toX25519(){const{y:o}=this;return Qf(we((It+o)*$d(It-o)))}isTorsionFree(){return Nt.fromAffine(this).isTorsionFree()}equals(o){return this.x===o.x&&this.y===o.y}negate(){return new hr(we(-this.x),this.y)}add(o){return Nt.fromAffine(this).add(Nt.fromAffine(o)).toAffine()}subtract(o){return this.add(o.negate())}multiply(o){return Nt.fromAffine(this).multiply(o,this).toAffine()}}hr.BASE=new hr(ar.Gx,ar.Gy),hr.ZERO=new hr(Dr,It);class Yf{constructor(o,f){this.r=o,this.s=f,this.assertValidity()}static fromHex(o){const f=co(o,64),l=hr.fromHex(f.slice(0,32),!1),v=eu(f.slice(32,64));return new Yf(l,v)}assertValidity(){const{r:o,s:f}=this;if(!(o instanceof hr))throw new Error("Expected Point instance");return Od(f,ar.l,!1),this}toRawBytes(){const o=new Uint8Array(64);return o.set(this.r.toRawBytes()),o.set(Qf(this.s),32),o}toHex(){return Xf(this.toRawBytes())}}function Y3(...s){if(!s.every(l=>l instanceof Uint8Array))throw new Error("Expected Uint8Array list");if(s.length===1)return s[0];const o=s.reduce((l,v)=>l+v.length,0),f=new Uint8Array(o);for(let l=0,v=0;l<s.length;l++){const E=s[l];f.set(E,v),v+=E.length}return f}const SB=Array.from({length:256},(s,o)=>o.toString(16).padStart(2,"0"));function Xf(s){if(!(s instanceof Uint8Array))throw new Error("Uint8Array expected");let o="";for(let f=0;f<s.length;f++)o+=SB[s[f]];return o}function wy(s){if(typeof s!="string")throw new TypeError("hexToBytes: expected string, got "+typeof s);if(s.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const o=new Uint8Array(s.length/2);for(let f=0;f<o.length;f++){const l=2*f,v=s.slice(l,l+2),E=Number.parseInt(v,16);if(Number.isNaN(E)||E<0)throw new Error("Invalid byte sequence");o[f]=E}return o}function X3(s){return wy(s.toString(16).padStart(64,"0"))}function Qf(s){return X3(s).reverse()}function so(s){return(we(s)&It)===It}function eu(s){if(!(s instanceof Uint8Array))throw new Error("Expected Uint8Array");return BigInt("0x"+Xf(Uint8Array.from(s).reverse()))}const EB=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function _y(s){return we(eu(s)&EB)}function we(s,o=ar.P){const f=s%o;return f>=Dr?f:o+f}function $d(s,o=ar.P){if(s===Dr||o<=Dr)throw new Error(`invert: expected positive integers, got n=${s} mod=${o}`);let f=we(s,o),l=o,v=Dr,E=It;for(;f!==Dr;){const $=l%f,F=v-E*(l/f);l=f,f=$,v=E,E=F}if(l!==It)throw new Error("invert: does not exist");return we(v,o)}function qi(s,o){const{P:f}=ar;let l=s;for(;o-- >Dr;)l*=l,l%=f;return l}function xy(s,o){const f=we(o*o*o),l=function(ye){const{P:me}=ar,Pe=BigInt(5),We=BigInt(10),et=BigInt(20),Ct=BigInt(40),Qe=BigInt(80),ut=ye*ye%me*ye%me,Ut=qi(ut,oc)*ut%me,Qt=qi(Ut,It)*ye%me,Jt=qi(Qt,Pe)*Qt%me,vn=qi(Jt,We)*Jt%me,ds=qi(vn,et)*vn%me,Zy=qi(ds,Ct)*ds%me,MR=qi(Zy,Qe)*Zy%me,AR=qi(MR,Qe)*Zy%me,CR=qi(AR,We)*Jt%me;return{pow_p_5_8:qi(CR,oc)*ye%me,b2:ut}}(s*we(f*f*o)).pow_p_5_8;let v=we(s*f*l);const E=we(o*v*v),$=v,F=we(v*Jf),V=E===s,X=E===we(-s),oe=E===we(-s*Jf);return V&&(v=$),(X||oe)&&(v=F),so(v)&&(v=we(-v)),{isValid:V||X,value:v}}function Q3(s){return xy(It,s)}function Ld(s){return we(eu(s),ar.l)}function co(s,o){const f=s instanceof Uint8Array?Uint8Array.from(s):wy(s);if(typeof o=="number"&&f.length!==o)throw new Error(`Expected ${o} bytes`);return f}function Od(s,o,f=!0){if(!o)throw new TypeError("Specify max value");if(typeof s=="number"&&Number.isSafeInteger(s)&&(s=BigInt(s)),typeof s=="bigint"&&s<o){if(f){if(Dr<s)return s}else if(Dr<=s)return s}throw new TypeError("Expected valid scalar: 0 < scalar < max")}let Sy;async function Dd(s){return function(o){const f=((l=o.slice(0,32))[0]&=248,l[31]&=127,l[31]|=64,l);var l;const v=o.slice(32,64),E=Ld(f),$=hr.BASE.multiply(E),F=$.toRawBytes();return{head:f,prefix:v,scalar:E,point:$,pointBytes:F}}(await ns.sha512(function(o){if((o=typeof o=="bigint"||typeof o=="number"?X3(Od(o,G3)):co(o)).length!==32)throw new Error("Expected 32 bytes");return o}(s)))}async function kB(s,o,f){const{r:l,SB:v,msg:E,pub:$}=function(V,X,oe){X=co(X),oe instanceof hr||(oe=hr.fromHex(oe,!1));const{r:ye,s:me}=V instanceof Yf?V.assertValidity():Yf.fromHex(V);return{r:ye,s:me,SB:Nt.BASE.multiplyUnsafe(me),pub:oe,msg:X}}(s,o,f),F=await ns.sha512(l.toRawBytes(),$.toRawBytes(),E);return function(V,X,oe,ye){const me=Ld(ye),Pe=Nt.fromAffine(V).multiplyUnsafe(me);return Nt.fromAffine(X).add(Pe).subtract(oe).multiplyUnsafe(ar.h).equals(Nt.ZERO)}($,l,v,F)}hr.BASE._setWindowSize(8);const fo={node:gB,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},ns={bytesToHex:Xf,hexToBytes:wy,concatBytes:Y3,getExtendedPublicKey:Dd,mod:we,invert:$d,TORSION_SUBGROUP:["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"],hashToPrivateScalar:s=>{if((s=co(s)).length<40||s.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");return we(eu(s),ar.l-It)+It},randomBytes:(s=32)=>{if(fo.web)return fo.web.getRandomValues(new Uint8Array(s));if(fo.node){const{randomBytes:o}=fo.node;return new Uint8Array(o(s).buffer)}throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>ns.randomBytes(32),sha512:async(...s)=>{const o=Y3(...s);if(fo.web){const f=await fo.web.subtle.digest("SHA-512",o.buffer);return new Uint8Array(f)}if(fo.node)return Uint8Array.from(fo.node.createHash("sha512").update(o).digest());throw new Error("The environment doesn't have sha512 function")},precompute(s=8,o=hr.BASE){const f=o.equals(hr.BASE)?o:new hr(o.x,o.y);return f._setWindowSize(s),f.multiply(oc),f},sha512Sync:void 0};Object.defineProperties(ns,{sha512Sync:{configurable:!1,get:()=>Sy,set(s){Sy||(Sy=s)}}});const e6=(s,o)=>new Ey([s,o]);class Ey{constructor(o){this.variants=o}parse(o){return((f,l)=>{if(f.startsWith("did:")){for(const v of l)try{return v.parse(f)}catch{}throw new Error(`Unsupported did ${f}`)}throw new Error(`Expected did instead got ${f}`)})(o,this.variants)}or(o){return new Ey([...this.variants,o])}}const ky=(s,o)=>new MB(o,s);class MB{constructor(o,f){this.id=o,this.key=f}did(){return this.id}toDIDKey(){return this.key.toDIDKey()}verify(o,f){return this.key.verify(o,f)}withDID(o){return ky(this.key,o)}}const is=237,t6="EdDSA",r6=ce(is),n6=32+r6,i6=s=>a6(zi(s)),a6=s=>{const[o]=ie(s);if(o!==is)throw new RangeError(`Unsupported key algorithm with multicode 0x${is.toString(16)}`);if(s.byteLength!==n6)throw new RangeError(`Expected Uint8Array with byteLength ${n6}, instead got Uint8Array with byteLength ${s.byteLength}`);return new AB(s.buffer,s.byteOffset,s.byteLength)};class AB extends Uint8Array{get code(){return is}get signatureCode(){return 53485}get signatureAlgorithm(){return t6}get publicKey(){const o=new Uint8Array(this.buffer,this.byteOffset+r6);return Object.defineProperties(this,{publicKey:{value:o}}),o}did(){return`did:key:${In.encode(this)}`}verify(o,f){return f.code===53485&&kB(f.raw,o,this.publicKey)}withDID(o){return ky(this,o)}toDIDKey(){return this.did()}}const o6=(s,o)=>new My([s,o]);class My{constructor(o){this.variants=o,this.from=CB(o)}or(o){return new My([o,...this.variants])}}const CB=s=>o=>{if(o.id.startsWith("did:key:"))return s6(o,s);for(const[f,l]of Object.entries(o.keys))return s6({id:f,keys:{[f]:l}},s).withDID(o.id);throw new Error(`Archive ${o.id} contains no keys`)},s6=(s,o)=>{for(const f of o)try{return f.from(s)}catch{}throw new Error("Unsupported signer")},Ud=({signer:s,verifier:o},f)=>new BB(s,o.withDID(f));class BB{constructor(o,f){this.key=o,this.verifier=f}get signer(){return this}get signatureAlgorithm(){return this.key.signatureAlgorithm}get signatureCode(){return this.key.signatureCode}did(){return this.verifier.did()}toDIDKey(){return this.verifier.toDIDKey()}withDID(o){return Ud(this.key,o)}sign(o){return this.key.sign(o)}verify(o,f){return this.verifier.verify(o,f)}toArchive(){const{keys:o}=this.key.toArchive();return{id:this.did(),keys:o}}}const jd=4864,IB=t6,as=ce(jd),c6=ce(is),uo=32,Ay=as+uo+c6+uo,RB=as+uo,f6=()=>TB(ns.randomPrivateKey()),TB=async s=>{if(s.byteLength!==uo)throw new Error(`Expected Uint8Array with byteLength of 32 instead not ${s.byteLength}`);const o=await async function(l){return(await Dd(l)).pointBytes}(s),f=new u6(Ay);return re(jd,f,0),f.set(s,as),re(is,f,as+uo),f.set(o,as+uo+c6),f},NB=({id:s,keys:o})=>{if(s.startsWith("did:key:")){const f=o[s];if(f instanceof Uint8Array)return PB(f)}throw new TypeError("Unsupported archive format")},PB=s=>{if(s.byteLength!==Ay)throw new Error(`Expected Uint8Array with byteLength of ${Ay} instead not ${s.byteLength}`);{const[o]=ie(s);if(o!==jd)throw new Error("Given bytes must be a multiformat with 4864 tag")}{const[o]=ie(s.subarray(RB));if(o!==is)throw new Error("Given bytes must contain public key in multiformats with 237 tag")}return new u6(s)};class u6 extends Uint8Array{get code(){return jd}get signer(){return this}get verifier(){const o=new Uint8Array(this.buffer,as+uo),f=a6(o);return Object.defineProperties(this,{verifier:{value:f}}),f}get secret(){const o=new Uint8Array(this.buffer,as,uo);return Object.defineProperties(this,{secret:{value:o}}),o}did(){return this.verifier.did()}toDIDKey(){return this.verifier.toDIDKey()}withDID(o){return Ud(this,o)}async sign(o){const f=await async function(l,v){l=co(l);const{prefix:E,scalar:$,pointBytes:F}=await Dd(v),V=Ld(await ns.sha512(E,l)),X=hr.BASE.multiply(V),oe=we(V+Ld(await ns.sha512(X.toRawBytes(),F,l))*$,ar.l);return new Yf(X,oe).toRawBytes()}(o,this.secret);return Y1(this.signatureCode,f)}verify(o,f){return this.verifier.verify(o,f)}get signatureAlgorithm(){return IB}get signatureCode(){return Z1}encode(){return this}toArchive(){const o=this.did();return{id:o,keys:{[o]:this.encode()}}}}function l6(s){return globalThis.Buffer!=null?new Uint8Array(s.buffer,s.byteOffset,s.byteLength):s}const $B=wd({prefix:"\0",name:"identity",encode:s=>{return o=s,new TextDecoder().decode(o);var o},decode:s=>(o=>new TextEncoder().encode(o))(s)});var LB=Object.freeze({__proto__:null,identity:$B});const OB=$r({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var DB=Object.freeze({__proto__:null,base2:OB});const UB=$r({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var jB=Object.freeze({__proto__:null,base8:UB});const FB=Hf({prefix:"9",name:"base10",alphabet:"0123456789"});var zB=Object.freeze({__proto__:null,base10:FB});const KB=$r({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),qB=$r({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var HB=Object.freeze({__proto__:null,base16:KB,base16upper:qB});const WB=Hf({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),VB=Hf({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var ZB=Object.freeze({__proto__:null,base36:WB,base36upper:VB});const d6=Array.from(""),GB=d6.reduce((s,o,f)=>(s[f]=o,s),[]),JB=d6.reduce((s,o,f)=>(s[o.codePointAt(0)]=f,s),[]),YB=wd({prefix:"",name:"base256emoji",encode:function(s){return s.reduce((o,f)=>o+=GB[f],"")},decode:function(s){const o=[];for(const f of s){const l=JB[f.codePointAt(0)];if(l===void 0)throw new Error(`Non-base256emoji character: ${f}`);o.push(l)}return new Uint8Array(o)}});var XB=Object.freeze({__proto__:null,base256emoji:YB});new TextEncoder,new TextDecoder;const h6={...LB,...DB,...jB,...zB,...HB,...VM,...ZB,...DM,...cA,...XB};function p6(s,o,f,l){return{name:s,prefix:o,encoder:{name:s,prefix:o,encode:f},decoder:{decode:l}}}const y6=p6("utf8","u",s=>"u"+new TextDecoder("utf8").decode(s),s=>new TextEncoder().encode(s.substring(1))),Cy=p6("ascii","a",s=>{let o="a";for(let f=0;f<s.length;f++)o+=String.fromCharCode(s[f]);return o},s=>{const o=function(f=0){var l;return((l=globalThis.Buffer)==null?void 0:l.allocUnsafe)!=null?l6(globalThis.Buffer.allocUnsafe(f)):new Uint8Array(f)}((s=s.substring(1)).length);for(let f=0;f<s.length;f++)o[f]=s.charCodeAt(f);return o}),v6={utf8:y6,"utf-8":y6,hex:h6.base16,latin1:Cy,ascii:Cy,binary:Cy,...h6};function Fd(s,o="utf8"){const f=v6[o];if(f==null)throw new Error(`Unsupported encoding "${o}"`);return o!=="utf8"&&o!=="utf-8"||globalThis.Buffer==null||globalThis.Buffer.from==null?f.decoder.decode(`${f.prefix}${s}`):l6(globalThis.Buffer.from(s,"utf-8"))}function m6(s,o="utf8"){const f=v6[o];if(f==null)throw new Error(`Unsupported encoding "${o}"`);return o!=="utf8"&&o!=="utf-8"||globalThis.Buffer==null||globalThis.Buffer.from==null?f.encoder.encode(s).substring(1):globalThis.Buffer.from(s.buffer,s.byteOffset,s.byteLength).toString("utf8")}const lo={Null:s=>s===null,Int:s=>Number.isInteger(s),Float:s=>typeof s=="number"&&Number.isFinite(s),String:s=>typeof s=="string",Bool:s=>typeof s=="boolean",Bytes:s=>s instanceof Uint8Array,Link:s=>!lo.Null(s)&&typeof s=="object"&&s.asCID===s,List:s=>Array.isArray(s),Map:s=>!lo.Null(s)&&typeof s=="object"&&s.asCID!==s&&!lo.List(s)&&!lo.Bytes(s)},sc={Int:lo.Int,"CarHeader > version":s=>sc.Int(s),"CarHeader > roots (anon) > valueType (anon)":lo.Link,"CarHeader > roots (anon)":s=>lo.List(s)&&Array.prototype.every.call(s,sc["CarHeader > roots (anon) > valueType (anon)"]),"CarHeader > roots":s=>sc["CarHeader > roots (anon)"](s),CarHeader:s=>{const o=s&&Object.keys(s);return lo.Map(s)&&["version"].every(f=>o.includes(f))&&Object.entries(s).every(([f,l])=>sc["CarHeader > "+f]&&sc["CarHeader > "+f](l))}},QB=sc.CarHeader,eI=18,tI=32,rI=112;function zd(s){const o=s.upTo(8);if(o.length===0)throw new Error("Unexpected end of data");const f=kr.decode(o);return s.seek(kr.decode.bytes),f}function nI(s){const o=s.exactly(2);if(o[0]===eI&&o[1]===tI){const $=s.exactly(34);s.seek(34);const F=W($);return Ht.create(0,rI,F)}const f=zd(s);if(f!==1)throw new Error(`Unexpected CID version (${f})`);const l=zd(s),v=function($){const F=$.upTo(8);kr.decode(F);const V=kr.decode.bytes,X=kr.decode(F.subarray(kr.decode.bytes)),oe=V+kr.decode.bytes+X,ye=$.exactly(oe);return $.seek(oe),ye}(s),E=W(v);return Ht.create(f,l,E)}function g6(s){const o=s.pos;let f=zd(s);if(f===0)throw new Error("Invalid CAR section (zero length)");return f+=s.pos-o,{cid:nI(s),length:f,blockLength:f-Number(s.pos-o)}}function iI(s){const{cid:o,blockLength:f}=g6(s),l=s.exactly(f);return s.seek(f),{bytes:l,cid:o}}function b6(s,o){const f=zd(s);if(f===0)throw new Error("Invalid CAR header (zero length)");const l=s.exactly(f);s.seek(f);const v=Vf(l);if(!QB(v))throw new Error("Invalid CAR header format");if(v.version!==1&&v.version!==2||o!==void 0&&v.version!==o)throw new Error(`Invalid CAR version: ${v.version}${o===void 0?"":` (expected ${o})`}`);const E=Array.isArray(v.roots);if(v.version===1&&!E||v.version===2&&E)throw new Error("Invalid CAR header format");if(v.version===1)return v;const $=function(V){const X=V.exactly(40),oe=new DataView(X.buffer,X.byteOffset,X.byteLength);let ye=0;const me={version:2,characteristics:[oe.getBigUint64(ye,!0),oe.getBigUint64(ye+=8,!0)],dataOffset:Number(oe.getBigUint64(ye+=8,!0)),dataSize:Number(oe.getBigUint64(ye+=8,!0)),indexOffset:Number(oe.getBigUint64(ye+=8,!0))};return V.seek(40),me}(s);s.seek($.dataOffset-s.pos);const F=b6(s,1);return Object.assign(F,$)}function aI(s){const o=b6(s);if(o.version===2){const f=s.pos-o.dataOffset;s=function(l,v){let E=0;return{upTo($){let F=l.upTo($);return F.length+E>v&&(F=F.subarray(0,v-E)),F},exactly($){const F=l.exactly($);if(F.length+E>v)throw new Error("Unexpected end of data");return F},seek($){E+=$,l.seek($)},get pos(){return l.pos}}}(s,o.dataSize-f)}return{header:()=>o,*blocks(){for(;s.upTo(8).length>0;)yield iI(s)},*blocksIndex(){for(;s.upTo(8).length>0;)yield oI(s)}}}function oI(s){const o=s.pos,{cid:f,length:l,blockLength:v}=g6(s),E={cid:f,length:l,blockLength:v,offset:o,blockOffset:s.pos};return s.seek(E.blockLength),E}class By{constructor(o,f){this._header=o,this._blocks=f,this._keys=f.map(l=>l.cid.toString())}get version(){return this._header.version}getRoots(){return this._header.roots}has(o){return this._keys.indexOf(o.toString())>-1}get(o){const f=this._keys.indexOf(o.toString());return f>-1?this._blocks[f]:void 0}*blocks(){for(const o of this._blocks)yield o}*cids(){for(const o of this._blocks)yield o.cid}static fromBytes(o){if(!(o instanceof Uint8Array))throw new TypeError("fromBytes() requires a Uint8Array");return function(f){const l=aI(f),v=l.header(),E=[];for(const $ of l.blocks())E.push($);return new By(v,E)}(function(f){let l=0;return{upTo:v=>f.subarray(l,l+Math.min(v,f.length-l)),exactly(v){if(v>f.length-l)throw new Error("Unexpected end of data");return f.subarray(l,l+v)},seek(v){l+=v},get pos(){return l}}}(o))}}function sI(s){if(!Array.isArray(s)||s.length===0)throw new Error("Delegations required to be an non empty array.");const o=s.map(F=>F.root.cid),f=new Set,l=[];let v=0;for(const F of s)for(const V of F.export()){const X=V.cid.toV1().toString();f.has(X)||(v+=sy(V),l.push(V),f.add(X))}const E=((F,V=36)=>y3(new Array(F).fill(V)))(o.length),$=v3(new ArrayBuffer(E+v),{roots:o});for(const F of l)$.write(F);return $.close()}function cI(s,o="base64url"){return m6(sI(s),o)}function w6(s,o="base64url"){return function(f){if(!(f instanceof Uint8Array)||f.length===0)throw new TypeError("Input should be a non-empty Uint8Array.");const l=By.fromBytes(f),v=l.getRoots(),E=[];for(const $ of v){const F=l.get($);if(!F)throw new Error("Failed to find root from raw delegation.");{const V=new Map;for(const X of l.blocks())X.cid.toString()!==$.toString()&&V.set(X.cid.toString(),X);E.push(new Md(F,V))}}return E}(Fd(s,o))}function _6(s,o){return w6(s,o)[0]}var Rt;(function(s){s.assertEqual=o=>o,s.assertIs=function(o){},s.assertNever=function(o){throw new Error},s.arrayToEnum=o=>{const f={};for(const l of o)f[l]=l;return f},s.getValidEnumValues=o=>{const f=s.objectKeys(o).filter(v=>typeof o[o[v]]!="number"),l={};for(const v of f)l[v]=o[v];return s.objectValues(l)},s.objectValues=o=>s.objectKeys(o).map(function(f){return o[f]}),s.objectKeys=typeof Object.keys=="function"?o=>Object.keys(o):o=>{const f=[];for(const l in o)Object.prototype.hasOwnProperty.call(o,l)&&f.push(l);return f},s.find=(o,f)=>{for(const l of o)if(f(l))return l},s.isInteger=typeof Number.isInteger=="function"?o=>Number.isInteger(o):o=>typeof o=="number"&&isFinite(o)&&Math.floor(o)===o,s.joinValues=function(o,f=" | "){return o.map(l=>typeof l=="string"?`'${l}'`:l).join(f)},s.jsonStringifyReplacer=(o,f)=>typeof f=="bigint"?f.toString():f})(Rt||(Rt={}));const je=Rt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ho=s=>{switch(typeof s){case"undefined":return je.undefined;case"string":return je.string;case"number":return isNaN(s)?je.nan:je.number;case"boolean":return je.boolean;case"function":return je.function;case"bigint":return je.bigint;case"symbol":return je.symbol;case"object":return Array.isArray(s)?je.array:s===null?je.null:s.then&&typeof s.then=="function"&&s.catch&&typeof s.catch=="function"?je.promise:typeof Map<"u"&&s instanceof Map?je.map:typeof Set<"u"&&s instanceof Set?je.set:typeof Date<"u"&&s instanceof Date?je.date:je.object;default:return je.unknown}},Ie=Rt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Ea extends Error{constructor(o){super(),this.issues=[],this.addIssue=l=>{this.issues=[...this.issues,l]},this.addIssues=(l=[])=>{this.issues=[...this.issues,...l]};const f=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,f):this.__proto__=f,this.name="ZodError",this.issues=o}get errors(){return this.issues}format(o){const f=o||function(E){return E.message},l={_errors:[]},v=E=>{for(const $ of E.issues)if($.code==="invalid_union")$.unionErrors.map(v);else if($.code==="invalid_return_type")v($.returnTypeError);else if($.code==="invalid_arguments")v($.argumentsError);else if($.path.length===0)l._errors.push(f($));else{let F=l,V=0;for(;V<$.path.length;){const X=$.path[V];V===$.path.length-1?(F[X]=F[X]||{_errors:[]},F[X]._errors.push(f($))):F[X]=F[X]||{_errors:[]},F=F[X],V++}}};return v(this),l}toString(){return this.message}get message(){return JSON.stringify(this.issues,Rt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(o=f=>f.message){const f={},l=[];for(const v of this.issues)v.path.length>0?(f[v.path[0]]=f[v.path[0]]||[],f[v.path[0]].push(o(v))):l.push(o(v));return{formErrors:l,fieldErrors:f}}get formErrors(){return this.flatten()}}Ea.create=s=>new Ea(s);const tu=(s,o)=>{let f;switch(s.code){case Ie.invalid_type:f=s.received===je.undefined?"Required":`Expected ${s.expected}, received ${s.received}`;break;case Ie.invalid_literal:f=`Invalid literal value, expected ${JSON.stringify(s.expected,Rt.jsonStringifyReplacer)}`;break;case Ie.unrecognized_keys:f=`Unrecognized key(s) in object: ${Rt.joinValues(s.keys,", ")}`;break;case Ie.invalid_union:f="Invalid input";break;case Ie.invalid_union_discriminator:f=`Invalid discriminator value. Expected ${Rt.joinValues(s.options)}`;break;case Ie.invalid_enum_value:f=`Invalid enum value. Expected ${Rt.joinValues(s.options)}, received '${s.received}'`;break;case Ie.invalid_arguments:f="Invalid function arguments";break;case Ie.invalid_return_type:f="Invalid function return type";break;case Ie.invalid_date:f="Invalid date";break;case Ie.invalid_string:typeof s.validation=="object"?"startsWith"in s.validation?f=`Invalid input: must start with "${s.validation.startsWith}"`:"endsWith"in s.validation?f=`Invalid input: must end with "${s.validation.endsWith}"`:Rt.assertNever(s.validation):f=s.validation!=="regex"?`Invalid ${s.validation}`:"Invalid";break;case Ie.too_small:f=s.type==="array"?`Array must contain ${s.exact?"exactly":s.inclusive?"at least":"more than"} ${s.minimum} element(s)`:s.type==="string"?`String must contain ${s.exact?"exactly":s.inclusive?"at least":"over"} ${s.minimum} character(s)`:s.type==="number"?`Number must be ${s.exact?"exactly equal to ":s.inclusive?"greater than or equal to ":"greater than "}${s.minimum}`:s.type==="date"?`Date must be ${s.exact?"exactly equal to ":s.inclusive?"greater than or equal to ":"greater than "}${new Date(s.minimum)}`:"Invalid input";break;case Ie.too_big:f=s.type==="array"?`Array must contain ${s.exact?"exactly":s.inclusive?"at most":"less than"} ${s.maximum} element(s)`:s.type==="string"?`String must contain ${s.exact?"exactly":s.inclusive?"at most":"under"} ${s.maximum} character(s)`:s.type==="number"?`Number must be ${s.exact?"exactly":s.inclusive?"less than or equal to":"less than"} ${s.maximum}`:s.type==="date"?`Date must be ${s.exact?"exactly":s.inclusive?"smaller than or equal to":"smaller than"} ${new Date(s.maximum)}`:"Invalid input";break;case Ie.custom:f="Invalid input";break;case Ie.invalid_intersection_types:f="Intersection results could not be merged";break;case Ie.not_multiple_of:f=`Number must be a multiple of ${s.multipleOf}`;break;case Ie.not_finite:f="Number must be finite";break;default:f=o.defaultError,Rt.assertNever(s)}return{message:f}};let x6=tu;function Kd(){return x6}const qd=s=>{const{data:o,path:f,errorMaps:l,issueData:v}=s,E=[...f,...v.path||[]],$={...v,path:E};let F="";const V=l.filter(X=>!!X).slice().reverse();for(const X of V)F=X($,{data:o,defaultError:F}).message;return{...v,path:E,message:v.message||F}};function Ze(s,o){const f=qd({issueData:o,data:s.data,path:s.path,errorMaps:[s.common.contextualErrorMap,s.schemaErrorMap,Kd(),tu].filter(l=>!!l)});s.common.issues.push(f)}class fn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(o,f){const l=[];for(const v of f){if(v.status==="aborted")return ct;v.status==="dirty"&&o.dirty(),l.push(v.value)}return{status:o.value,value:l}}static async mergeObjectAsync(o,f){const l=[];for(const v of f)l.push({key:await v.key,value:await v.value});return fn.mergeObjectSync(o,l)}static mergeObjectSync(o,f){const l={};for(const v of f){const{key:E,value:$}=v;if(E.status==="aborted"||$.status==="aborted")return ct;E.status==="dirty"&&o.dirty(),$.status==="dirty"&&o.dirty(),($.value!==void 0||v.alwaysSet)&&(l[E.value]=$.value)}return{status:o.value,value:l}}}const ct=Object.freeze({status:"aborted"}),S6=s=>({status:"dirty",value:s}),Zr=s=>({status:"valid",value:s}),Iy=s=>s.status==="aborted",Ry=s=>s.status==="dirty",Hd=s=>s.status==="valid",Wd=s=>typeof Promise!==void 0&&s instanceof Promise;var xt;(function(s){s.errToObj=o=>typeof o=="string"?{message:o}:o||{},s.toString=o=>typeof o=="string"?o:o==null?void 0:o.message})(xt||(xt={}));class Hi{constructor(o,f,l,v){this.parent=o,this.data=f,this._path=l,this._key=v}get path(){return this._path.concat(this._key)}}const E6=(s,o)=>{if(Hd(o))return{success:!0,data:o.value};if(!s.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,error:new Ea(s.common.issues)}};function bt(s){if(!s)return{};const{errorMap:o,invalid_type_error:f,required_error:l,description:v}=s;if(o&&(f||l))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return o?{errorMap:o,description:v}:{errorMap:(E,$)=>E.code!=="invalid_type"?{message:$.defaultError}:$.data===void 0?{message:l??$.defaultError}:{message:f??$.defaultError},description:v}}class mt{constructor(o){this.spa=this.safeParseAsync,this._def=o,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(o){return ho(o.data)}_getOrReturnCtx(o,f){return f||{common:o.parent.common,data:o.data,parsedType:ho(o.data),schemaErrorMap:this._def.errorMap,path:o.path,parent:o.parent}}_processInputParams(o){return{status:new fn,ctx:{common:o.parent.common,data:o.data,parsedType:ho(o.data),schemaErrorMap:this._def.errorMap,path:o.path,parent:o.parent}}}_parseSync(o){const f=this._parse(o);if(Wd(f))throw new Error("Synchronous parse encountered promise.");return f}_parseAsync(o){const f=this._parse(o);return Promise.resolve(f)}parse(o,f){const l=this.safeParse(o,f);if(l.success)return l.data;throw l.error}safeParse(o,f){var l;const v={common:{issues:[],async:(l=f==null?void 0:f.async)!==null&&l!==void 0&&l,contextualErrorMap:f==null?void 0:f.errorMap},path:(f==null?void 0:f.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:o,parsedType:ho(o)},E=this._parseSync({data:o,path:v.path,parent:v});return E6(v,E)}async parseAsync(o,f){const l=await this.safeParseAsync(o,f);if(l.success)return l.data;throw l.error}async safeParseAsync(o,f){const l={common:{issues:[],contextualErrorMap:f==null?void 0:f.errorMap,async:!0},path:(f==null?void 0:f.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:o,parsedType:ho(o)},v=this._parse({data:o,path:l.path,parent:l}),E=await(Wd(v)?v:Promise.resolve(v));return E6(l,E)}refine(o,f){const l=v=>typeof f=="string"||f===void 0?{message:f}:typeof f=="function"?f(v):f;return this._refinement((v,E)=>{const $=o(v),F=()=>E.addIssue({code:Ie.custom,...l(v)});return typeof Promise<"u"&&$ instanceof Promise?$.then(V=>!!V||(F(),!1)):!!$||(F(),!1)})}refinement(o,f){return this._refinement((l,v)=>!!o(l)||(v.addIssue(typeof f=="function"?f(l,v):f),!1))}_refinement(o){return new vi({schema:this,typeName:rt.ZodEffects,effect:{type:"refinement",refinement:o}})}superRefine(o){return this._refinement(o)}optional(){return Vi.create(this)}nullable(){return fs.create(this)}nullish(){return this.optional().nullable()}array(){return yi.create(this)}promise(){return lc.create(this)}or(o){return ou.create([this,o])}and(o){return su.create(this,o)}transform(o){return new vi({schema:this,typeName:rt.ZodEffects,effect:{type:"transform",transform:o}})}default(o){return new du({innerType:this,defaultValue:typeof o=="function"?o:()=>o,typeName:rt.ZodDefault})}brand(){return new A6({typeName:rt.ZodBranded,type:this,...bt(void 0)})}catch(o){return new eh({innerType:this,defaultValue:typeof o=="function"?o:()=>o,typeName:rt.ZodCatch})}describe(o){return new this.constructor({...this._def,description:o})}pipe(o){return hu.create(this,o)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const fI=/^c[^\s-]{8,}$/i,uI=/^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i,lI=/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i;class ka extends mt{constructor(){super(...arguments),this._regex=(o,f,l)=>this.refinement(v=>o.test(v),{validation:f,code:Ie.invalid_string,...xt.errToObj(l)}),this.nonempty=o=>this.min(1,xt.errToObj(o)),this.trim=()=>new ka({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}_parse(o){if(this._def.coerce&&(o.data=String(o.data)),this._getType(o)!==je.string){const E=this._getOrReturnCtx(o);return Ze(E,{code:Ie.invalid_type,expected:je.string,received:E.parsedType}),ct}const f=new fn;let l;for(const E of this._def.checks)if(E.kind==="min")o.data.length<E.value&&(l=this._getOrReturnCtx(o,l),Ze(l,{code:Ie.too_small,minimum:E.value,type:"string",inclusive:!0,exact:!1,message:E.message}),f.dirty());else if(E.kind==="max")o.data.length>E.value&&(l=this._getOrReturnCtx(o,l),Ze(l,{code:Ie.too_big,maximum:E.value,type:"string",inclusive:!0,exact:!1,message:E.message}),f.dirty());else if(E.kind==="length"){const $=o.data.length>E.value,F=o.data.length<E.value;($||F)&&(l=this._getOrReturnCtx(o,l),$?Ze(l,{code:Ie.too_big,maximum:E.value,type:"string",inclusive:!0,exact:!0,message:E.message}):F&&Ze(l,{code:Ie.too_small,minimum:E.value,type:"string",inclusive:!0,exact:!0,message:E.message}),f.dirty())}else if(E.kind==="email")lI.test(o.data)||(l=this._getOrReturnCtx(o,l),Ze(l,{validation:"email",code:Ie.invalid_string,message:E.message}),f.dirty());else if(E.kind==="uuid")uI.test(o.data)||(l=this._getOrReturnCtx(o,l),Ze(l,{validation:"uuid",code:Ie.invalid_string,message:E.message}),f.dirty());else if(E.kind==="cuid")fI.test(o.data)||(l=this._getOrReturnCtx(o,l),Ze(l,{validation:"cuid",code:Ie.invalid_string,message:E.message}),f.dirty());else if(E.kind==="url")try{new URL(o.data)}catch{l=this._getOrReturnCtx(o,l),Ze(l,{validation:"url",code:Ie.invalid_string,message:E.message}),f.dirty()}else E.kind==="regex"?(E.regex.lastIndex=0,E.regex.test(o.data)||(l=this._getOrReturnCtx(o,l),Ze(l,{validation:"regex",code:Ie.invalid_string,message:E.message}),f.dirty())):E.kind==="trim"?o.data=o.data.trim():E.kind==="startsWith"?o.data.startsWith(E.value)||(l=this._getOrReturnCtx(o,l),Ze(l,{code:Ie.invalid_string,validation:{startsWith:E.value},message:E.message}),f.dirty()):E.kind==="endsWith"?o.data.endsWith(E.value)||(l=this._getOrReturnCtx(o,l),Ze(l,{code:Ie.invalid_string,validation:{endsWith:E.value},message:E.message}),f.dirty()):E.kind==="datetime"?((v=E).precision?v.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${v.precision}}(([+-]\\d{2}:\\d{2})|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${v.precision}}Z$`):v.precision===0?v.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}:\\d{2})|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):v.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}:\\d{2})|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$")).test(o.data)||(l=this._getOrReturnCtx(o,l),Ze(l,{code:Ie.invalid_string,validation:"datetime",message:E.message}),f.dirty()):Rt.assertNever(E);var v;return{status:f.value,value:o.data}}_addCheck(o){return new ka({...this._def,checks:[...this._def.checks,o]})}email(o){return this._addCheck({kind:"email",...xt.errToObj(o)})}url(o){return this._addCheck({kind:"url",...xt.errToObj(o)})}uuid(o){return this._addCheck({kind:"uuid",...xt.errToObj(o)})}cuid(o){return this._addCheck({kind:"cuid",...xt.errToObj(o)})}datetime(o){var f;return typeof o=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:o}):this._addCheck({kind:"datetime",precision:(o==null?void 0:o.precision)===void 0?null:o==null?void 0:o.precision,offset:(f=o==null?void 0:o.offset)!==null&&f!==void 0&&f,...xt.errToObj(o==null?void 0:o.message)})}regex(o,f){return this._addCheck({kind:"regex",regex:o,...xt.errToObj(f)})}startsWith(o,f){return this._addCheck({kind:"startsWith",value:o,...xt.errToObj(f)})}endsWith(o,f){return this._addCheck({kind:"endsWith",value:o,...xt.errToObj(f)})}min(o,f){return this._addCheck({kind:"min",value:o,...xt.errToObj(f)})}max(o,f){return this._addCheck({kind:"max",value:o,...xt.errToObj(f)})}length(o,f){return this._addCheck({kind:"length",value:o,...xt.errToObj(f)})}get isDatetime(){return!!this._def.checks.find(o=>o.kind==="datetime")}get isEmail(){return!!this._def.checks.find(o=>o.kind==="email")}get isURL(){return!!this._def.checks.find(o=>o.kind==="url")}get isUUID(){return!!this._def.checks.find(o=>o.kind==="uuid")}get isCUID(){return!!this._def.checks.find(o=>o.kind==="cuid")}get minLength(){let o=null;for(const f of this._def.checks)f.kind==="min"&&(o===null||f.value>o)&&(o=f.value);return o}get maxLength(){let o=null;for(const f of this._def.checks)f.kind==="max"&&(o===null||f.value<o)&&(o=f.value);return o}}function dI(s,o){const f=(s.toString().split(".")[1]||"").length,l=(o.toString().split(".")[1]||"").length,v=f>l?f:l;return parseInt(s.toFixed(v).replace(".",""))%parseInt(o.toFixed(v).replace(".",""))/Math.pow(10,v)}ka.create=s=>{var o;return new ka({checks:[],typeName:rt.ZodString,coerce:(o=s==null?void 0:s.coerce)!==null&&o!==void 0&&o,...bt(s)})};class po extends mt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(o){if(this._def.coerce&&(o.data=Number(o.data)),this._getType(o)!==je.number){const v=this._getOrReturnCtx(o);return Ze(v,{code:Ie.invalid_type,expected:je.number,received:v.parsedType}),ct}let f;const l=new fn;for(const v of this._def.checks)v.kind==="int"?Rt.isInteger(o.data)||(f=this._getOrReturnCtx(o,f),Ze(f,{code:Ie.invalid_type,expected:"integer",received:"float",message:v.message}),l.dirty()):v.kind==="min"?(v.inclusive?o.data<v.value:o.data<=v.value)&&(f=this._getOrReturnCtx(o,f),Ze(f,{code:Ie.too_small,minimum:v.value,type:"number",inclusive:v.inclusive,exact:!1,message:v.message}),l.dirty()):v.kind==="max"?(v.inclusive?o.data>v.value:o.data>=v.value)&&(f=this._getOrReturnCtx(o,f),Ze(f,{code:Ie.too_big,maximum:v.value,type:"number",inclusive:v.inclusive,exact:!1,message:v.message}),l.dirty()):v.kind==="multipleOf"?dI(o.data,v.value)!==0&&(f=this._getOrReturnCtx(o,f),Ze(f,{code:Ie.not_multiple_of,multipleOf:v.value,message:v.message}),l.dirty()):v.kind==="finite"?Number.isFinite(o.data)||(f=this._getOrReturnCtx(o,f),Ze(f,{code:Ie.not_finite,message:v.message}),l.dirty()):Rt.assertNever(v);return{status:l.value,value:o.data}}gte(o,f){return this.setLimit("min",o,!0,xt.toString(f))}gt(o,f){return this.setLimit("min",o,!1,xt.toString(f))}lte(o,f){return this.setLimit("max",o,!0,xt.toString(f))}lt(o,f){return this.setLimit("max",o,!1,xt.toString(f))}setLimit(o,f,l,v){return new po({...this._def,checks:[...this._def.checks,{kind:o,value:f,inclusive:l,message:xt.toString(v)}]})}_addCheck(o){return new po({...this._def,checks:[...this._def.checks,o]})}int(o){return this._addCheck({kind:"int",message:xt.toString(o)})}positive(o){return this._addCheck({kind:"min",value:0,inclusive:!1,message:xt.toString(o)})}negative(o){return this._addCheck({kind:"max",value:0,inclusive:!1,message:xt.toString(o)})}nonpositive(o){return this._addCheck({kind:"max",value:0,inclusive:!0,message:xt.toString(o)})}nonnegative(o){return this._addCheck({kind:"min",value:0,inclusive:!0,message:xt.toString(o)})}multipleOf(o,f){return this._addCheck({kind:"multipleOf",value:o,message:xt.toString(f)})}finite(o){return this._addCheck({kind:"finite",message:xt.toString(o)})}get minValue(){let o=null;for(const f of this._def.checks)f.kind==="min"&&(o===null||f.value>o)&&(o=f.value);return o}get maxValue(){let o=null;for(const f of this._def.checks)f.kind==="max"&&(o===null||f.value<o)&&(o=f.value);return o}get isInt(){return!!this._def.checks.find(o=>o.kind==="int")}}po.create=s=>new po({checks:[],typeName:rt.ZodNumber,coerce:(s==null?void 0:s.coerce)||!1,...bt(s)});class ru extends mt{_parse(o){if(this._def.coerce&&(o.data=BigInt(o.data)),this._getType(o)!==je.bigint){const f=this._getOrReturnCtx(o);return Ze(f,{code:Ie.invalid_type,expected:je.bigint,received:f.parsedType}),ct}return Zr(o.data)}}ru.create=s=>{var o;return new ru({typeName:rt.ZodBigInt,coerce:(o=s==null?void 0:s.coerce)!==null&&o!==void 0&&o,...bt(s)})};class nu extends mt{_parse(o){if(this._def.coerce&&(o.data=Boolean(o.data)),this._getType(o)!==je.boolean){const f=this._getOrReturnCtx(o);return Ze(f,{code:Ie.invalid_type,expected:je.boolean,received:f.parsedType}),ct}return Zr(o.data)}}nu.create=s=>new nu({typeName:rt.ZodBoolean,coerce:(s==null?void 0:s.coerce)||!1,...bt(s)});class os extends mt{_parse(o){if(this._def.coerce&&(o.data=new Date(o.data)),this._getType(o)!==je.date){const v=this._getOrReturnCtx(o);return Ze(v,{code:Ie.invalid_type,expected:je.date,received:v.parsedType}),ct}if(isNaN(o.data.getTime()))return Ze(this._getOrReturnCtx(o),{code:Ie.invalid_date}),ct;const f=new fn;let l;for(const v of this._def.checks)v.kind==="min"?o.data.getTime()<v.value&&(l=this._getOrReturnCtx(o,l),Ze(l,{code:Ie.too_small,message:v.message,inclusive:!0,exact:!1,minimum:v.value,type:"date"}),f.dirty()):v.kind==="max"?o.data.getTime()>v.value&&(l=this._getOrReturnCtx(o,l),Ze(l,{code:Ie.too_big,message:v.message,inclusive:!0,exact:!1,maximum:v.value,type:"date"}),f.dirty()):Rt.assertNever(v);return{status:f.value,value:new Date(o.data.getTime())}}_addCheck(o){return new os({...this._def,checks:[...this._def.checks,o]})}min(o,f){return this._addCheck({kind:"min",value:o.getTime(),message:xt.toString(f)})}max(o,f){return this._addCheck({kind:"max",value:o.getTime(),message:xt.toString(f)})}get minDate(){let o=null;for(const f of this._def.checks)f.kind==="min"&&(o===null||f.value>o)&&(o=f.value);return o!=null?new Date(o):null}get maxDate(){let o=null;for(const f of this._def.checks)f.kind==="max"&&(o===null||f.value<o)&&(o=f.value);return o!=null?new Date(o):null}}os.create=s=>new os({checks:[],coerce:(s==null?void 0:s.coerce)||!1,typeName:rt.ZodDate,...bt(s)});class Vd extends mt{_parse(o){if(this._getType(o)!==je.symbol){const f=this._getOrReturnCtx(o);return Ze(f,{code:Ie.invalid_type,expected:je.symbol,received:f.parsedType}),ct}return Zr(o.data)}}Vd.create=s=>new Vd({typeName:rt.ZodSymbol,...bt(s)});class iu extends mt{_parse(o){if(this._getType(o)!==je.undefined){const f=this._getOrReturnCtx(o);return Ze(f,{code:Ie.invalid_type,expected:je.undefined,received:f.parsedType}),ct}return Zr(o.data)}}iu.create=s=>new iu({typeName:rt.ZodUndefined,...bt(s)});class au extends mt{_parse(o){if(this._getType(o)!==je.null){const f=this._getOrReturnCtx(o);return Ze(f,{code:Ie.invalid_type,expected:je.null,received:f.parsedType}),ct}return Zr(o.data)}}au.create=s=>new au({typeName:rt.ZodNull,...bt(s)});class cc extends mt{constructor(){super(...arguments),this._any=!0}_parse(o){return Zr(o.data)}}cc.create=s=>new cc({typeName:rt.ZodAny,...bt(s)});class ss extends mt{constructor(){super(...arguments),this._unknown=!0}_parse(o){return Zr(o.data)}}ss.create=s=>new ss({typeName:rt.ZodUnknown,...bt(s)});class Ma extends mt{_parse(o){const f=this._getOrReturnCtx(o);return Ze(f,{code:Ie.invalid_type,expected:je.never,received:f.parsedType}),ct}}Ma.create=s=>new Ma({typeName:rt.ZodNever,...bt(s)});class Zd extends mt{_parse(o){if(this._getType(o)!==je.undefined){const f=this._getOrReturnCtx(o);return Ze(f,{code:Ie.invalid_type,expected:je.void,received:f.parsedType}),ct}return Zr(o.data)}}Zd.create=s=>new Zd({typeName:rt.ZodVoid,...bt(s)});class yi extends mt{_parse(o){const{ctx:f,status:l}=this._processInputParams(o),v=this._def;if(f.parsedType!==je.array)return Ze(f,{code:Ie.invalid_type,expected:je.array,received:f.parsedType}),ct;if(v.exactLength!==null){const $=f.data.length>v.exactLength.value,F=f.data.length<v.exactLength.value;($||F)&&(Ze(f,{code:$?Ie.too_big:Ie.too_small,minimum:F?v.exactLength.value:void 0,maximum:$?v.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:v.exactLength.message}),l.dirty())}if(v.minLength!==null&&f.data.length<v.minLength.value&&(Ze(f,{code:Ie.too_small,minimum:v.minLength.value,type:"array",inclusive:!0,exact:!1,message:v.minLength.message}),l.dirty()),v.maxLength!==null&&f.data.length>v.maxLength.value&&(Ze(f,{code:Ie.too_big,maximum:v.maxLength.value,type:"array",inclusive:!0,exact:!1,message:v.maxLength.message}),l.dirty()),f.common.async)return Promise.all(f.data.map(($,F)=>v.type._parseAsync(new Hi(f,$,f.path,F)))).then($=>fn.mergeArray(l,$));const E=f.data.map(($,F)=>v.type._parseSync(new Hi(f,$,f.path,F)));return fn.mergeArray(l,E)}get element(){return this._def.type}min(o,f){return new yi({...this._def,minLength:{value:o,message:xt.toString(f)}})}max(o,f){return new yi({...this._def,maxLength:{value:o,message:xt.toString(f)}})}length(o,f){return new yi({...this._def,exactLength:{value:o,message:xt.toString(f)}})}nonempty(o){return this.min(1,o)}}var Gd;yi.create=(s,o)=>new yi({type:s,minLength:null,maxLength:null,exactLength:null,typeName:rt.ZodArray,...bt(o)}),function(s){s.mergeShapes=(o,f)=>({...o,...f})}(Gd||(Gd={}));const k6=s=>o=>new or({...s,shape:()=>({...s.shape(),...o})});function fc(s){if(s instanceof or){const o={};for(const f in s.shape){const l=s.shape[f];o[f]=Vi.create(fc(l))}return new or({...s._def,shape:()=>o})}return s instanceof yi?yi.create(fc(s.element)):s instanceof Vi?Vi.create(fc(s.unwrap())):s instanceof fs?fs.create(fc(s.unwrap())):s instanceof Wi?Wi.create(s.items.map(o=>fc(o))):s}class or extends mt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=k6(this._def),this.extend=k6(this._def)}_getCached(){if(this._cached!==null)return this._cached;const o=this._def.shape(),f=Rt.objectKeys(o);return this._cached={shape:o,keys:f}}_parse(o){if(this._getType(o)!==je.object){const V=this._getOrReturnCtx(o);return Ze(V,{code:Ie.invalid_type,expected:je.object,received:V.parsedType}),ct}const{status:f,ctx:l}=this._processInputParams(o),{shape:v,keys:E}=this._getCached(),$=[];if(!(this._def.catchall instanceof Ma&&this._def.unknownKeys==="strip"))for(const V in l.data)E.includes(V)||$.push(V);const F=[];for(const V of E){const X=v[V],oe=l.data[V];F.push({key:{status:"valid",value:V},value:X._parse(new Hi(l,oe,l.path,V)),alwaysSet:V in l.data})}if(this._def.catchall instanceof Ma){const V=this._def.unknownKeys;if(V==="passthrough")for(const X of $)F.push({key:{status:"valid",value:X},value:{status:"valid",value:l.data[X]}});else if(V==="strict")$.length>0&&(Ze(l,{code:Ie.unrecognized_keys,keys:$}),f.dirty());else if(V!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const V=this._def.catchall;for(const X of $){const oe=l.data[X];F.push({key:{status:"valid",value:X},value:V._parse(new Hi(l,oe,l.path,X)),alwaysSet:X in l.data})}}return l.common.async?Promise.resolve().then(async()=>{const V=[];for(const X of F){const oe=await X.key;V.push({key:oe,value:await X.value,alwaysSet:X.alwaysSet})}return V}).then(V=>fn.mergeObjectSync(f,V)):fn.mergeObjectSync(f,F)}get shape(){return this._def.shape()}strict(o){return xt.errToObj,new or({...this._def,unknownKeys:"strict",...o!==void 0?{errorMap:(f,l)=>{var v,E,$,F;const V=($=(E=(v=this._def).errorMap)===null||E===void 0?void 0:E.call(v,f,l).message)!==null&&$!==void 0?$:l.defaultError;return f.code==="unrecognized_keys"?{message:(F=xt.errToObj(o).message)!==null&&F!==void 0?F:V}:{message:V}}}:{}})}strip(){return new or({...this._def,unknownKeys:"strip"})}passthrough(){return new or({...this._def,unknownKeys:"passthrough"})}setKey(o,f){return this.augment({[o]:f})}merge(o){return new or({unknownKeys:o._def.unknownKeys,catchall:o._def.catchall,shape:()=>Gd.mergeShapes(this._def.shape(),o._def.shape()),typeName:rt.ZodObject})}catchall(o){return new or({...this._def,catchall:o})}pick(o){const f={};return Rt.objectKeys(o).map(l=>{this.shape[l]&&(f[l]=this.shape[l])}),new or({...this._def,shape:()=>f})}omit(o){const f={};return Rt.objectKeys(this.shape).map(l=>{Rt.objectKeys(o).indexOf(l)===-1&&(f[l]=this.shape[l])}),new or({...this._def,shape:()=>f})}deepPartial(){return fc(this)}partial(o){const f={};if(o)return Rt.objectKeys(this.shape).map(l=>{Rt.objectKeys(o).indexOf(l)===-1?f[l]=this.shape[l]:f[l]=this.shape[l].optional()}),new or({...this._def,shape:()=>f});for(const l in this.shape){const v=this.shape[l];f[l]=v.optional()}return new or({...this._def,shape:()=>f})}required(o){const f={};if(o)Rt.objectKeys(this.shape).map(l=>{if(Rt.objectKeys(o).indexOf(l)===-1)f[l]=this.shape[l];else{let v=this.shape[l];for(;v instanceof Vi;)v=v._def.innerType;f[l]=v}});else for(const l in this.shape){let v=this.shape[l];for(;v instanceof Vi;)v=v._def.innerType;f[l]=v}return new or({...this._def,shape:()=>f})}keyof(){return M6(Rt.objectKeys(this.shape))}}or.create=(s,o)=>new or({shape:()=>s,unknownKeys:"strip",catchall:Ma.create(),typeName:rt.ZodObject,...bt(o)}),or.strictCreate=(s,o)=>new or({shape:()=>s,unknownKeys:"strict",catchall:Ma.create(),typeName:rt.ZodObject,...bt(o)}),or.lazycreate=(s,o)=>new or({shape:s,unknownKeys:"strip",catchall:Ma.create(),typeName:rt.ZodObject,...bt(o)});class ou extends mt{_parse(o){const{ctx:f}=this._processInputParams(o),l=this._def.options;if(f.common.async)return Promise.all(l.map(async v=>{const E={...f,common:{...f.common,issues:[]},parent:null};return{result:await v._parseAsync({data:f.data,path:f.path,parent:E}),ctx:E}})).then(function(v){for(const $ of v)if($.result.status==="valid")return $.result;for(const $ of v)if($.result.status==="dirty")return f.common.issues.push(...$.ctx.common.issues),$.result;const E=v.map($=>new Ea($.ctx.common.issues));return Ze(f,{code:Ie.invalid_union,unionErrors:E}),ct});{let v;const E=[];for(const F of l){const V={...f,common:{...f.common,issues:[]},parent:null},X=F._parseSync({data:f.data,path:f.path,parent:V});if(X.status==="valid")return X;X.status!=="dirty"||v||(v={result:X,ctx:V}),V.common.issues.length&&E.push(V.common.issues)}if(v)return f.common.issues.push(...v.ctx.common.issues),v.result;const $=E.map(F=>new Ea(F));return Ze(f,{code:Ie.invalid_union,unionErrors:$}),ct}}get options(){return this._def.options}}ou.create=(s,o)=>new ou({options:s,typeName:rt.ZodUnion,...bt(o)});const Jd=s=>s instanceof cu?Jd(s.schema):s instanceof vi?Jd(s.innerType()):s instanceof fu?[s.value]:s instanceof uu?s.options:s instanceof lu?Object.keys(s.enum):s instanceof du?Jd(s._def.innerType):s instanceof iu?[void 0]:s instanceof au?[null]:null;class Yd extends mt{_parse(o){const{ctx:f}=this._processInputParams(o);if(f.parsedType!==je.object)return Ze(f,{code:Ie.invalid_type,expected:je.object,received:f.parsedType}),ct;const l=this.discriminator,v=f.data[l],E=this.optionsMap.get(v);return E?f.common.async?E._parseAsync({data:f.data,path:f.path,parent:f}):E._parseSync({data:f.data,path:f.path,parent:f}):(Ze(f,{code:Ie.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[l]}),ct)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(o,f,l){const v=new Map;for(const E of f){const $=Jd(E.shape[o]);if(!$)throw new Error(`A discriminator value for key \`${o}\` could not be extracted from all schema options`);for(const F of $){if(v.has(F))throw new Error(`Discriminator property ${String(o)} has duplicate value ${String(F)}`);v.set(F,E)}}return new Yd({typeName:rt.ZodDiscriminatedUnion,discriminator:o,options:f,optionsMap:v,...bt(l)})}}function Ty(s,o){const f=ho(s),l=ho(o);if(s===o)return{valid:!0,data:s};if(f===je.object&&l===je.object){const v=Rt.objectKeys(o),E=Rt.objectKeys(s).filter(F=>v.indexOf(F)!==-1),$={...s,...o};for(const F of E){const V=Ty(s[F],o[F]);if(!V.valid)return{valid:!1};$[F]=V.data}return{valid:!0,data:$}}if(f===je.array&&l===je.array){if(s.length!==o.length)return{valid:!1};const v=[];for(let E=0;E<s.length;E++){const $=Ty(s[E],o[E]);if(!$.valid)return{valid:!1};v.push($.data)}return{valid:!0,data:v}}return f===je.date&&l===je.date&&+s==+o?{valid:!0,data:s}:{valid:!1}}class su extends mt{_parse(o){const{status:f,ctx:l}=this._processInputParams(o),v=(E,$)=>{if(Iy(E)||Iy($))return ct;const F=Ty(E.value,$.value);return F.valid?((Ry(E)||Ry($))&&f.dirty(),{status:f.value,value:F.data}):(Ze(l,{code:Ie.invalid_intersection_types}),ct)};return l.common.async?Promise.all([this._def.left._parseAsync({data:l.data,path:l.path,parent:l}),this._def.right._parseAsync({data:l.data,path:l.path,parent:l})]).then(([E,$])=>v(E,$)):v(this._def.left._parseSync({data:l.data,path:l.path,parent:l}),this._def.right._parseSync({data:l.data,path:l.path,parent:l}))}}su.create=(s,o,f)=>new su({left:s,right:o,typeName:rt.ZodIntersection,...bt(f)});class Wi extends mt{_parse(o){const{status:f,ctx:l}=this._processInputParams(o);if(l.parsedType!==je.array)return Ze(l,{code:Ie.invalid_type,expected:je.array,received:l.parsedType}),ct;if(l.data.length<this._def.items.length)return Ze(l,{code:Ie.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ct;!this._def.rest&&l.data.length>this._def.items.length&&(Ze(l,{code:Ie.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),f.dirty());const v=l.data.map((E,$)=>{const F=this._def.items[$]||this._def.rest;return F?F._parse(new Hi(l,E,l.path,$)):null}).filter(E=>!!E);return l.common.async?Promise.all(v).then(E=>fn.mergeArray(f,E)):fn.mergeArray(f,v)}get items(){return this._def.items}rest(o){return new Wi({...this._def,rest:o})}}Wi.create=(s,o)=>{if(!Array.isArray(s))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Wi({items:s,typeName:rt.ZodTuple,rest:null,...bt(o)})};class Xd extends mt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(o){const{status:f,ctx:l}=this._processInputParams(o);if(l.parsedType!==je.object)return Ze(l,{code:Ie.invalid_type,expected:je.object,received:l.parsedType}),ct;const v=[],E=this._def.keyType,$=this._def.valueType;for(const F in l.data)v.push({key:E._parse(new Hi(l,F,l.path,F)),value:$._parse(new Hi(l,l.data[F],l.path,F))});return l.common.async?fn.mergeObjectAsync(f,v):fn.mergeObjectSync(f,v)}get element(){return this._def.valueType}static create(o,f,l){return new Xd(f instanceof mt?{keyType:o,valueType:f,typeName:rt.ZodRecord,...bt(l)}:{keyType:ka.create(),valueType:o,typeName:rt.ZodRecord,...bt(f)})}}class Qd extends mt{_parse(o){const{status:f,ctx:l}=this._processInputParams(o);if(l.parsedType!==je.map)return Ze(l,{code:Ie.invalid_type,expected:je.map,received:l.parsedType}),ct;const v=this._def.keyType,E=this._def.valueType,$=[...l.data.entries()].map(([F,V],X)=>({key:v._parse(new Hi(l,F,l.path,[X,"key"])),value:E._parse(new Hi(l,V,l.path,[X,"value"]))}));if(l.common.async){const F=new Map;return Promise.resolve().then(async()=>{for(const V of $){const X=await V.key,oe=await V.value;if(X.status==="aborted"||oe.status==="aborted")return ct;X.status!=="dirty"&&oe.status!=="dirty"||f.dirty(),F.set(X.value,oe.value)}return{status:f.value,value:F}})}{const F=new Map;for(const V of $){const X=V.key,oe=V.value;if(X.status==="aborted"||oe.status==="aborted")return ct;X.status!=="dirty"&&oe.status!=="dirty"||f.dirty(),F.set(X.value,oe.value)}return{status:f.value,value:F}}}}Qd.create=(s,o,f)=>new Qd({valueType:o,keyType:s,typeName:rt.ZodMap,...bt(f)});class cs extends mt{_parse(o){const{status:f,ctx:l}=this._processInputParams(o);if(l.parsedType!==je.set)return Ze(l,{code:Ie.invalid_type,expected:je.set,received:l.parsedType}),ct;const v=this._def;v.minSize!==null&&l.data.size<v.minSize.value&&(Ze(l,{code:Ie.too_small,minimum:v.minSize.value,type:"set",inclusive:!0,exact:!1,message:v.minSize.message}),f.dirty()),v.maxSize!==null&&l.data.size>v.maxSize.value&&(Ze(l,{code:Ie.too_big,maximum:v.maxSize.value,type:"set",inclusive:!0,exact:!1,message:v.maxSize.message}),f.dirty());const E=this._def.valueType;function $(V){const X=new Set;for(const oe of V){if(oe.status==="aborted")return ct;oe.status==="dirty"&&f.dirty(),X.add(oe.value)}return{status:f.value,value:X}}const F=[...l.data.values()].map((V,X)=>E._parse(new Hi(l,V,l.path,X)));return l.common.async?Promise.all(F).then(V=>$(V)):$(F)}min(o,f){return new cs({...this._def,minSize:{value:o,message:xt.toString(f)}})}max(o,f){return new cs({...this._def,maxSize:{value:o,message:xt.toString(f)}})}size(o,f){return this.min(o,f).max(o,f)}nonempty(o){return this.min(1,o)}}cs.create=(s,o)=>new cs({valueType:s,minSize:null,maxSize:null,typeName:rt.ZodSet,...bt(o)});class uc extends mt{constructor(){super(...arguments),this.validate=this.implement}_parse(o){const{ctx:f}=this._processInputParams(o);if(f.parsedType!==je.function)return Ze(f,{code:Ie.invalid_type,expected:je.function,received:f.parsedType}),ct;function l(F,V){return qd({data:F,path:f.path,errorMaps:[f.common.contextualErrorMap,f.schemaErrorMap,Kd(),tu].filter(X=>!!X),issueData:{code:Ie.invalid_arguments,argumentsError:V}})}function v(F,V){return qd({data:F,path:f.path,errorMaps:[f.common.contextualErrorMap,f.schemaErrorMap,Kd(),tu].filter(X=>!!X),issueData:{code:Ie.invalid_return_type,returnTypeError:V}})}const E={errorMap:f.common.contextualErrorMap},$=f.data;return this._def.returns instanceof lc?Zr(async(...F)=>{const V=new Ea([]),X=await this._def.args.parseAsync(F,E).catch(ye=>{throw V.addIssue(l(F,ye)),V}),oe=await $(...X);return await this._def.returns._def.type.parseAsync(oe,E).catch(ye=>{throw V.addIssue(v(oe,ye)),V})}):Zr((...F)=>{const V=this._def.args.safeParse(F,E);if(!V.success)throw new Ea([l(F,V.error)]);const X=$(...V.data),oe=this._def.returns.safeParse(X,E);if(!oe.success)throw new Ea([v(X,oe.error)]);return oe.data})}parameters(){return this._def.args}returnType(){return this._def.returns}args(...o){return new uc({...this._def,args:Wi.create(o).rest(ss.create())})}returns(o){return new uc({...this._def,returns:o})}implement(o){return this.parse(o)}strictImplement(o){return this.parse(o)}static create(o,f,l){return new uc({args:o||Wi.create([]).rest(ss.create()),returns:f||ss.create(),typeName:rt.ZodFunction,...bt(l)})}}class cu extends mt{get schema(){return this._def.getter()}_parse(o){const{ctx:f}=this._processInputParams(o);return this._def.getter()._parse({data:f.data,path:f.path,parent:f})}}cu.create=(s,o)=>new cu({getter:s,typeName:rt.ZodLazy,...bt(o)});class fu extends mt{_parse(o){return o.data!==this._def.value?(Ze(this._getOrReturnCtx(o),{code:Ie.invalid_literal,expected:this._def.value}),ct):{status:"valid",value:o.data}}get value(){return this._def.value}}function M6(s,o){return new uu({values:s,typeName:rt.ZodEnum,...bt(o)})}fu.create=(s,o)=>new fu({value:s,typeName:rt.ZodLiteral,...bt(o)});class uu extends mt{_parse(o){if(typeof o.data!="string"){const f=this._getOrReturnCtx(o),l=this._def.values;return Ze(f,{expected:Rt.joinValues(l),received:f.parsedType,code:Ie.invalid_type}),ct}if(this._def.values.indexOf(o.data)===-1){const f=this._getOrReturnCtx(o),l=this._def.values;return Ze(f,{received:f.data,code:Ie.invalid_enum_value,options:l}),ct}return Zr(o.data)}get options(){return this._def.values}get enum(){const o={};for(const f of this._def.values)o[f]=f;return o}get Values(){const o={};for(const f of this._def.values)o[f]=f;return o}get Enum(){const o={};for(const f of this._def.values)o[f]=f;return o}}uu.create=M6;class lu extends mt{_parse(o){const f=Rt.getValidEnumValues(this._def.values),l=this._getOrReturnCtx(o);if(l.parsedType!==je.string&&l.parsedType!==je.number){const v=Rt.objectValues(f);return Ze(l,{expected:Rt.joinValues(v),received:l.parsedType,code:Ie.invalid_type}),ct}if(f.indexOf(o.data)===-1){const v=Rt.objectValues(f);return Ze(l,{received:l.data,code:Ie.invalid_enum_value,options:v}),ct}return Zr(o.data)}get enum(){return this._def.values}}lu.create=(s,o)=>new lu({values:s,typeName:rt.ZodNativeEnum,...bt(o)});class lc extends mt{_parse(o){const{ctx:f}=this._processInputParams(o);if(f.parsedType!==je.promise&&f.common.async===!1)return Ze(f,{code:Ie.invalid_type,expected:je.promise,received:f.parsedType}),ct;const l=f.parsedType===je.promise?f.data:Promise.resolve(f.data);return Zr(l.then(v=>this._def.type.parseAsync(v,{path:f.path,errorMap:f.common.contextualErrorMap})))}}lc.create=(s,o)=>new lc({type:s,typeName:rt.ZodPromise,...bt(o)});class vi extends mt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===rt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(o){const{status:f,ctx:l}=this._processInputParams(o),v=this._def.effect||null;if(v.type==="preprocess"){const $=v.transform(l.data);return l.common.async?Promise.resolve($).then(F=>this._def.schema._parseAsync({data:F,path:l.path,parent:l})):this._def.schema._parseSync({data:$,path:l.path,parent:l})}const E={addIssue:$=>{Ze(l,$),$.fatal?f.abort():f.dirty()},get path(){return l.path}};if(E.addIssue=E.addIssue.bind(E),v.type==="refinement"){const $=F=>{const V=v.refinement(F,E);if(l.common.async)return Promise.resolve(V);if(V instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return F};if(l.common.async===!1){const F=this._def.schema._parseSync({data:l.data,path:l.path,parent:l});return F.status==="aborted"?ct:(F.status==="dirty"&&f.dirty(),$(F.value),{status:f.value,value:F.value})}return this._def.schema._parseAsync({data:l.data,path:l.path,parent:l}).then(F=>F.status==="aborted"?ct:(F.status==="dirty"&&f.dirty(),$(F.value).then(()=>({status:f.value,value:F.value}))))}if(v.type==="transform"){if(l.common.async===!1){const $=this._def.schema._parseSync({data:l.data,path:l.path,parent:l});if(!Hd($))return $;const F=v.transform($.value,E);if(F instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:f.value,value:F}}return this._def.schema._parseAsync({data:l.data,path:l.path,parent:l}).then($=>Hd($)?Promise.resolve(v.transform($.value,E)).then(F=>({status:f.value,value:F})):$)}Rt.assertNever(v)}}vi.create=(s,o,f)=>new vi({schema:s,typeName:rt.ZodEffects,effect:o,...bt(f)}),vi.createWithPreprocess=(s,o,f)=>new vi({schema:o,effect:{type:"preprocess",transform:s},typeName:rt.ZodEffects,...bt(f)});class Vi extends mt{_parse(o){return this._getType(o)===je.undefined?Zr(void 0):this._def.innerType._parse(o)}unwrap(){return this._def.innerType}}Vi.create=(s,o)=>new Vi({innerType:s,typeName:rt.ZodOptional,...bt(o)});class fs extends mt{_parse(o){return this._getType(o)===je.null?Zr(null):this._def.innerType._parse(o)}unwrap(){return this._def.innerType}}fs.create=(s,o)=>new fs({innerType:s,typeName:rt.ZodNullable,...bt(o)});class du extends mt{_parse(o){const{ctx:f}=this._processInputParams(o);let l=f.data;return f.parsedType===je.undefined&&(l=this._def.defaultValue()),this._def.innerType._parse({data:l,path:f.path,parent:f})}removeDefault(){return this._def.innerType}}du.create=(s,o)=>new du({innerType:s,typeName:rt.ZodDefault,defaultValue:typeof o.default=="function"?o.default:()=>o.default,...bt(o)});class eh extends mt{_parse(o){const{ctx:f}=this._processInputParams(o),l=this._def.innerType._parse({data:f.data,path:f.path,parent:f});return Wd(l)?l.then(v=>({status:"valid",value:v.status==="valid"?v.value:this._def.defaultValue()})):{status:"valid",value:l.status==="valid"?l.value:this._def.defaultValue()}}removeDefault(){return this._def.innerType}}eh.create=(s,o)=>new eh({innerType:s,typeName:rt.ZodCatch,defaultValue:typeof o.default=="function"?o.default:()=>o.default,...bt(o)});class th extends mt{_parse(o){if(this._getType(o)!==je.nan){const f=this._getOrReturnCtx(o);return Ze(f,{code:Ie.invalid_type,expected:je.nan,received:f.parsedType}),ct}return{status:"valid",value:o.data}}}th.create=s=>new th({typeName:rt.ZodNaN,...bt(s)});const hI=Symbol("zod_brand");class A6 extends mt{_parse(o){const{ctx:f}=this._processInputParams(o),l=f.data;return this._def.type._parse({data:l,path:f.path,parent:f})}unwrap(){return this._def.type}}class hu extends mt{_parse(o){const{status:f,ctx:l}=this._processInputParams(o);if(l.common.async)return(async()=>{const v=await this._def.in._parseAsync({data:l.data,path:l.path,parent:l});return v.status==="aborted"?ct:v.status==="dirty"?(f.dirty(),S6(v.value)):this._def.out._parseAsync({data:v.value,path:l.path,parent:l})})();{const v=this._def.in._parseSync({data:l.data,path:l.path,parent:l});return v.status==="aborted"?ct:v.status==="dirty"?(f.dirty(),{status:"dirty",value:v.value}):this._def.out._parseSync({data:v.value,path:l.path,parent:l})}}static create(o,f){return new hu({in:o,out:f,typeName:rt.ZodPipeline})}}const C6=(s,o={},f)=>s?cc.create().superRefine((l,v)=>{if(!s(l)){const E=typeof o=="function"?o(l):o,$=typeof E=="string"?{message:E}:E;v.addIssue({code:"custom",...$,fatal:f})}}):cc.create(),pI={object:or.lazycreate};var rt;(function(s){s.ZodString="ZodString",s.ZodNumber="ZodNumber",s.ZodNaN="ZodNaN",s.ZodBigInt="ZodBigInt",s.ZodBoolean="ZodBoolean",s.ZodDate="ZodDate",s.ZodSymbol="ZodSymbol",s.ZodUndefined="ZodUndefined",s.ZodNull="ZodNull",s.ZodAny="ZodAny",s.ZodUnknown="ZodUnknown",s.ZodNever="ZodNever",s.ZodVoid="ZodVoid",s.ZodArray="ZodArray",s.ZodObject="ZodObject",s.ZodUnion="ZodUnion",s.ZodDiscriminatedUnion="ZodDiscriminatedUnion",s.ZodIntersection="ZodIntersection",s.ZodTuple="ZodTuple",s.ZodRecord="ZodRecord",s.ZodMap="ZodMap",s.ZodSet="ZodSet",s.ZodFunction="ZodFunction",s.ZodLazy="ZodLazy",s.ZodLiteral="ZodLiteral",s.ZodEnum="ZodEnum",s.ZodEffects="ZodEffects",s.ZodNativeEnum="ZodNativeEnum",s.ZodOptional="ZodOptional",s.ZodNullable="ZodNullable",s.ZodDefault="ZodDefault",s.ZodCatch="ZodCatch",s.ZodPromise="ZodPromise",s.ZodBranded="ZodBranded",s.ZodPipeline="ZodPipeline"})(rt||(rt={}));const B6=ka.create,I6=po.create,yI=th.create,vI=ru.create,R6=nu.create,mI=os.create,gI=Vd.create,bI=iu.create,wI=au.create,_I=cc.create,xI=ss.create,SI=Ma.create,EI=Zd.create,kI=yi.create,MI=or.create,AI=or.strictCreate,CI=ou.create,BI=Yd.create,II=su.create,RI=Wi.create,TI=Xd.create,NI=Qd.create,PI=cs.create,$I=uc.create,LI=cu.create,OI=fu.create,DI=uu.create,UI=lu.create,jI=lc.create,T6=vi.create,FI=Vi.create,zI=fs.create,KI=vi.createWithPreprocess,qI=hu.create;var Ur=Object.freeze({__proto__:null,defaultErrorMap:tu,setErrorMap:function(s){x6=s},getErrorMap:Kd,makeIssue:qd,EMPTY_PATH:[],addIssueToContext:Ze,ParseStatus:fn,INVALID:ct,DIRTY:S6,OK:Zr,isAborted:Iy,isDirty:Ry,isValid:Hd,isAsync:Wd,get util(){return Rt},ZodParsedType:je,getParsedType:ho,ZodType:mt,ZodString:ka,ZodNumber:po,ZodBigInt:ru,ZodBoolean:nu,ZodDate:os,ZodSymbol:Vd,ZodUndefined:iu,ZodNull:au,ZodAny:cc,ZodUnknown:ss,ZodNever:Ma,ZodVoid:Zd,ZodArray:yi,get objectUtil(){return Gd},ZodObject:or,ZodUnion:ou,ZodDiscriminatedUnion:Yd,ZodIntersection:su,ZodTuple:Wi,ZodRecord:Xd,ZodMap:Qd,ZodSet:cs,ZodFunction:uc,ZodLazy:cu,ZodLiteral:fu,ZodEnum:uu,ZodNativeEnum:lu,ZodPromise:lc,ZodEffects:vi,ZodTransformer:vi,ZodOptional:Vi,ZodNullable:fs,ZodDefault:du,ZodCatch:eh,ZodNaN:th,BRAND:hI,ZodBranded:A6,ZodPipeline:hu,custom:C6,Schema:mt,ZodSchema:mt,late:pI,get ZodFirstPartyTypeKind(){return rt},coerce:{string:s=>ka.create({...s,coerce:!0}),number:s=>po.create({...s,coerce:!0}),boolean:s=>nu.create({...s,coerce:!0}),bigint:s=>ru.create({...s,coerce:!0}),date:s=>os.create({...s,coerce:!0})},any:_I,array:kI,bigint:vI,boolean:R6,date:mI,discriminatedUnion:BI,effect:T6,enum:DI,function:$I,instanceof:(s,o={message:`Input not instance of ${s.name}`})=>C6(f=>f instanceof s,o,!0),intersection:II,lazy:LI,literal:OI,map:NI,nan:yI,nativeEnum:UI,never:SI,null:wI,nullable:zI,number:I6,object:MI,oboolean:()=>R6().optional(),onumber:()=>I6().optional(),optional:FI,ostring:()=>B6().optional(),pipeline:qI,preprocess:KI,promise:jI,record:TI,set:PI,strictObject:AI,string:B6,symbol:gI,transformer:T6,tuple:RI,undefined:bI,union:CI,unknown:xI,void:EI,NEVER:ct,ZodIssueCode:Ie,quotelessJson:s=>JSON.stringify(s,null,2).replace(/"([^"]+)":/g,"$1:"),ZodError:Ea});const HI=Ur.enum(["awake/init","awake/res","awake/msg"]),N6=Ur.object({awv:Ur.literal("0.1.0"),type:HI}),WI=Ur.object({did:Ur.string().startsWith("did:",{message:"should be a DID `did:key:z...`"}),sig:Ur.string()}).strict(),VI=Ur.object({"awake/ack":Ur.string().startsWith("did:",{message:"should be a DID `did:key:z...`"})}).strict();N6.extend({type:Ur.literal("awake/init"),did:Ur.string().startsWith("did:",{message:"should be a DID `did:key:z...`"}),caps:Ur.array(Ur.object({with:Ur.string(),can:Ur.string()})).nonempty()}).strict();const P6=Ur.string().startsWith("did:",{message:"should be a DID `did:key:z...`"});N6.extend({type:Ur.literal("awake/res"),iss:P6,aud:P6,msg:Ur.string().min(1)}).strict();class ZI{constructor(o){this.channel=o.channel,this.agent=o.agent,this.did=o.agent.did(),this.challenge=void 0,this.nextdid=void 0,this.audience=void 0,this.pin=Math.floor(1e6*Math.random())}async bootstrap(o){this.channel.sendInit(o);const{ucan:f}=await this.channel.awaitRes(),l=$6(f.facts,"awake/challenge");if(this.nextdid=zi($6(f.facts,"awake/nextdid")),l==="oob-pin")return await this.sendPinSignature(),this.pin.toString()}async awaitBootstrap(){const o=await this.channel.awaitInit();this.nextdid=o.did;const f=await s3({issuer:this.agent.issuer,audience:this.nextdid,capabilities:[{with:"awake:",can:"*"}],facts:[{"awake/challenge":"oob-pin"},{"awake/nextdid":this.channel.keypair.did}]});await this.channel.sendRes(this.nextdid,f);const l=await this.channel.awaitMsg(this.nextdid),{did:v,sig:E}=WI.parse(l.msg);this.audience=zi(v),this.challenge=E}async ack(o){if(!this.challenge||!this.nextdid||!this.audience)throw new Error("No challenge active.");const f=Fd(this.challenge,"base64"),l=i6(this.audience.did()),v=Fd(this.channel.keypair.did+o),E=await M.encode(v);if(!await l.verify(E,X1(f)))throw new Error(`Challenge failed: ${o} is not valid for the current challenge.`);await this.channel.sendMsg(this.nextdid,{"awake/ack":this.did})}async awaitAck(){if(!this.nextdid)throw new Error("No session is active. await ack");const o=await this.channel.awaitMsg(this.nextdid),f=VI.parse(o.msg);this.audience=zi(f["awake/ack"])}async link(o){if(!this.nextdid||!this.audience)throw new Error("No session is active. request link");const f={type:"link",meta:o.meta,caps:o.caps};this.channel.sendMsg(this.nextdid,f);const l=await this.channel.awaitMsg(this.nextdid),v=w6(l.msg.delegation);return await this.channel.sendFin(this.nextdid),await this.agent.addProof(v[0]),{delegation:v[0],meta:l.msg.meta}}async awaitLink(){if(!this.nextdid||!this.audience)throw new Error("No challenge active.");const o=await this.channel.awaitMsg(this.nextdid),f=await this.agent.delegate({abilities:["*"],audience:this.audience,expiration:1/0,audienceMeta:o.msg.meta});this.channel.subscribe("awake/msg",l=>{this.channel.close()}),this.channel.sendMsg(this.nextdid,{meta:{name:this.agent.did(),type:"device"},delegation:cI([f])})}async sendPinSignature(){if(!this.nextdid)throw new Error("No session is active.");const o=Fd(this.nextdid.did()+this.pin.toString()),f=await this.agent.issuer.sign(await M.encode(o));this.channel.sendMsg(this.nextdid,{did:this.did,sig:m6(f,"base64")})}}function $6(s,o){for(const f of s)if(f[o])return f[o]}function Gt(s,o){return s.with===o.with||new cn(`Can not derive ${s.can} with ${s.with} from ${o.with}`)}function Aa(s,o,f){return o===void 0||o==="*"||String(s)===String(o)||new cn(`Constrain violation: ${s} violates imposed ${f} constraint ${o}`)}const L6=(s,o)=>s.with!==o.with?new cn(`Expected 'with: "${o.with}"' instead got '${s.with}'`):!o.nb.link||`${o.nb.link}`==`${s.nb.link}`||new cn(`Link ${s.nb.link?`${s.nb.link}`:""} violates imposed ${o.nb.link} constraint.`);function un(s){return s===!0?void 0:s}function O6(s){const[o,...f]=s.split("/");return{namespace:o,segments:f}}function GI(s,o){const f=O6(s),l=O6(o);return f.namespace==="*"&&f.segments.length===0||(l.namespace!=="*"||l.segments.length!==0)&&f.namespace===l.namespace&&(f.segments[0]==="*"||f.segments.length===l.segments.length&&f.segments.reduce((v,E,$)=>v&&l.segments[$]===E,!0))}const Ca=Lr({can:"*",with:vr({protocol:"did:"}),derives:Gt}),JI=Ca.derive({to:Lr({can:"store/*",with:vr({protocol:"did:"}),derives:Gt}),derives:Gt}),Ny=Ca.or(JI),D6=Ny.derive({to:Lr({can:"store/add",with:vr({protocol:"did:"}),nb:{link:Pd,size:yy(),origin:H3()},derives:(s,o)=>{const f=L6(s,o);return f.error?f:s.nb.size===void 0||o.nb.size===void 0||!(s.nb.size>o.nb.size)||new cn(`Size constraint violation: ${s.nb.size} > ${o.nb.size}`)}}),derives:Gt}),U6=Ny.derive({to:Lr({can:"store/remove",with:vr({protocol:"did:"}),nb:{link:Pd},derives:L6}),derives:Gt}),j6=Ny.derive({to:Lr({can:"store/list",with:vr({protocol:"did:"}),nb:{cursor:Rd().optional(),size:yy().optional(),pre:L3().optional()},derives:(s,o)=>s.with===o.with||new cn(`Expected 'with: "${o.with}"' instead got '${s.with}'`)}),derives:Gt});D6.or(U6).or(j6);const YI=Ca.derive({to:Lr({can:"upload/*",with:vr({protocol:"did:"}),derives:Gt}),derives:Gt}),Py=Ca.or(YI),XI=q3({code:514,version:1}),F6=Py.derive({to:Lr({can:"upload/add",with:vr({protocol:"did:"}),nb:{root:Pd,shards:XI.array().optional()},derives:(s,o)=>un(Gt(s,o))||un(Aa(s.nb.root,o.nb.root,"root"))||un(Aa(s.nb.shards,o.nb.shards,"shards"))||!0}),derives:Gt}),z6=Py.derive({to:Lr({can:"upload/remove",with:vr({protocol:"did:"}),nb:{root:Pd},derives:(s,o)=>un(Gt(s,o))||un(Aa(s.nb.root,o.nb.root,"root"))||!0}),derives:Gt}),K6=Py.derive({to:Lr({can:"upload/list",with:vr({protocol:"did:"}),nb:{cursor:Rd().optional(),size:yy().optional(),pre:L3().optional()}}),derives:Gt});F6.or(z6).or(K6);const QI=Ca.derive({to:Lr({can:"space/*",with:vr({protocol:"did:"}),derives:Gt}),derives:Gt}),$y=Ca.or(QI),eR=$y.or(D6).or(j6).or(U6).or(F6).or(K6).or(z6).derive({to:Lr({can:"space/info",with:vr({protocol:"did:"}),derives:Gt}),derives:Gt}),tR=$y.derive({to:Lr({can:"space/recover-validation",with:vr({protocol:"did:"}),nb:{identity:vr({protocol:"mailto:"})},derives:Gt}),derives:Gt}),rR=$y.derive({to:Lr({can:"space/recover",with:vr({protocol:"did:"}),nb:{identity:vr({protocol:"mailto:"})},derives:(s,o)=>un(Gt(s,o))||un(function(f,l){return l===void 0||(f!==void 0&&l.endsWith("*")?!!f.startsWith(l.slice(0,-1))||new cn(`${f} does not match ${l}`):f===l||new cn(`${f} is different from ${l}`))}(s.nb.identity,o.nb.identity))||!0}),derives:Gt}),q6=z3,H6=vr({protocol:"mailto:"}),nR=vy({}),W6=Ca.derive({to:Lr({can:"voucher/*",with:vr({protocol:"did:"}),derives:Gt}),derives:Gt}),iR=Ca.or(W6).derive({to:Lr({can:"voucher/claim",with:vr({protocol:"did:"}),nb:{product:q6,identity:H6,service:nR.optional()},derives:(s,o)=>un(Gt(s,o))||un(Aa(s.nb.product,o.nb.product,"product"))||un(Aa(s.nb.identity,o.nb.identity,"identity"))||un(Aa(s.nb.service,o.nb.service,"service"))||!0}),derives:Gt}),aR=W6.derive({to:Lr({can:"voucher/redeem",with:vr({protocol:"did:"}),nb:{product:q6,identity:H6,space:vr({protocol:"did:"})},derives:(s,o)=>un(Gt(s,o))||un(Aa(s.nb.product,o.nb.product,"product"))||un(Aa(s.nb.identity,o.nb.identity,"identity"))||un(Aa(s.nb.space,o.nb.space,"account"))||!0}),derives:Gt});var dc=null;typeof WebSocket<"u"?dc=WebSocket:typeof MozWebSocket<"u"?dc=MozWebSocket:typeof He<"u"?dc=He.WebSocket||He.MozWebSocket:typeof window<"u"?dc=window.WebSocket||window.MozWebSocket:typeof self<"u"&&(dc=self.WebSocket||self.MozWebSocket);var oR=dc;class sR extends Error{constructor(o){super(o),this.name="TimeoutError"}}class cR extends Error{constructor(o){super(),this.name="AbortError",this.message=o}}const V6=s=>globalThis.DOMException===void 0?new cR(s):new DOMException(s),Z6=s=>{const o=s.reason===void 0?V6("This operation was aborted."):s.reason;return o instanceof Error?o:V6(o)},Ly=Symbol("resolveValue");async function Oy(s,o={}){const{interval:f=20,timeout:l=Number.POSITIVE_INFINITY,before:v=!0}=o;let E;const $=new Promise((F,V)=>{const X=async()=>{try{const oe=await s();if(typeof oe=="object"&&oe[Ly])F(oe[Ly]);else{if(typeof oe!="boolean")throw new TypeError("Expected condition to return a boolean");oe===!0?F():E=setTimeout(X,f)}}catch(oe){V(oe)}};v?X():E=setTimeout(X,f)});if(l===Number.POSITIVE_INFINITY)return $;try{return await function(F,V){const{milliseconds:X,fallback:oe,message:ye,customTimers:me={setTimeout,clearTimeout}}=V;let Pe;const We=new Promise((et,Ct)=>{if(typeof X!="number"||Math.sign(X)!==1)throw new TypeError(`Expected \`milliseconds\` to be a positive number, got \`${X}\``);if(X!==Number.POSITIVE_INFINITY){if(V.signal){const{signal:Qe}=V;Qe.aborted&&Ct(Z6(Qe)),Qe.addEventListener("abort",()=>{Ct(Z6(Qe))})}Pe=me.setTimeout.call(void 0,()=>{if(oe){try{et(oe())}catch(ut){Ct(ut)}return}const Qe=ye instanceof Error?ye:new sR(typeof ye=="string"?ye:`Promise timed out after ${X} milliseconds`);typeof F.cancel=="function"&&F.cancel(),Ct(Qe)},X),(async()=>{try{et(await F)}catch(Qe){Ct(Qe)}finally{me.clearTimeout.call(void 0,Pe)}})()}else et(F)});return We.clear=()=>{me.clearTimeout.call(void 0,Pe),Pe=void 0},We}($,typeof l=="number"?{milliseconds:l}:l)}finally{clearTimeout(E)}}Oy.resolveWith=s=>({[Ly]:s});class fR{constructor(o,f){jt(this,Ia,void 0);this.url=new URL(f,o),o.protocol==="http:"&&(this.url.protocol="ws:"),o.protocol==="https:"&&(this.url.protocol="wss:"),this.ws=void 0,mn(this,Ia,new Map),this.attemps=0,this.onMessage=void 0,this.timeout=void 0,this.forceClose=!1}async open(){return this.ws=this.connect(),await Oy(()=>{var o;return((o=this.ws)==null?void 0:o.readyState)===1}),this}connect(){if(this.attemps>10)return;const o=new oR(this.url);return this.ws=o,o.addEventListener("close",f=>{this.forceClose||this.timeout?(clearTimeout(this.timeout),this.timeout=void 0):(this.timeout=setTimeout(()=>{this.attemps++,this.connect()},1e3),console.log("WebSocket closed, reconnecting:",f.code,f.reason))}),o.addEventListener("error",f=>{}),o.addEventListener("open",f=>{clearTimeout(this.timeout),this.timeout=void 0}),o.addEventListener("message",f=>{const l=JSON.parse(f.data);l.error&&console.error(l.error),l.type&&this.publish(l),this.onMessage!==void 0&&l.type&&this.onMessage(l)}),o}async close(o,f){return this.ws&&(this.forceClose=!0,this.ws.close(o,f),await Oy(()=>{var l;return((l=this.ws)==null?void 0:l.readyState)===3})),this}send(o){var f;if(((f=this.ws)==null?void 0:f.readyState)!==1)throw new Error("Websocket is not active.");this.ws.send(JSON.stringify(o))}subscribe(o,f,l){let v=Fe(this,Ia).get(o),E=f;return l&&(E=$=>{v==null||v.splice(v.indexOf(E)>>>0,1),Reflect.apply(f,this,[$])}),v?v.push(E):(v=[E],Fe(this,Ia).set(o,v)),()=>{v==null||v.splice(v.indexOf(E)>>>0,1)}}unsubscribe(o,f){const l=Fe(this,Ia).get(o);l&&(f?l.splice(l.indexOf(f)>>>0,1):Fe(this,Ia).set(o,[]))}publish(o){var v;const{type:f}=o,l=(v=Fe(this,Ia).get(f))==null?void 0:v.slice();if(l)for(const E of l)E(o)}awaitMsg(o){return new Promise((f,l)=>{o!=null&&o.signal&&o.signal.addEventListener("abort",()=>{var v;this.onMessage=void 0,l(new pu("Await message cancelled.",{cause:(v=o.signal)==null?void 0:v.reason}))}),this.onMessage=v=>{try{this.onMessage=void 0,f(v)}catch(E){l(E)}}})}}Ia=new WeakMap;class pu extends Error{constructor(o,f){super(o,f),this.name="AbortError",this.message=o,this.code=pu.code}}pu.code="ERR_AWAIT_MSG_CANCEL";const us=(globalThis||window||self).crypto,Dy=(s,o)=>{const f=ce(s),l=new Uint8Array(o.byteLength+f);return re(s,l,0),l.set(o,f),l},Uy=(s,o,f=0)=>{const l=f!==0?o.subarray(f):o,[v,E]=ie(l);if(v!==s)throw new Error(`Expected multiformat with 0x${s.toString(16)} tag instead got 0x${v.toString(16)}`);return new Uint8Array(l.buffer,l.byteOffset+E)},rh=s=>{if(s<=127)return new Uint8Array([s]);const o=[];for(;s!==0;)o.push(255&s),s>>>=8;return o.reverse(),new Uint8Array([128|255&o.length,...o])},G6=(s,o,f)=>{const l=hc(s,o,f);return l.position+l.length},hc=(s,o,f)=>{const l=s[f];if(l!==o)throw new Error(`ASN parsing error: Expected tag 0x${o.toString(16)} at position ${f}, but got 0x${l.toString(16)}.`);const v=((E,$=0)=>{if(!(128&E[$]))return{number:E[$],consumed:1};const F=127&E[$];if(E.length<F+1)throw new Error(`ASN parsing error: Too few bytes. Expected encoded length's length to be at least ${F}`);let V=0;for(let X=0;X<F;X++)V<<=8,V|=E[$+X+1];return{number:V,consumed:F+1}})(s,f+1);return{position:f+1+v.consumed,length:v.number}},uR=s=>{const o=rh(s.byteLength+1),f=new Uint8Array(1+o.byteLength+1+s.byteLength);let l=0;return f[l]=3,l+=1,f.set(o,l),l+=o.byteLength,f[l]=0,l+=1,f.set(s,l),f},lR=s=>{const o=rh(s.byteLength),f=new Uint8Array(1+o.byteLength+s.byteLength);let l=0;return f[l]=4,l+=1,f.set(o,l),l+=o.byteLength,f.set(s,l),f},jy=s=>{let o=0;for(const E of s)o+=E.byteLength;const f=rh(o),l=new Uint8Array(1+f.byteLength+o);let v=0;l[v]=48,v+=1,l.set(f,v),v+=f.byteLength;for(const E of s)l.set(E,v),v+=E.byteLength;return l},J6=s=>{const o=s.byteLength===0||128&s[0]?1:0,f=rh(s.byteLength+o),l=new Uint8Array(1+f.byteLength+s.byteLength+o);let v=0;return l[v]=2,v+=1,l.set(f,v),v+=f.byteLength,o>0&&(l[v]=0,v+=o),l.set(s,v),l},Y6=(s,o=0)=>hc(s,48,o).position,X6=(s,o=0)=>G6(s,48,o),Ba=(s,o=0)=>{const{position:f,length:l}=hc(s,2,o);let v=0;for(;s[f+v]===0;)v++;return new Uint8Array(s.buffer,s.byteOffset+f+v,l-v)},dR=(s,o,f=0)=>{const l=[],v=(($,F=0)=>{const{position:V,length:X}=hc($,48,F);return new Uint8Array($.buffer,$.byteOffset+V,X)})(o,f);let E=0;for(const $ of s){const F=$(v,E);l.push(F),E=F.byteOffset+F.byteLength-v.byteOffset}return l},hR=new Uint8Array([48,13,6,9,42,134,72,134,247,13,1,1,1,5,0]),pR=s=>{const o=Y6(s,0);return((f,l=0)=>{const{position:v,length:E}=hc(f,3,l),$=f[v];if($!==0)throw new Error(`Can not read bitstring, expected length to be multiple of 8, but got ${$} unused bits in last byte.`);return new Uint8Array(f.buffer,f.byteOffset+v+1,E-1)})(s,X6(s,o))},yR=new Uint8Array([2,1,0,48,13,6,9,42,134,72,134,247,13,1,1,1,5,0]),vR=s=>{let o=0;return o=Y6(s,o),o=((f,l=0)=>G6(f,2,l))(s,o),o=X6(s,o),((f,l=0)=>{const{position:v,length:E}=hc(f,4,l);return new Uint8Array(f.buffer,f.byteOffset+v,E)})(s,o)},yu=4869,nh=4613,vu=G1,Fy="RS256",ih="RSASSA-PKCS1-v1_5",zy="SHA-256",Q6={name:ih,hash:{name:zy}},e4=async({size:s=2048,extractable:o=!1}={})=>{const{publicKey:f,privateKey:l}=await us.subtle.generateKey({name:ih,modulusLength:s,publicExponent:new Uint8Array([1,0,1]),hash:{name:zy}},o,["sign","verify"]),v=await us.subtle.exportKey("spki",f),E=Dy(nh,pR(new Uint8Array(v))),$=new ls({bytes:E,publicKey:f});if(o){const F=await us.subtle.exportKey("pkcs8",l),V=Dy(yu,vR(new Uint8Array(F)));return new i4({privateKey:l,bytes:V,verifier:$})}return new a4({privateKey:l,verifier:$})},t4=({id:s,keys:o})=>{if(s.startsWith("did:key:")){const f=s,l=o[f];return l instanceof Uint8Array?r4(l):new a4({privateKey:l,verifier:ls.parse(f)})}throw new TypeError(`RSA can not import from ${s} archive, try generic Signer instead`)},r4=s=>{const o=((v,E=0)=>{const[$,F,V,X,oe,ye,me,Pe,We]=dR([Ba,Ba,Ba,Ba,Ba,Ba,Ba,Ba,Ba],v,E);return{v:$,n:F,e:V,d:X,p:oe,q:ye,dp:me,dq:Pe,qi:We}})(Uy(yu,s)),f=Dy(nh,(({n:v,e:E})=>jy([J6(v),J6(E)]))(o));return new i4({bytes:s,privateKey:us.subtle.importKey("pkcs8",(l=Uy(yu,s),jy([yR,lR(l)])),Q6,!0,["sign"]),verifier:ls.decode(f)});var l};class ls{constructor({publicKey:o,bytes:f}){this.publicKey=o,this.bytes=f}withDID(o){return ky(this,o)}toDIDKey(){return this.did()}static decode(o){return new this({bytes:o,publicKey:us.subtle.importKey("spki",(f=Uy(nh,o),jy([hR,uR(f)])),Q6,!0,["verify"])});var f}static parse(o){return ls.decode(zi(o))}static or(o){return e6(this,o)}get code(){return nh}get signatureCode(){return vu}get signatureAlgorithm(){return Fy}did(){return`did:key:${In.encode(this.bytes)}`}async verify(o,f){return f.code===vu&&us.subtle.verify({name:ih,hash:{name:zy}},await this.publicKey,f.raw,o)}}class n4{constructor({privateKey:o,verifier:f}){this.verifier=f,this.privateKey=o}get signer(){return this}get code(){return yu}get signatureCode(){return vu}get signatureAlgorithm(){return Fy}did(){return this.verifier.did()}toDIDKey(){return this.verifier.toDIDKey()}verify(o,f){return this.verifier.verify(o,f)}async sign(o){const f=await us.subtle.sign({name:ih,saltLength:128},await this.privateKey,o);return Y1(vu,new Uint8Array(f))}}class i4 extends n4{constructor(o){super(o),this.bytes=o.bytes}withDID(o){return Ud(this,o)}toArchive(){const o=this.did();return{id:o,keys:{[o]:this.bytes}}}}class a4 extends n4{constructor(o){super(o),this.privateKey=o.privateKey}withDID(o){return Ud(this,o)}toArchive(){const o=this.did();return{id:o,keys:{[o]:this.privateKey}}}}var mR=Object.freeze({__proto__:null,name:"RSA",code:yu,signatureCode:vu,signatureAlgorithm:Fy,generate:e4,from:t4,or:s=>o6({from:t4},s),decode:r4,Verifier:ls});const gR=e6({parse:i6},ls),bR=(s=>o6({from:NB},s))(mR);function Ky(s){return s.expiration===void 0||s.expiration<=Math.floor(Date.now()/1e3)}function o4(s){return!!s.notBefore&&s.notBefore>Math.floor(Date.now()/1e3)}function wR(s,o){for(const f of s.capabilities)if(f.with===o.with&&GI(f.can,o.can))return!0;return!1}const dh=class{constructor(o,f={}){jt(this,yo,void 0);this.meta=o.meta,this.principal=o.principal,this.spaces=o.spaces,this.delegations=o.delegations,this.currentSpace=o.currentSpace,mn(this,yo,l=>f.store?f.store.save(l):void 0)}static async create(o={},f={}){const l=new dh({meta:{name:"agent",type:"device",...o.meta},principal:o.principal??await f6(),spaces:o.spaces??new Map,delegations:o.delegations??new Map,currentSpace:o.currentSpace},f);return f.store&&await f.store.save(l.export()),l}static fromExport(o,f){const l=new Map;for(const[v,E]of o.delegations)l.set(v,{delegation:WA(E.delegation.map($=>({cid:Ht.parse($.cid),bytes:$.bytes}))),meta:E.meta});return new dh({meta:o.meta,principal:bR.from(o.principal),currentSpace:o.currentSpace,spaces:o.spaces,delegations:l},f)}export(){const o={meta:this.meta,principal:this.principal.toArchive(),currentSpace:this.currentSpace,spaces:this.spaces,delegations:new Map};for(const[f,l]of this.delegations)o.delegations.set(f,{meta:l.meta,delegation:[...l.delegation.export()].map(v=>({cid:v.cid.toString(),bytes:v.bytes}))});return o}async addSpace(o,f,l){this.spaces.set(o,f),await(l?this.addDelegation(l):Fe(this,yo).call(this,this.export()))}async setCurrentSpace(o){this.currentSpace=o,await Fe(this,yo).call(this,this.export())}async addDelegation(o,f){this.delegations.set(o.cid.toString(),{delegation:o,meta:f??{}}),await Fe(this,yo).call(this,this.export())}async removeDelegation(o){this.delegations.delete(o.toString()),await Fe(this,yo).call(this,this.export())}};let ah=dh;yo=new WeakMap;const s4="https://access.web3.storage",_R=zi("did:web:web3.storage");function xR(s={}){return(o=>new N(o))({id:s.principal??_R,encoder:MC,decoder:BC,channel:s.channel??IC({url:s.url??new URL(s4),method:"POST",fetch:s.fetch??globalThis.fetch.bind(globalThis)})})}const hh=class{constructor(o,f={}){jt(this,wu);jt(this,_u);jt(this,rr,void 0);var v;const l=(v=f.connection)==null?void 0:v.channel;this.url=f.url??(l==null?void 0:l.url)??new URL(s4),this.connection=f.connection??xR({principal:f.servicePrincipal,url:this.url}),mn(this,rr,o)}static async create(o,f={}){const l=await ah.create(o,f);return new hh(l,f)}static from(o,f={}){const l=ah.fromExport(o,f);return new hh(l,f)}get issuer(){return Fe(this,rr).principal}get meta(){return Fe(this,rr).meta}get spaces(){return Fe(this,rr).spaces}did(){return Fe(this,rr).principal.did()}async addProof(o){(function(f,l){const{checkAudience:v,checkIsExpired:E=!0,checkIsTooEarly:$=!0}=l??{};if(v&&f.audience.did()!==v.did())throw new Error("Delegation audience does not match required DID.");if(E&&Ky(f))throw new Error("Delegation expired.");if($&&o4(f))throw new Error("Delegation is not active yet (too early).")})(o,{checkAudience:this.issuer,checkIsExpired:!0}),await Fe(this,rr).addDelegation(o,{audience:this.meta}),await this.removeExpiredDelegations()}async removeExpiredDelegations(){for(const[,o]of Fe(this,rr).delegations)Ky(o.delegation)&&await Fe(this,rr).removeDelegation(o.delegation.cid)}proofs(o){const f=[];for(const l of _r(this,wu,bg).call(this,o))l.delegation.audience.did()===this.issuer.did()&&f.push(l.delegation);return f}delegations(o){const f=[];for(const{delegation:l}of this.delegationsWithMeta(o))f.push(l);return f}delegationsWithMeta(o){const f=[];for(const l of _r(this,wu,bg).call(this,o))l.delegation.audience.did()!==this.issuer.did()&&f.push(l);return f}async createSpace(o){const f=await f6(),l=await Ca.delegate({issuer:f,audience:this.issuer,with:f.did(),expiration:1/0}),v={isRegistered:!1};if(o!=null){if(typeof o!="string")throw new TypeError("invalid name");v.name=o}return await Fe(this,rr).addSpace(f.did(),v,l),{did:f.did(),meta:v,proof:l}}async importSpaceFromDelegation(o){if(o.capabilities[0].can!=="*")throw new Error("Space can only be import with full capabilities delegation.");const f=o.facts[0].space,l=o,v=gR.parse(l.capabilities[0].with).did();return Fe(this,rr).spaces.set(v,f),await this.addProof(l),{did:v,meta:f,proof:l}}async recover(o,f){const l=await this.invokeAndExecute(tR,{with:ac(this.did()),nb:{identity:ac(`mailto:${o}`)}});if(l&&l.error)throw new Error("Recover validation failed",{cause:l});const v=await _r(this,_u,wg).call(this,f);await this.addProof(v);const E=await this.invokeAndExecute(rR,{with:ac(this.connection.id.did()),nb:{identity:ac(`mailto:${o}`)}});if(E&&E.error)throw new Error("Spaces recover failed",{cause:E});const $=[];for(const F of E)$.push(_6(F));return $}async setCurrentSpace(o){if(this.proofs([{can:"space/info",with:o}]).length===0)throw new Error(`Agent has no proofs for ${o}.`);return await Fe(this,rr).setCurrentSpace(o),o}currentSpace(){return Fe(this,rr).currentSpace}currentSpaceWithMeta(){if(!Fe(this,rr).currentSpace)return;const o=this.proofs([{can:"space/info",with:Fe(this,rr).currentSpace}]),f=new Set;for(const l of o)for(const v of l.capabilities)f.add(v.can);return{did:Fe(this,rr).currentSpace,proofs:o,capabilities:[...f],meta:Fe(this,rr).spaces.get(Fe(this,rr).currentSpace)}}async registerSpace(o,f){const l=this.currentSpace(),v=this.connection.id,E=l?Fe(this,rr).spaces.get(l):void 0;if(!l||!E)throw new Error("No space selected");if(E&&E.isRegistered)throw new Error("Space already registered with web3.storage.");const $=await this.invokeAndExecute(iR,{nb:{identity:ac(`mailto:${o}`),product:"product:free",service:v.did()}});if($&&$.error)throw new Error("Voucher claim failed",{cause:$});const F=await _r(this,_u,wg).call(this,f);await this.addProof(F);const V=await this.delegate({abilities:["*"],audience:v,expiration:1/0,audienceMeta:{name:"w3access",type:"service"}}),X=await this.invokeAndExecute(aR,{with:ac(v.did()),nb:{space:l,identity:F.capabilities[0].nb.identity,product:F.capabilities[0].nb.product},proofs:[V],facts:[{space:E,agent:this.meta}]});if(X&&X.error)throw new Error("Space registration failed",{cause:X});E.isRegistered=!0,Fe(this,rr).addSpace(l,E),Fe(this,rr).removeDelegation(F.cid)}async delegate(o){const f=this.currentSpaceWithMeta();if(!f)throw new Error("there no space selected.");const l=o.abilities.map(E=>({with:f.did,can:E})),v=await oy({issuer:this.issuer,capabilities:l,proofs:this.proofs(l),facts:[{space:f.meta}],...o});return await Fe(this,rr).addDelegation(v,{audience:o.audienceMeta}),await this.removeExpiredDelegations(),v}async invokeAndExecute(o,f){return(await this.invoke(o,f)).execute(this.connection)}execute(...o){return this.connection.execute(...o)}async invoke(o,f){const l=f.with||this.currentSpace();if(!l)throw new Error("No space selected, you need pass a resource.");const v=this.proofs([{with:l,can:o.can}]);if(v.length===0&&f.with!==this.did())throw new Error(`no proofs available for resource ${l} and ability ${o.can}`);const E=f.proofs||[];return l3({...f,audience:f.audience||this.connection.id,capability:o.create({with:l,nb:f.nb}),issuer:this.issuer,proofs:[...v,...E]})}peer(o){return new ZI({agent:this,channel:o})}async getSpaceInfo(o){const f=o||this.currentSpace();if(!f)throw new Error("No space selected, you need pass a resource.");const l=await this.invokeAndExecute(eR,{with:f});if(l.error)throw l;return l}};let oh=hh;rr=new WeakMap,wu=new WeakSet,bg=function(o){const f=new Set(o),l=[];for(const[,v]of Fe(this,rr).delegations)if(!Ky(v.delegation)&&!o4(v.delegation))if(Array.isArray(o)&&o.length>0)for(const E of f)wR(v.delegation,E)&&(f.delete(E),l.push(v));else l.push(v);return l},_u=new WeakSet,wg=async function(o){const f=new fR(this.url,"validate-ws");await f.open(),f.send({did:this.did()});try{const l=await f.awaitMsg(o);if(l.type==="timeout")throw await f.close(),new Error("Email validation timed out.");if(l.type==="delegation"){const v=_6(l.delegation);return f.close(),v}}catch(l){if(l instanceof pu)throw await f.close(),new TypeError("Failed to get delegation",{cause:l})}throw new TypeError("Failed to get delegation")};function mu(){const s={};return s.promise=new Promise((o,f)=>{s.resolve=o,s.reject=f}),s}class SR{constructor(o,f={}){jt(this,pc);jt(this,xu,void 0);jt(this,Su,void 0);jt(this,vo,void 0);jt(this,Ra,void 0);jt(this,Eu,void 0);mn(this,xu,o),mn(this,Su,f.dbVersion),mn(this,vo,f.dbStoreName??"AccessStore"),mn(this,Eu,f.autoOpen??!0)}async open(){if(Fe(this,Ra))return;const{resolve:o,reject:f,promise:l}=mu(),v=indexedDB.open(Fe(this,xu),Fe(this,Su));return v.addEventListener("upgradeneeded",()=>{v.result.createObjectStore(Fe(this,vo),{keyPath:"id"})}),v.addEventListener("success",()=>{mn(this,Ra,v.result),o()}),v.addEventListener("error",()=>f(v.error)),l}async close(){const o=Fe(this,Ra);if(!o)throw new Error("Store is not open");o.close(),mn(this,Ra,void 0)}async save(o){return await qy(await _r(this,pc,Xh).call(this),"readwrite",Fe(this,vo),async l=>{const{resolve:v,reject:E,promise:$}=mu(),F=l.put({id:1,...o});return F.addEventListener("success",()=>v()),F.addEventListener("error",()=>E(new Error("failed to query DB",{cause:F.error}))),$})()}async load(){return await qy(await _r(this,pc,Xh).call(this),"readonly",Fe(this,vo),async f=>{const{resolve:l,reject:v,promise:E}=mu(),$=f.get(1);return $.addEventListener("success",()=>l($.result)),$.addEventListener("error",()=>v(new Error("failed to query DB",{cause:$.error}))),E})()}async reset(){qy(await _r(this,pc,Xh).call(this),"readwrite",Fe(this,vo),o=>{const{resolve:f,reject:l,promise:v}=mu(),E=o.clear();return E.addEventListener("success",()=>{f()}),E.addEventListener("error",()=>l(new Error("failed to query DB",{cause:E.error}))),v})}}xu=new WeakMap,Su=new WeakMap,vo=new WeakMap,Ra=new WeakMap,Eu=new WeakMap,pc=new WeakSet,Xh=async function(){if(!Fe(this,Ra)){if(!Fe(this,Eu))throw new Error("Store is not open");await this.open()}return Fe(this,Ra)};function qy(s,o,f,l){return async()=>{const v=s.transaction(f,o),{resolve:E,reject:$,promise:F}=mu();let V;v.addEventListener("complete",()=>E(V)),v.addEventListener("abort",()=>$(v.error||new Error("transaction aborted"))),v.addEventListener("error",()=>$(new Error("transaction error",{cause:v.error})));try{V=await l(v.objectStore(f)),v.commit()}catch(X){$(X),v.abort()}return F}}class ER extends SR{}var gu=u("did"),mi=u("meta");class c4{constructor(o,f={}){Object.defineProperty(this,gu,{writable:!0,value:void 0}),Object.defineProperty(this,mi,{writable:!0,value:void 0}),d(this,gu)[gu]=o,d(this,mi)[mi]=f}name(){return d(this,mi)[mi].name!=null?String(d(this,mi)[mi].name):void 0}did(){return d(this,gu)[gu]}registered(){return Boolean(d(this,mi)[mi].isRegistered)}meta(){return d(this,mi)[mi]}sameAs(o){return this.did()===(o==null?void 0:o.did())}}function sh(s){const o=s.currentSpace();if(o==null)return;const f=s.spaces.get(o);return new c4(o,f)}function f4(s){const o=[];for(const[f,l]of s.spaces.entries())o.push(new c4(f,l));return o}const u4=[{space:void 0,spaces:[],agent:void 0},{loadAgent:async()=>{},unloadAgent:async()=>{},resetAgent:async()=>{},createSpace:async()=>{throw new Error("missing keyring context provider")},setCurrentSpace:async()=>{},registerSpace:async()=>{},cancelRegisterSpace:()=>{},getProofs:async()=>[],createDelegation:async()=>{throw new Error("missing keyring context provider")},addSpace:async()=>{}}],Hy=n.createContext(u4);function Wy(){return n.useContext(Hy)}var l4,ch={exports:{}},bu={};function fh(s){const o=(f,l)=>s({ref:l,...f});return n.forwardRef(o)}function uh(s,o){const{as:f,wrapElement:l,...v}=o;let E;if(f&&typeof f!="string")E=ch.exports.jsx(f,{...v});else if(typeof o.children=="function"){const{children:$,...F}=v;E=o.children(F)}else E=f?ch.exports.jsx(f,{...v}):ch.exports.jsx(s,{...v});return l?l(E):E}(function(s){s.exports=function(){if(l4)return bu;l4=1;var o=a.default,f=Symbol.for("react.element"),l=Symbol.for("react.fragment"),v=Object.prototype.hasOwnProperty,E=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$={key:!0,ref:!0,__self:!0,__source:!0};function F(V,X,oe){var ye,me={},Pe=null,We=null;for(ye in oe!==void 0&&(Pe=""+oe),X.key!==void 0&&(Pe=""+X.key),X.ref!==void 0&&(We=X.ref),X)v.call(X,ye)&&!$.hasOwnProperty(ye)&&(me[ye]=X[ye]);if(V&&V.defaultProps)for(ye in X=V.defaultProps)me[ye]===void 0&&(me[ye]=X[ye]);return{$$typeof:f,type:V,key:Pe,ref:We,props:me,_owner:E.current}}return bu.Fragment=l,bu.jsx=F,bu.jsxs=F,bu}()})(ch);const Vy=n.createContext([{spaces:[],submitted:!1},{setEmail:()=>{throw new Error("missing set email function")},loadAgent:async()=>{},unloadAgent:async()=>{},resetAgent:async()=>{},createSpace:async()=>{throw new Error("missing keyring context provider")},setCurrentSpace:async()=>{},registerSpace:async()=>{},cancelRegisterSpace:()=>{},getProofs:async()=>[],createDelegation:async()=>{throw new Error("missing keyring context provider")},addSpace:async()=>{}}]),d4=({children:s})=>{const[,{loadAgent:o}]=Wy();return n.useEffect(()=>{o()},[]),s},h4=fh(s=>{const[o,f]=Wy(),{createSpace:l,registerSpace:v}=f,[E,$]=n.useState(""),[F,V]=n.useState(!1),X=n.useCallback(async ye=>{ye.preventDefault(),V(!0);try{await l(),await v(E)}catch(me){throw new Error("failed to register",{cause:me})}finally{V(!1)}},[E,V,l,v]),oe=n.useMemo(()=>[{...o,email:E,submitted:F,handleRegisterSubmit:X},{...f,setEmail:$}],[o,f,E,F,X]);return a.default.createElement(d4,null,a.default.createElement(Vy.Provider,{value:oe},uh(n.Fragment,s)))}),p4=fh(s=>{const[{handleRegisterSubmit:o}]=lh();return uh("form",{...s,onSubmit:o})}),y4=fh(s=>{const[{email:o},{setEmail:f}]=lh();return uh("input",{...s,type:"email",value:o,onChange:n.useCallback(l=>{f(l.target.value)},[])})}),v4=fh(s=>{const[,{cancelRegisterSpace:o}]=lh();return uh("button",{...s,onClick:o})});function lh(){return n.useContext(Vy)}const kR=Object.assign(h4,{Form:p4,EmailInput:y4,CancelButton:v4});r.AgentLoader=d4,r.Authenticator=kR,r.AuthenticatorContext=Vy,r.AuthenticatorRoot=h4,r.CancelButton=v4,r.EmailInput=y4,r.Form=p4,r.KeyringContext=Hy,r.KeyringProvider=function({children:s,servicePrincipal:o,connection:f}){const[l,v]=n.useState(),[E,$]=n.useState(),[F,V]=n.useState([]),[X,oe]=n.useState(),[ye,me]=n.useState(),Pe=async()=>{if(l==null){const Qe=await async function(ut={}){const Ut="w3ui"+(ut.servicePrincipal!=null?"@"+ut.servicePrincipal.did():""),Qt=new ER(Ut,{dbVersion:1,dbStoreName:"keyring"}),Jt=await Qt.load();if(Jt!=null)return Object.assign(oh.from(Jt,{...ut,store:Qt}),{store:Qt});const vn=await e4();return Object.assign(await oh.create({principal:vn},{...ut,store:Qt}),{store:Qt})}({servicePrincipal:o,connection:f});return v(Qe),oe(Qe.issuer),$(sh(Qe)),V(f4(Qe)),Qe}return l},We=async()=>{$(void 0),V([]),oe(void 0),v(void 0)},et={space:E,spaces:F,agent:X},Ct={loadAgent:async()=>{l==null&&await Pe()},unloadAgent:We,resetAgent:async()=>{const Qe=await Pe();await Promise.all([Qe.store.reset(),We()])},createSpace:async Qe=>{const ut=await Pe(),{did:Ut}=await ut.createSpace(Qe);return await ut.setCurrentSpace(Ut),$(sh(ut)),Ut},registerSpace:async Qe=>{const ut=await Pe(),Ut=new AbortController;me(Ut);try{await ut.registerSpace(Qe,{signal:Ut.signal}),$(sh(ut)),V(f4(ut))}catch(Qt){if(!Ut.signal.aborted)throw Qt}},cancelRegisterSpace:()=>{ye!=null&&ye.abort()},setCurrentSpace:async Qe=>{const ut=await Pe();await ut.setCurrentSpace(Qe),$(sh(ut))},getProofs:async Qe=>(await Pe()).proofs(Qe),createDelegation:async(Qe,ut,Ut)=>{const Qt=await Pe(),Jt=Ut.audienceMeta??{name:"agent",type:"device"};return await Qt.delegate({...Ut,abilities:ut,audience:Qe,audienceMeta:Jt})},addSpace:async Qe=>{await(await Pe()).importSpaceFromDelegation(Qe)}};return a.default.createElement(Hy.Provider,{value:[et,Ct]},s)},r.keyringContextDefaultValue=u4,r.useAuthenticator=lh,r.useKeyring=Wy,Object.defineProperty(r,"__esModule",{value:!0})})})(R$,pf);var pt={},ft={},zp={};zp.byteLength=G$;zp.toByteArray=Y$;zp.fromByteArray=eL;var ra=[],Zn=[],V$=typeof Uint8Array<"u"?Uint8Array:Array,kv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var vc=0,Z$=kv.length;vc<Z$;++vc)ra[vc]=kv[vc],Zn[kv.charCodeAt(vc)]=vc;Zn["-".charCodeAt(0)]=62;Zn["_".charCodeAt(0)]=63;function g7(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=t);var n=r===t?0:4-r%4;return[r,n]}function G$(e){var t=g7(e),r=t[0],n=t[1];return(r+n)*3/4-n}function J$(e,t,r){return(t+r)*3/4-r}function Y$(e){var t,r=g7(e),n=r[0],i=r[1],a=new V$(J$(e,n,i)),c=0,u=i>0?n-4:n,d;for(d=0;d<u;d+=4)t=Zn[e.charCodeAt(d)]<<18|Zn[e.charCodeAt(d+1)]<<12|Zn[e.charCodeAt(d+2)]<<6|Zn[e.charCodeAt(d+3)],a[c++]=t>>16&255,a[c++]=t>>8&255,a[c++]=t&255;return i===2&&(t=Zn[e.charCodeAt(d)]<<2|Zn[e.charCodeAt(d+1)]>>4,a[c++]=t&255),i===1&&(t=Zn[e.charCodeAt(d)]<<10|Zn[e.charCodeAt(d+1)]<<4|Zn[e.charCodeAt(d+2)]>>2,a[c++]=t>>8&255,a[c++]=t&255),a}function X$(e){return ra[e>>18&63]+ra[e>>12&63]+ra[e>>6&63]+ra[e&63]}function Q$(e,t,r){for(var n,i=[],a=t;a<r;a+=3)n=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(e[a+2]&255),i.push(X$(n));return i.join("")}function eL(e){for(var t,r=e.length,n=r%3,i=[],a=16383,c=0,u=r-n;c<u;c+=a)i.push(Q$(e,c,c+a>u?u:c+a));return n===1?(t=e[r-1],i.push(ra[t>>2]+ra[t<<4&63]+"==")):n===2&&(t=(e[r-2]<<8)+e[r-1],i.push(ra[t>>10]+ra[t>>4&63]+ra[t<<2&63]+"=")),i.join("")}var u2={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */u2.read=function(e,t,r,n,i){var a,c,u=i*8-n-1,d=(1<<u)-1,p=d>>1,m=-7,x=r?i-1:0,k=r?-1:1,S=e[t+x];for(x+=k,a=S&(1<<-m)-1,S>>=-m,m+=u;m>0;a=a*256+e[t+x],x+=k,m-=8);for(c=a&(1<<-m)-1,a>>=-m,m+=n;m>0;c=c*256+e[t+x],x+=k,m-=8);if(a===0)a=1-p;else{if(a===d)return c?NaN:(S?-1:1)*(1/0);c=c+Math.pow(2,n),a=a-p}return(S?-1:1)*c*Math.pow(2,a-n)};u2.write=function(e,t,r,n,i,a){var c,u,d,p=a*8-i-1,m=(1<<p)-1,x=m>>1,k=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,S=n?0:a-1,P=n?1:-1,j=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(u=isNaN(t)?1:0,c=m):(c=Math.floor(Math.log(t)/Math.LN2),t*(d=Math.pow(2,-c))<1&&(c--,d*=2),c+x>=1?t+=k/d:t+=k*Math.pow(2,1-x),t*d>=2&&(c++,d/=2),c+x>=m?(u=0,c=m):c+x>=1?(u=(t*d-1)*Math.pow(2,i),c=c+x):(u=t*Math.pow(2,x-1)*Math.pow(2,i),c=0));i>=8;e[r+S]=u&255,S+=P,u/=256,i-=8);for(c=c<<i|u,p+=i;p>0;e[r+S]=c&255,S+=P,c/=256,p-=8);e[r+S-P]|=j*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){var t=zp,r=u2,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=u,e.SlowBuffer=L,e.INSPECT_MAX_BYTES=50;var i=2147483647;e.kMaxLength=i,u.TYPED_ARRAY_SUPPORT=a(),!u.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function a(){try{var K=new Uint8Array(1),C={foo:function(){return 42}};return Object.setPrototypeOf(C,Uint8Array.prototype),Object.setPrototypeOf(K,C),K.foo()===42}catch{return!1}}Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}});function c(K){if(K>i)throw new RangeError('The value "'+K+'" is invalid for option "size"');var C=new Uint8Array(K);return Object.setPrototypeOf(C,u.prototype),C}function u(K,C,R){if(typeof K=="number"){if(typeof C=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return x(K)}return d(K,C,R)}u.poolSize=8192;function d(K,C,R){if(typeof K=="string")return k(K,C);if(ArrayBuffer.isView(K))return P(K);if(K==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof K);if(he(K,ArrayBuffer)||K&&he(K.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(he(K,SharedArrayBuffer)||K&&he(K.buffer,SharedArrayBuffer)))return j(K,C,R);if(typeof K=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var D=K.valueOf&&K.valueOf();if(D!=null&&D!==K)return u.from(D,C,R);var ee=U(K);if(ee)return ee;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof K[Symbol.toPrimitive]=="function")return u.from(K[Symbol.toPrimitive]("string"),C,R);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof K)}u.from=function(K,C,R){return d(K,C,R)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array);function p(K){if(typeof K!="number")throw new TypeError('"size" argument must be of type number');if(K<0)throw new RangeError('The value "'+K+'" is invalid for option "size"')}function m(K,C,R){return p(K),K<=0?c(K):C!==void 0?typeof R=="string"?c(K).fill(C,R):c(K).fill(C):c(K)}u.alloc=function(K,C,R){return m(K,C,R)};function x(K){return p(K),c(K<0?0:O(K)|0)}u.allocUnsafe=function(K){return x(K)},u.allocUnsafeSlow=function(K){return x(K)};function k(K,C){if((typeof C!="string"||C==="")&&(C="utf8"),!u.isEncoding(C))throw new TypeError("Unknown encoding: "+C);var R=z(K,C)|0,D=c(R),ee=D.write(K,C);return ee!==R&&(D=D.slice(0,ee)),D}function S(K){for(var C=K.length<0?0:O(K.length)|0,R=c(C),D=0;D<C;D+=1)R[D]=K[D]&255;return R}function P(K){if(he(K,Uint8Array)){var C=new Uint8Array(K);return j(C.buffer,C.byteOffset,C.byteLength)}return S(K)}function j(K,C,R){if(C<0||K.byteLength<C)throw new RangeError('"offset" is outside of buffer bounds');if(K.byteLength<C+(R||0))throw new RangeError('"length" is outside of buffer bounds');var D;return C===void 0&&R===void 0?D=new Uint8Array(K):R===void 0?D=new Uint8Array(K,C):D=new Uint8Array(K,C,R),Object.setPrototypeOf(D,u.prototype),D}function U(K){if(u.isBuffer(K)){var C=O(K.length)|0,R=c(C);return R.length===0||K.copy(R,0,0,C),R}if(K.length!==void 0)return typeof K.length!="number"||ge(K.length)?c(0):S(K);if(K.type==="Buffer"&&Array.isArray(K.data))return S(K.data)}function O(K){if(K>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return K|0}function L(K){return+K!=K&&(K=0),u.alloc(+K)}u.isBuffer=function(C){return C!=null&&C._isBuffer===!0&&C!==u.prototype},u.compare=function(C,R){if(he(C,Uint8Array)&&(C=u.from(C,C.offset,C.byteLength)),he(R,Uint8Array)&&(R=u.from(R,R.offset,R.byteLength)),!u.isBuffer(C)||!u.isBuffer(R))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(C===R)return 0;for(var D=C.length,ee=R.length,fe=0,pe=Math.min(D,ee);fe<pe;++fe)if(C[fe]!==R[fe]){D=C[fe],ee=R[fe];break}return D<ee?-1:ee<D?1:0},u.isEncoding=function(C){switch(String(C).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(C,R){if(!Array.isArray(C))throw new TypeError('"list" argument must be an Array of Buffers');if(C.length===0)return u.alloc(0);var D;if(R===void 0)for(R=0,D=0;D<C.length;++D)R+=C[D].length;var ee=u.allocUnsafe(R),fe=0;for(D=0;D<C.length;++D){var pe=C[D];if(he(pe,Uint8Array))fe+pe.length>ee.length?u.from(pe).copy(ee,fe):Uint8Array.prototype.set.call(ee,pe,fe);else if(u.isBuffer(pe))pe.copy(ee,fe);else throw new TypeError('"list" argument must be an Array of Buffers');fe+=pe.length}return ee};function z(K,C){if(u.isBuffer(K))return K.length;if(ArrayBuffer.isView(K)||he(K,ArrayBuffer))return K.byteLength;if(typeof K!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof K);var R=K.length,D=arguments.length>2&&arguments[2]===!0;if(!D&&R===0)return 0;for(var ee=!1;;)switch(C){case"ascii":case"latin1":case"binary":return R;case"utf8":case"utf-8":return se(K).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R*2;case"hex":return R>>>1;case"base64":return H(K).length;default:if(ee)return D?-1:se(K).length;C=(""+C).toLowerCase(),ee=!0}}u.byteLength=z;function G(K,C,R){var D=!1;if((C===void 0||C<0)&&(C=0),C>this.length||((R===void 0||R>this.length)&&(R=this.length),R<=0)||(R>>>=0,C>>>=0,R<=C))return"";for(K||(K="utf8");;)switch(K){case"hex":return B(this,C,R);case"utf8":case"utf-8":return h(this,C,R);case"ascii":return N(this,C,R);case"latin1":case"binary":return T(this,C,R);case"base64":return w(this,C,R);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return b(this,C,R);default:if(D)throw new TypeError("Unknown encoding: "+K);K=(K+"").toLowerCase(),D=!0}}u.prototype._isBuffer=!0;function J(K,C,R){var D=K[C];K[C]=K[R],K[R]=D}u.prototype.swap16=function(){var C=this.length;if(C%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var R=0;R<C;R+=2)J(this,R,R+1);return this},u.prototype.swap32=function(){var C=this.length;if(C%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var R=0;R<C;R+=4)J(this,R,R+3),J(this,R+1,R+2);return this},u.prototype.swap64=function(){var C=this.length;if(C%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var R=0;R<C;R+=8)J(this,R,R+7),J(this,R+1,R+6),J(this,R+2,R+5),J(this,R+3,R+4);return this},u.prototype.toString=function(){var C=this.length;return C===0?"":arguments.length===0?h(this,0,C):G.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(C){if(!u.isBuffer(C))throw new TypeError("Argument must be a Buffer");return this===C?!0:u.compare(this,C)===0},u.prototype.inspect=function(){var C="",R=e.INSPECT_MAX_BYTES;return C=this.toString("hex",0,R).replace(/(.{2})/g,"$1 ").trim(),this.length>R&&(C+=" ... "),"<Buffer "+C+">"},n&&(u.prototype[n]=u.prototype.inspect),u.prototype.compare=function(C,R,D,ee,fe){if(he(C,Uint8Array)&&(C=u.from(C,C.offset,C.byteLength)),!u.isBuffer(C))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof C);if(R===void 0&&(R=0),D===void 0&&(D=C?C.length:0),ee===void 0&&(ee=0),fe===void 0&&(fe=this.length),R<0||D>C.length||ee<0||fe>this.length)throw new RangeError("out of range index");if(ee>=fe&&R>=D)return 0;if(ee>=fe)return-1;if(R>=D)return 1;if(R>>>=0,D>>>=0,ee>>>=0,fe>>>=0,this===C)return 0;for(var pe=fe-ee,Ue=D-R,Ae=Math.min(pe,Ue),qe=this.slice(ee,fe),ae=C.slice(R,D),te=0;te<Ae;++te)if(qe[te]!==ae[te]){pe=qe[te],Ue=ae[te];break}return pe<Ue?-1:Ue<pe?1:0};function ne(K,C,R,D,ee){if(K.length===0)return-1;if(typeof R=="string"?(D=R,R=0):R>2147483647?R=2147483647:R<-2147483648&&(R=-2147483648),R=+R,ge(R)&&(R=ee?0:K.length-1),R<0&&(R=K.length+R),R>=K.length){if(ee)return-1;R=K.length-1}else if(R<0)if(ee)R=0;else return-1;if(typeof C=="string"&&(C=u.from(C,D)),u.isBuffer(C))return C.length===0?-1:ie(K,C,R,D,ee);if(typeof C=="number")return C=C&255,typeof Uint8Array.prototype.indexOf=="function"?ee?Uint8Array.prototype.indexOf.call(K,C,R):Uint8Array.prototype.lastIndexOf.call(K,C,R):ie(K,[C],R,D,ee);throw new TypeError("val must be string, number or Buffer")}function ie(K,C,R,D,ee){var fe=1,pe=K.length,Ue=C.length;if(D!==void 0&&(D=String(D).toLowerCase(),D==="ucs2"||D==="ucs-2"||D==="utf16le"||D==="utf-16le")){if(K.length<2||C.length<2)return-1;fe=2,pe/=2,Ue/=2,R/=2}function Ae(ke,be){return fe===1?ke[be]:ke.readUInt16BE(be*fe)}var qe;if(ee){var ae=-1;for(qe=R;qe<pe;qe++)if(Ae(K,qe)===Ae(C,ae===-1?0:qe-ae)){if(ae===-1&&(ae=qe),qe-ae+1===Ue)return ae*fe}else ae!==-1&&(qe-=qe-ae),ae=-1}else for(R+Ue>pe&&(R=pe-Ue),qe=R;qe>=0;qe--){for(var te=!0,le=0;le<Ue;le++)if(Ae(K,qe+le)!==Ae(C,le)){te=!1;break}if(te)return qe}return-1}u.prototype.includes=function(C,R,D){return this.indexOf(C,R,D)!==-1},u.prototype.indexOf=function(C,R,D){return ne(this,C,R,D,!0)},u.prototype.lastIndexOf=function(C,R,D){return ne(this,C,R,D,!1)};function re(K,C,R,D){R=Number(R)||0;var ee=K.length-R;D?(D=Number(D),D>ee&&(D=ee)):D=ee;var fe=C.length;D>fe/2&&(D=fe/2);for(var pe=0;pe<D;++pe){var Ue=parseInt(C.substr(pe*2,2),16);if(ge(Ue))return pe;K[R+pe]=Ue}return pe}function ce(K,C,R,D){return q(se(C,K.length-R),K,R,D)}function Se(K,C,R,D){return q(de(C),K,R,D)}function W(K,C,R,D){return q(H(C),K,R,D)}function _(K,C,R,D){return q(xe(C,K.length-R),K,R,D)}u.prototype.write=function(C,R,D,ee){if(R===void 0)ee="utf8",D=this.length,R=0;else if(D===void 0&&typeof R=="string")ee=R,D=this.length,R=0;else if(isFinite(R))R=R>>>0,isFinite(D)?(D=D>>>0,ee===void 0&&(ee="utf8")):(ee=D,D=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var fe=this.length-R;if((D===void 0||D>fe)&&(D=fe),C.length>0&&(D<0||R<0)||R>this.length)throw new RangeError("Attempt to write outside buffer bounds");ee||(ee="utf8");for(var pe=!1;;)switch(ee){case"hex":return re(this,C,R,D);case"utf8":case"utf-8":return ce(this,C,R,D);case"ascii":case"latin1":case"binary":return Se(this,C,R,D);case"base64":return W(this,C,R,D);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,C,R,D);default:if(pe)throw new TypeError("Unknown encoding: "+ee);ee=(""+ee).toLowerCase(),pe=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function w(K,C,R){return C===0&&R===K.length?t.fromByteArray(K):t.fromByteArray(K.slice(C,R))}function h(K,C,R){R=Math.min(K.length,R);for(var D=[],ee=C;ee<R;){var fe=K[ee],pe=null,Ue=fe>239?4:fe>223?3:fe>191?2:1;if(ee+Ue<=R){var Ae,qe,ae,te;switch(Ue){case 1:fe<128&&(pe=fe);break;case 2:Ae=K[ee+1],(Ae&192)===128&&(te=(fe&31)<<6|Ae&63,te>127&&(pe=te));break;case 3:Ae=K[ee+1],qe=K[ee+2],(Ae&192)===128&&(qe&192)===128&&(te=(fe&15)<<12|(Ae&63)<<6|qe&63,te>2047&&(te<55296||te>57343)&&(pe=te));break;case 4:Ae=K[ee+1],qe=K[ee+2],ae=K[ee+3],(Ae&192)===128&&(qe&192)===128&&(ae&192)===128&&(te=(fe&15)<<18|(Ae&63)<<12|(qe&63)<<6|ae&63,te>65535&&te<1114112&&(pe=te))}}pe===null?(pe=65533,Ue=1):pe>65535&&(pe-=65536,D.push(pe>>>10&1023|55296),pe=56320|pe&1023),D.push(pe),ee+=Ue}return M(D)}var g=4096;function M(K){var C=K.length;if(C<=g)return String.fromCharCode.apply(String,K);for(var R="",D=0;D<C;)R+=String.fromCharCode.apply(String,K.slice(D,D+=g));return R}function N(K,C,R){var D="";R=Math.min(K.length,R);for(var ee=C;ee<R;++ee)D+=String.fromCharCode(K[ee]&127);return D}function T(K,C,R){var D="";R=Math.min(K.length,R);for(var ee=C;ee<R;++ee)D+=String.fromCharCode(K[ee]);return D}function B(K,C,R){var D=K.length;(!C||C<0)&&(C=0),(!R||R<0||R>D)&&(R=D);for(var ee="",fe=C;fe<R;++fe)ee+=Ne[K[fe]];return ee}function b(K,C,R){for(var D=K.slice(C,R),ee="",fe=0;fe<D.length-1;fe+=2)ee+=String.fromCharCode(D[fe]+D[fe+1]*256);return ee}u.prototype.slice=function(C,R){var D=this.length;C=~~C,R=R===void 0?D:~~R,C<0?(C+=D,C<0&&(C=0)):C>D&&(C=D),R<0?(R+=D,R<0&&(R=0)):R>D&&(R=D),R<C&&(R=C);var ee=this.subarray(C,R);return Object.setPrototypeOf(ee,u.prototype),ee};function A(K,C,R){if(K%1!==0||K<0)throw new RangeError("offset is not uint");if(K+C>R)throw new RangeError("Trying to access beyond buffer length")}u.prototype.readUintLE=u.prototype.readUIntLE=function(C,R,D){C=C>>>0,R=R>>>0,D||A(C,R,this.length);for(var ee=this[C],fe=1,pe=0;++pe<R&&(fe*=256);)ee+=this[C+pe]*fe;return ee},u.prototype.readUintBE=u.prototype.readUIntBE=function(C,R,D){C=C>>>0,R=R>>>0,D||A(C,R,this.length);for(var ee=this[C+--R],fe=1;R>0&&(fe*=256);)ee+=this[C+--R]*fe;return ee},u.prototype.readUint8=u.prototype.readUInt8=function(C,R){return C=C>>>0,R||A(C,1,this.length),this[C]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(C,R){return C=C>>>0,R||A(C,2,this.length),this[C]|this[C+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(C,R){return C=C>>>0,R||A(C,2,this.length),this[C]<<8|this[C+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(C,R){return C=C>>>0,R||A(C,4,this.length),(this[C]|this[C+1]<<8|this[C+2]<<16)+this[C+3]*16777216},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(C,R){return C=C>>>0,R||A(C,4,this.length),this[C]*16777216+(this[C+1]<<16|this[C+2]<<8|this[C+3])},u.prototype.readIntLE=function(C,R,D){C=C>>>0,R=R>>>0,D||A(C,R,this.length);for(var ee=this[C],fe=1,pe=0;++pe<R&&(fe*=256);)ee+=this[C+pe]*fe;return fe*=128,ee>=fe&&(ee-=Math.pow(2,8*R)),ee},u.prototype.readIntBE=function(C,R,D){C=C>>>0,R=R>>>0,D||A(C,R,this.length);for(var ee=R,fe=1,pe=this[C+--ee];ee>0&&(fe*=256);)pe+=this[C+--ee]*fe;return fe*=128,pe>=fe&&(pe-=Math.pow(2,8*R)),pe},u.prototype.readInt8=function(C,R){return C=C>>>0,R||A(C,1,this.length),this[C]&128?(255-this[C]+1)*-1:this[C]},u.prototype.readInt16LE=function(C,R){C=C>>>0,R||A(C,2,this.length);var D=this[C]|this[C+1]<<8;return D&32768?D|4294901760:D},u.prototype.readInt16BE=function(C,R){C=C>>>0,R||A(C,2,this.length);var D=this[C+1]|this[C]<<8;return D&32768?D|4294901760:D},u.prototype.readInt32LE=function(C,R){return C=C>>>0,R||A(C,4,this.length),this[C]|this[C+1]<<8|this[C+2]<<16|this[C+3]<<24},u.prototype.readInt32BE=function(C,R){return C=C>>>0,R||A(C,4,this.length),this[C]<<24|this[C+1]<<16|this[C+2]<<8|this[C+3]},u.prototype.readFloatLE=function(C,R){return C=C>>>0,R||A(C,4,this.length),r.read(this,C,!0,23,4)},u.prototype.readFloatBE=function(C,R){return C=C>>>0,R||A(C,4,this.length),r.read(this,C,!1,23,4)},u.prototype.readDoubleLE=function(C,R){return C=C>>>0,R||A(C,8,this.length),r.read(this,C,!0,52,8)},u.prototype.readDoubleBE=function(C,R){return C=C>>>0,R||A(C,8,this.length),r.read(this,C,!1,52,8)};function y(K,C,R,D,ee,fe){if(!u.isBuffer(K))throw new TypeError('"buffer" argument must be a Buffer instance');if(C>ee||C<fe)throw new RangeError('"value" argument is out of bounds');if(R+D>K.length)throw new RangeError("Index out of range")}u.prototype.writeUintLE=u.prototype.writeUIntLE=function(C,R,D,ee){if(C=+C,R=R>>>0,D=D>>>0,!ee){var fe=Math.pow(2,8*D)-1;y(this,C,R,D,fe,0)}var pe=1,Ue=0;for(this[R]=C&255;++Ue<D&&(pe*=256);)this[R+Ue]=C/pe&255;return R+D},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(C,R,D,ee){if(C=+C,R=R>>>0,D=D>>>0,!ee){var fe=Math.pow(2,8*D)-1;y(this,C,R,D,fe,0)}var pe=D-1,Ue=1;for(this[R+pe]=C&255;--pe>=0&&(Ue*=256);)this[R+pe]=C/Ue&255;return R+D},u.prototype.writeUint8=u.prototype.writeUInt8=function(C,R,D){return C=+C,R=R>>>0,D||y(this,C,R,1,255,0),this[R]=C&255,R+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(C,R,D){return C=+C,R=R>>>0,D||y(this,C,R,2,65535,0),this[R]=C&255,this[R+1]=C>>>8,R+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(C,R,D){return C=+C,R=R>>>0,D||y(this,C,R,2,65535,0),this[R]=C>>>8,this[R+1]=C&255,R+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(C,R,D){return C=+C,R=R>>>0,D||y(this,C,R,4,4294967295,0),this[R+3]=C>>>24,this[R+2]=C>>>16,this[R+1]=C>>>8,this[R]=C&255,R+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(C,R,D){return C=+C,R=R>>>0,D||y(this,C,R,4,4294967295,0),this[R]=C>>>24,this[R+1]=C>>>16,this[R+2]=C>>>8,this[R+3]=C&255,R+4},u.prototype.writeIntLE=function(C,R,D,ee){if(C=+C,R=R>>>0,!ee){var fe=Math.pow(2,8*D-1);y(this,C,R,D,fe-1,-fe)}var pe=0,Ue=1,Ae=0;for(this[R]=C&255;++pe<D&&(Ue*=256);)C<0&&Ae===0&&this[R+pe-1]!==0&&(Ae=1),this[R+pe]=(C/Ue>>0)-Ae&255;return R+D},u.prototype.writeIntBE=function(C,R,D,ee){if(C=+C,R=R>>>0,!ee){var fe=Math.pow(2,8*D-1);y(this,C,R,D,fe-1,-fe)}var pe=D-1,Ue=1,Ae=0;for(this[R+pe]=C&255;--pe>=0&&(Ue*=256);)C<0&&Ae===0&&this[R+pe+1]!==0&&(Ae=1),this[R+pe]=(C/Ue>>0)-Ae&255;return R+D},u.prototype.writeInt8=function(C,R,D){return C=+C,R=R>>>0,D||y(this,C,R,1,127,-128),C<0&&(C=255+C+1),this[R]=C&255,R+1},u.prototype.writeInt16LE=function(C,R,D){return C=+C,R=R>>>0,D||y(this,C,R,2,32767,-32768),this[R]=C&255,this[R+1]=C>>>8,R+2},u.prototype.writeInt16BE=function(C,R,D){return C=+C,R=R>>>0,D||y(this,C,R,2,32767,-32768),this[R]=C>>>8,this[R+1]=C&255,R+2},u.prototype.writeInt32LE=function(C,R,D){return C=+C,R=R>>>0,D||y(this,C,R,4,2147483647,-2147483648),this[R]=C&255,this[R+1]=C>>>8,this[R+2]=C>>>16,this[R+3]=C>>>24,R+4},u.prototype.writeInt32BE=function(C,R,D){return C=+C,R=R>>>0,D||y(this,C,R,4,2147483647,-2147483648),C<0&&(C=4294967295+C+1),this[R]=C>>>24,this[R+1]=C>>>16,this[R+2]=C>>>8,this[R+3]=C&255,R+4};function I(K,C,R,D,ee,fe){if(R+D>K.length)throw new RangeError("Index out of range");if(R<0)throw new RangeError("Index out of range")}function Q(K,C,R,D,ee){return C=+C,R=R>>>0,ee||I(K,C,R,4),r.write(K,C,R,D,23,4),R+4}u.prototype.writeFloatLE=function(C,R,D){return Q(this,C,R,!0,D)},u.prototype.writeFloatBE=function(C,R,D){return Q(this,C,R,!1,D)};function ue(K,C,R,D,ee){return C=+C,R=R>>>0,ee||I(K,C,R,8),r.write(K,C,R,D,52,8),R+8}u.prototype.writeDoubleLE=function(C,R,D){return ue(this,C,R,!0,D)},u.prototype.writeDoubleBE=function(C,R,D){return ue(this,C,R,!1,D)},u.prototype.copy=function(C,R,D,ee){if(!u.isBuffer(C))throw new TypeError("argument should be a Buffer");if(D||(D=0),!ee&&ee!==0&&(ee=this.length),R>=C.length&&(R=C.length),R||(R=0),ee>0&&ee<D&&(ee=D),ee===D||C.length===0||this.length===0)return 0;if(R<0)throw new RangeError("targetStart out of bounds");if(D<0||D>=this.length)throw new RangeError("Index out of range");if(ee<0)throw new RangeError("sourceEnd out of bounds");ee>this.length&&(ee=this.length),C.length-R<ee-D&&(ee=C.length-R+D);var fe=ee-D;return this===C&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(R,D,ee):Uint8Array.prototype.set.call(C,this.subarray(D,ee),R),fe},u.prototype.fill=function(C,R,D,ee){if(typeof C=="string"){if(typeof R=="string"?(ee=R,R=0,D=this.length):typeof D=="string"&&(ee=D,D=this.length),ee!==void 0&&typeof ee!="string")throw new TypeError("encoding must be a string");if(typeof ee=="string"&&!u.isEncoding(ee))throw new TypeError("Unknown encoding: "+ee);if(C.length===1){var fe=C.charCodeAt(0);(ee==="utf8"&&fe<128||ee==="latin1")&&(C=fe)}}else typeof C=="number"?C=C&255:typeof C=="boolean"&&(C=Number(C));if(R<0||this.length<R||this.length<D)throw new RangeError("Out of range index");if(D<=R)return this;R=R>>>0,D=D===void 0?this.length:D>>>0,C||(C=0);var pe;if(typeof C=="number")for(pe=R;pe<D;++pe)this[pe]=C;else{var Ue=u.isBuffer(C)?C:u.from(C,ee),Ae=Ue.length;if(Ae===0)throw new TypeError('The value "'+C+'" is invalid for argument "value"');for(pe=0;pe<D-R;++pe)this[pe+R]=Ue[pe%Ae]}return this};var Z=/[^+/0-9A-Za-z-_]/g;function Y(K){if(K=K.split("=")[0],K=K.trim().replace(Z,""),K.length<2)return"";for(;K.length%4!==0;)K=K+"=";return K}function se(K,C){C=C||1/0;for(var R,D=K.length,ee=null,fe=[],pe=0;pe<D;++pe){if(R=K.charCodeAt(pe),R>55295&&R<57344){if(!ee){if(R>56319){(C-=3)>-1&&fe.push(239,191,189);continue}else if(pe+1===D){(C-=3)>-1&&fe.push(239,191,189);continue}ee=R;continue}if(R<56320){(C-=3)>-1&&fe.push(239,191,189),ee=R;continue}R=(ee-55296<<10|R-56320)+65536}else ee&&(C-=3)>-1&&fe.push(239,191,189);if(ee=null,R<128){if((C-=1)<0)break;fe.push(R)}else if(R<2048){if((C-=2)<0)break;fe.push(R>>6|192,R&63|128)}else if(R<65536){if((C-=3)<0)break;fe.push(R>>12|224,R>>6&63|128,R&63|128)}else if(R<1114112){if((C-=4)<0)break;fe.push(R>>18|240,R>>12&63|128,R>>6&63|128,R&63|128)}else throw new Error("Invalid code point")}return fe}function de(K){for(var C=[],R=0;R<K.length;++R)C.push(K.charCodeAt(R)&255);return C}function xe(K,C){for(var R,D,ee,fe=[],pe=0;pe<K.length&&!((C-=2)<0);++pe)R=K.charCodeAt(pe),D=R>>8,ee=R%256,fe.push(ee),fe.push(D);return fe}function H(K){return t.toByteArray(Y(K))}function q(K,C,R,D){for(var ee=0;ee<D&&!(ee+R>=C.length||ee>=K.length);++ee)C[ee+R]=K[ee];return ee}function he(K,C){return K instanceof C||K!=null&&K.constructor!=null&&K.constructor.name!=null&&K.constructor.name===C.name}function ge(K){return K!==K}var Ne=function(){for(var K="0123456789abcdef",C=new Array(256),R=0;R<16;++R)for(var D=R*16,ee=0;ee<16;++ee)C[D+ee]=K[R]+K[ee];return C}()})(ft);var at={},tL={get exports(){return at},set exports(e){at=e}},yr=tL.exports={},Yi,Xi;function _g(){throw new Error("setTimeout has not been defined")}function xg(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Yi=setTimeout:Yi=_g}catch{Yi=_g}try{typeof clearTimeout=="function"?Xi=clearTimeout:Xi=xg}catch{Xi=xg}})();function b7(e){if(Yi===setTimeout)return setTimeout(e,0);if((Yi===_g||!Yi)&&setTimeout)return Yi=setTimeout,setTimeout(e,0);try{return Yi(e,0)}catch{try{return Yi.call(null,e,0)}catch{return Yi.call(this,e,0)}}}function rL(e){if(Xi===clearTimeout)return clearTimeout(e);if((Xi===xg||!Xi)&&clearTimeout)return Xi=clearTimeout,clearTimeout(e);try{return Xi(e)}catch{try{return Xi.call(null,e)}catch{return Xi.call(this,e)}}}var Fa=[],Vc=!1,ks,Qh=-1;function nL(){!Vc||!ks||(Vc=!1,ks.length?Fa=ks.concat(Fa):Qh=-1,Fa.length&&w7())}function w7(){if(!Vc){var e=b7(nL);Vc=!0;for(var t=Fa.length;t;){for(ks=Fa,Fa=[];++Qh<t;)ks&&ks[Qh].run();Qh=-1,t=Fa.length}ks=null,Vc=!1,rL(e)}}yr.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];Fa.push(new _7(e,t)),Fa.length===1&&!Vc&&b7(w7)};function _7(e,t){this.fun=e,this.array=t}_7.prototype.run=function(){this.fun.apply(null,this.array)};yr.title="browser";yr.browser=!0;yr.env={};yr.argv=[];yr.version="";yr.versions={};function no(){}yr.on=no;yr.addListener=no;yr.once=no;yr.off=no;yr.removeListener=no;yr.removeAllListeners=no;yr.emit=no;yr.prependListener=no;yr.prependOnceListener=no;yr.listeners=function(e){return[]};yr.binding=function(e){throw new Error("process.binding is not supported")};yr.cwd=function(){return"/"};yr.chdir=function(e){throw new Error("process.chdir is not supported")};yr.umask=function(){return 0};(function(e){function t(){var n=this||self;return delete e.prototype.__magic__,n}if(typeof globalThis=="object")return globalThis;if(this)return t();e.defineProperty(e.prototype,"__magic__",{configurable:!0,get:t});var r=__magic__;return r})(Object);var Ko={},q8={get exports(){return Ko},set exports(e){Ko=e}},lt={},iL={get exports(){return lt},set exports(e){lt=e}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(e,t){var r=ft,n=r.Buffer;function i(c,u){for(var d in c)u[d]=c[d]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=r:(i(r,t),t.Buffer=a);function a(c,u,d){return n(c,u,d)}a.prototype=Object.create(n.prototype),i(n,a),a.from=function(c,u,d){if(typeof c=="number")throw new TypeError("Argument must not be a number");return n(c,u,d)},a.alloc=function(c,u,d){if(typeof c!="number")throw new TypeError("Argument must be a number");var p=n(c);return u!==void 0?typeof d=="string"?p.fill(u,d):p.fill(u):p.fill(0),p},a.allocUnsafe=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return n(c)},a.allocUnsafeSlow=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(c)}})(iL,lt);var Mv=65536,aL=4294967295;function oL(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var sL=lt.Buffer,z0=He.crypto||He.msCrypto;z0&&z0.getRandomValues?q8.exports=cL:q8.exports=oL;function cL(e,t){if(e>aL)throw new RangeError("requested too many random bytes");var r=sL.allocUnsafe(e);if(e>0)if(e>Mv)for(var n=0;n<e;n+=Mv)z0.getRandomValues(r.slice(n,n+Mv));else z0.getRandomValues(r);return typeof t=="function"?at.nextTick(function(){t(null,r)}):r}var dt={},H8={get exports(){return dt},set exports(e){dt=e}};typeof Object.create=="function"?H8.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:H8.exports=function(t,r){if(r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}};var Pl={},fL={get exports(){return Pl},set exports(e){Pl=e}},yf={},uL={get exports(){return yf},set exports(e){yf=e}},Zc=typeof Reflect=="object"?Reflect:null,W8=Zc&&typeof Zc.apply=="function"?Zc.apply:function(t,r,n){return Function.prototype.apply.call(t,r,n)},e0;Zc&&typeof Zc.ownKeys=="function"?e0=Zc.ownKeys:Object.getOwnPropertySymbols?e0=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:e0=function(t){return Object.getOwnPropertyNames(t)};function lL(e){console&&console.warn&&console.warn(e)}var x7=Number.isNaN||function(t){return t!==t};function Wt(){Wt.init.call(this)}uL.exports=Wt;yf.once=yL;Wt.EventEmitter=Wt;Wt.prototype._events=void 0;Wt.prototype._eventsCount=0;Wt.prototype._maxListeners=void 0;var V8=10;function Kp(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(Wt,"defaultMaxListeners",{enumerable:!0,get:function(){return V8},set:function(e){if(typeof e!="number"||e<0||x7(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");V8=e}});Wt.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Wt.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||x7(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function S7(e){return e._maxListeners===void 0?Wt.defaultMaxListeners:e._maxListeners}Wt.prototype.getMaxListeners=function(){return S7(this)};Wt.prototype.emit=function(t){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var i=t==="error",a=this._events;if(a!==void 0)i=i&&a.error===void 0;else if(!i)return!1;if(i){var c;if(r.length>0&&(c=r[0]),c instanceof Error)throw c;var u=new Error("Unhandled error."+(c?" ("+c.message+")":""));throw u.context=c,u}var d=a[t];if(d===void 0)return!1;if(typeof d=="function")W8(d,this,r);else for(var p=d.length,m=C7(d,p),n=0;n<p;++n)W8(m[n],this,r);return!0};function E7(e,t,r,n){var i,a,c;if(Kp(r),a=e._events,a===void 0?(a=e._events=Object.create(null),e._eventsCount=0):(a.newListener!==void 0&&(e.emit("newListener",t,r.listener?r.listener:r),a=e._events),c=a[t]),c===void 0)c=a[t]=r,++e._eventsCount;else if(typeof c=="function"?c=a[t]=n?[r,c]:[c,r]:n?c.unshift(r):c.push(r),i=S7(e),i>0&&c.length>i&&!c.warned){c.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+c.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=c.length,lL(u)}return e}Wt.prototype.addListener=function(t,r){return E7(this,t,r,!1)};Wt.prototype.on=Wt.prototype.addListener;Wt.prototype.prependListener=function(t,r){return E7(this,t,r,!0)};function dL(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function k7(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=dL.bind(n);return i.listener=r,n.wrapFn=i,i}Wt.prototype.once=function(t,r){return Kp(r),this.on(t,k7(this,t,r)),this};Wt.prototype.prependOnceListener=function(t,r){return Kp(r),this.prependListener(t,k7(this,t,r)),this};Wt.prototype.removeListener=function(t,r){var n,i,a,c,u;if(Kp(r),i=this._events,i===void 0)return this;if(n=i[t],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,n.listener||r));else if(typeof n!="function"){for(a=-1,c=n.length-1;c>=0;c--)if(n[c]===r||n[c].listener===r){u=n[c].listener,a=c;break}if(a<0)return this;a===0?n.shift():hL(n,a),n.length===1&&(i[t]=n[0]),i.removeListener!==void 0&&this.emit("removeListener",t,u||r)}return this};Wt.prototype.off=Wt.prototype.removeListener;Wt.prototype.removeAllListeners=function(t){var r,n,i;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[t]),this;if(arguments.length===0){var a=Object.keys(n),c;for(i=0;i<a.length;++i)c=a[i],c!=="removeListener"&&this.removeAllListeners(c);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[t],typeof r=="function")this.removeListener(t,r);else if(r!==void 0)for(i=r.length-1;i>=0;i--)this.removeListener(t,r[i]);return this};function M7(e,t,r){var n=e._events;if(n===void 0)return[];var i=n[t];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?pL(i):C7(i,i.length)}Wt.prototype.listeners=function(t){return M7(this,t,!0)};Wt.prototype.rawListeners=function(t){return M7(this,t,!1)};Wt.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):A7.call(e,t)};Wt.prototype.listenerCount=A7;function A7(e){var t=this._events;if(t!==void 0){var r=t[e];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}Wt.prototype.eventNames=function(){return this._eventsCount>0?e0(this._events):[]};function C7(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function hL(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function pL(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}function yL(e,t){return new Promise(function(r,n){function i(c){e.removeListener(t,a),n(c)}function a(){typeof e.removeListener=="function"&&e.removeListener("error",i),r([].slice.call(arguments))}B7(e,t,a,{once:!0}),t!=="error"&&vL(e,i,{once:!0})})}function vL(e,t,r){typeof e.on=="function"&&B7(e,"error",t,r)}function B7(e,t,r,n){if(typeof e.on=="function")n.once?e.once(t,r):e.on(t,r);else if(typeof e.addEventListener=="function")e.addEventListener(t,function i(a){n.once&&e.removeEventListener(t,i),r(a)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var I7=yf.EventEmitter,l2={},R7={},T7=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;t[r]=i;for(r in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var a=Object.getOwnPropertySymbols(t);if(a.length!==1||a[0]!==r||!Object.prototype.propertyIsEnumerable.call(t,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var c=Object.getOwnPropertyDescriptor(t,r);if(c.value!==i||c.enumerable!==!0)return!1}return!0},mL=T7,qp=function(){return mL()&&!!Symbol.toStringTag},Z8=typeof Symbol<"u"&&Symbol,gL=T7,bL=function(){return typeof Z8!="function"||typeof Symbol!="function"||typeof Z8("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:gL()},wL="Function.prototype.bind called on incompatible ",Av=Array.prototype.slice,_L=Object.prototype.toString,xL="[object Function]",SL=function(t){var r=this;if(typeof r!="function"||_L.call(r)!==xL)throw new TypeError(wL+r);for(var n=Av.call(arguments,1),i,a=function(){if(this instanceof i){var m=r.apply(this,n.concat(Av.call(arguments)));return Object(m)===m?m:this}else return r.apply(t,n.concat(Av.call(arguments)))},c=Math.max(0,r.length-n.length),u=[],d=0;d<c;d++)u.push("$"+d);if(i=Function("binder","return function ("+u.join(",")+"){ return binder.apply(this,arguments); }")(a),r.prototype){var p=function(){};p.prototype=r.prototype,i.prototype=new p,p.prototype=null}return i},EL=SL,d2=Function.prototype.bind||EL,kL=d2,ML=kL.call(Function.call,Object.prototype.hasOwnProperty),St,vf=SyntaxError,N7=Function,Gc=TypeError,Cv=function(e){try{return N7('"use strict"; return ('+e+").constructor;")()}catch{}},Is=Object.getOwnPropertyDescriptor;if(Is)try{Is({},"")}catch{Is=null}var Bv=function(){throw new Gc},AL=Is?function(){try{return arguments.callee,Bv}catch{try{return Is(arguments,"callee").get}catch{return Bv}}}():Bv,mc=bL(),ea=Object.getPrototypeOf||function(e){return e.__proto__},_c={},CL=typeof Uint8Array>"u"?St:ea(Uint8Array),Rs={"%AggregateError%":typeof AggregateError>"u"?St:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?St:ArrayBuffer,"%ArrayIteratorPrototype%":mc?ea([][Symbol.iterator]()):St,"%AsyncFromSyncIteratorPrototype%":St,"%AsyncFunction%":_c,"%AsyncGenerator%":_c,"%AsyncGeneratorFunction%":_c,"%AsyncIteratorPrototype%":_c,"%Atomics%":typeof Atomics>"u"?St:Atomics,"%BigInt%":typeof BigInt>"u"?St:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?St:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?St:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?St:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?St:Float32Array,"%Float64Array%":typeof Float64Array>"u"?St:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?St:FinalizationRegistry,"%Function%":N7,"%GeneratorFunction%":_c,"%Int8Array%":typeof Int8Array>"u"?St:Int8Array,"%Int16Array%":typeof Int16Array>"u"?St:Int16Array,"%Int32Array%":typeof Int32Array>"u"?St:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":mc?ea(ea([][Symbol.iterator]())):St,"%JSON%":typeof JSON=="object"?JSON:St,"%Map%":typeof Map>"u"?St:Map,"%MapIteratorPrototype%":typeof Map>"u"||!mc?St:ea(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?St:Promise,"%Proxy%":typeof Proxy>"u"?St:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?St:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?St:Set,"%SetIteratorPrototype%":typeof Set>"u"||!mc?St:ea(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?St:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":mc?ea(""[Symbol.iterator]()):St,"%Symbol%":mc?Symbol:St,"%SyntaxError%":vf,"%ThrowTypeError%":AL,"%TypedArray%":CL,"%TypeError%":Gc,"%Uint8Array%":typeof Uint8Array>"u"?St:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?St:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?St:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?St:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?St:WeakMap,"%WeakRef%":typeof WeakRef>"u"?St:WeakRef,"%WeakSet%":typeof WeakSet>"u"?St:WeakSet};try{null.error}catch(e){var BL=ea(ea(e));Rs["%Error.prototype%"]=BL}var IL=function e(t){var r;if(t==="%AsyncFunction%")r=Cv("async function () {}");else if(t==="%GeneratorFunction%")r=Cv("function* () {}");else if(t==="%AsyncGeneratorFunction%")r=Cv("async function* () {}");else if(t==="%AsyncGenerator%"){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(t==="%AsyncIteratorPrototype%"){var i=e("%AsyncGenerator%");i&&(r=ea(i.prototype))}return Rs[t]=r,r},G8={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},rd=d2,K0=ML,RL=rd.call(Function.call,Array.prototype.concat),TL=rd.call(Function.apply,Array.prototype.splice),J8=rd.call(Function.call,String.prototype.replace),q0=rd.call(Function.call,String.prototype.slice),NL=rd.call(Function.call,RegExp.prototype.exec),PL=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,$L=/\\(\\)?/g,LL=function(t){var r=q0(t,0,1),n=q0(t,-1);if(r==="%"&&n!=="%")throw new vf("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new vf("invalid intrinsic syntax, expected opening `%`");var i=[];return J8(t,PL,function(a,c,u,d){i[i.length]=u?J8(d,$L,"$1"):c||a}),i},OL=function(t,r){var n=t,i;if(K0(G8,n)&&(i=G8[n],n="%"+i[0]+"%"),K0(Rs,n)){var a=Rs[n];if(a===_c&&(a=IL(n)),typeof a>"u"&&!r)throw new Gc("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:a}}throw new vf("intrinsic "+t+" does not exist!")},h2=function(t,r){if(typeof t!="string"||t.length===0)throw new Gc("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Gc('"allowMissing" argument must be a boolean');if(NL(/^%?[^%]*%?$/,t)===null)throw new vf("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=LL(t),i=n.length>0?n[0]:"",a=OL("%"+i+"%",r),c=a.name,u=a.value,d=!1,p=a.alias;p&&(i=p[0],TL(n,RL([0,1],p)));for(var m=1,x=!0;m<n.length;m+=1){var k=n[m],S=q0(k,0,1),P=q0(k,-1);if((S==='"'||S==="'"||S==="`"||P==='"'||P==="'"||P==="`")&&S!==P)throw new vf("property names with quotes must have matching quotes");if((k==="constructor"||!x)&&(d=!0),i+="."+k,c="%"+i+"%",K0(Rs,c))u=Rs[c];else if(u!=null){if(!(k in u)){if(!r)throw new Gc("base intrinsic for "+t+" exists, but the property is not available.");return}if(Is&&m+1>=n.length){var j=Is(u,k);x=!!j,x&&"get"in j&&!("originalValue"in j.get)?u=j.get:u=u[k]}else x=K0(u,k),u=u[k];x&&!d&&(Rs[c]=u)}}return u},Sg={},DL={get exports(){return Sg},set exports(e){Sg=e}};(function(e){var t=d2,r=h2,n=r("%Function.prototype.apply%"),i=r("%Function.prototype.call%"),a=r("%Reflect.apply%",!0)||t.call(i,n),c=r("%Object.getOwnPropertyDescriptor%",!0),u=r("%Object.defineProperty%",!0),d=r("%Math.max%");if(u)try{u({},"a",{value:1})}catch{u=null}e.exports=function(x){var k=a(t,i,arguments);if(c&&u){var S=c(k,"length");S.configurable&&u(k,"length",{value:1+d(0,x.length-(arguments.length-1))})}return k};var p=function(){return a(t,n,arguments)};u?u(e.exports,"apply",{value:p}):e.exports.apply=p})(DL);var P7=h2,$7=Sg,UL=$7(P7("String.prototype.indexOf")),p2=function(t,r){var n=P7(t,!!r);return typeof n=="function"&&UL(t,".prototype.")>-1?$7(n):n},jL=qp(),FL=p2,Eg=FL("Object.prototype.toString"),Hp=function(t){return jL&&t&&typeof t=="object"&&Symbol.toStringTag in t?!1:Eg(t)==="[object Arguments]"},L7=function(t){return Hp(t)?!0:t!==null&&typeof t=="object"&&typeof t.length=="number"&&t.length>=0&&Eg(t)!=="[object Array]"&&Eg(t.callee)==="[object Function]"},zL=function(){return Hp(arguments)}();Hp.isLegacyArguments=L7;var KL=zL?Hp:L7,qL=Object.prototype.toString,HL=Function.prototype.toString,WL=/^\s*(?:function)?\*/,O7=qp(),Iv=Object.getPrototypeOf,VL=function(){if(!O7)return!1;try{return Function("return function*() {}")()}catch{}},Rv,ZL=function(t){if(typeof t!="function")return!1;if(WL.test(HL.call(t)))return!0;if(!O7){var r=qL.call(t);return r==="[object GeneratorFunction]"}if(!Iv)return!1;if(typeof Rv>"u"){var n=VL();Rv=n?Iv(n):!1}return Iv(t)===Rv},D7=Function.prototype.toString,Oc=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,kg,t0;if(typeof Oc=="function"&&typeof Object.defineProperty=="function")try{kg=Object.defineProperty({},"length",{get:function(){throw t0}}),t0={},Oc(function(){throw 42},null,kg)}catch(e){e!==t0&&(Oc=null)}else Oc=null;var GL=/^\s*class\b/,Mg=function(t){try{var r=D7.call(t);return GL.test(r)}catch{return!1}},Tv=function(t){try{return Mg(t)?!1:(D7.call(t),!0)}catch{return!1}},r0=Object.prototype.toString,JL="[object Object]",YL="[object Function]",XL="[object GeneratorFunction]",QL="[object HTMLAllCollection]",eO="[object HTML document.all class]",tO="[object HTMLCollection]",rO=typeof Symbol=="function"&&!!Symbol.toStringTag,nO=!(0 in[,]),Ag=function(){return!1};if(typeof document=="object"){var iO=document.all;r0.call(iO)===r0.call(document.all)&&(Ag=function(t){if((nO||!t)&&(typeof t>"u"||typeof t=="object"))try{var r=r0.call(t);return(r===QL||r===eO||r===tO||r===JL)&&t("")==null}catch{}return!1})}var aO=Oc?function(t){if(Ag(t))return!0;if(!t||typeof t!="function"&&typeof t!="object")return!1;try{Oc(t,null,kg)}catch(r){if(r!==t0)return!1}return!Mg(t)&&Tv(t)}:function(t){if(Ag(t))return!0;if(!t||typeof t!="function"&&typeof t!="object")return!1;if(rO)return Tv(t);if(Mg(t))return!1;var r=r0.call(t);return r!==YL&&r!==XL&&!/^\[object HTML/.test(r)?!1:Tv(t)},oO=aO,sO=Object.prototype.toString,U7=Object.prototype.hasOwnProperty,cO=function(t,r,n){for(var i=0,a=t.length;i<a;i++)U7.call(t,i)&&(n==null?r(t[i],i,t):r.call(n,t[i],i,t))},fO=function(t,r,n){for(var i=0,a=t.length;i<a;i++)n==null?r(t.charAt(i),i,t):r.call(n,t.charAt(i),i,t)},uO=function(t,r,n){for(var i in t)U7.call(t,i)&&(n==null?r(t[i],i,t):r.call(n,t[i],i,t))},lO=function(t,r,n){if(!oO(r))throw new TypeError("iterator must be a function");var i;arguments.length>=3&&(i=n),sO.call(t)==="[object Array]"?cO(t,r,i):typeof t=="string"?fO(t,r,i):uO(t,r,i)},j7=lO,Nv=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],dO=typeof globalThis>"u"?He:globalThis,F7=function(){for(var t=[],r=0;r<Nv.length;r++)typeof dO[Nv[r]]=="function"&&(t[t.length]=Nv[r]);return t},hO=h2,n0=hO("%Object.getOwnPropertyDescriptor%",!0);if(n0)try{n0([],"length")}catch{n0=null}var z7=n0,K7=j7,pO=F7,y2=p2,yO=y2("Object.prototype.toString"),q7=qp(),i0=z7,vO=typeof globalThis>"u"?He:globalThis,H7=pO(),mO=y2("Array.prototype.indexOf",!0)||function(t,r){for(var n=0;n<t.length;n+=1)if(t[n]===r)return n;return-1},gO=y2("String.prototype.slice"),W7={},Pv=Object.getPrototypeOf;q7&&i0&&Pv&&K7(H7,function(e){var t=new vO[e];if(Symbol.toStringTag in t){var r=Pv(t),n=i0(r,Symbol.toStringTag);if(!n){var i=Pv(r);n=i0(i,Symbol.toStringTag)}W7[e]=n.get}});var bO=function(t){var r=!1;return K7(W7,function(n,i){if(!r)try{r=n.call(t)===i}catch{}}),r},V7=function(t){if(!t||typeof t!="object")return!1;if(!q7||!(Symbol.toStringTag in t)){var r=gO(yO(t),8,-1);return mO(H7,r)>-1}return i0?bO(t):!1},Z7=j7,wO=F7,G7=p2,$v=z7,_O=G7("Object.prototype.toString"),J7=qp(),Y8=typeof globalThis>"u"?He:globalThis,xO=wO(),SO=G7("String.prototype.slice"),Y7={},Lv=Object.getPrototypeOf;J7&&$v&&Lv&&Z7(xO,function(e){if(typeof Y8[e]=="function"){var t=new Y8[e];if(Symbol.toStringTag in t){var r=Lv(t),n=$v(r,Symbol.toStringTag);if(!n){var i=Lv(r);n=$v(i,Symbol.toStringTag)}Y7[e]=n.get}}});var EO=function(t){var r=!1;return Z7(Y7,function(n,i){if(!r)try{var a=n.call(t);a===i&&(r=a)}catch{}}),r},kO=V7,MO=function(t){return kO(t)?!J7||!(Symbol.toStringTag in t)?SO(_O(t),8,-1):EO(t):!1};(function(e){var t=KL,r=ZL,n=MO,i=V7;function a(D){return D.call.bind(D)}var c=typeof BigInt<"u",u=typeof Symbol<"u",d=a(Object.prototype.toString),p=a(Number.prototype.valueOf),m=a(String.prototype.valueOf),x=a(Boolean.prototype.valueOf);if(c)var k=a(BigInt.prototype.valueOf);if(u)var S=a(Symbol.prototype.valueOf);function P(D,ee){if(typeof D!="object")return!1;try{return ee(D),!0}catch{return!1}}e.isArgumentsObject=t,e.isGeneratorFunction=r,e.isTypedArray=i;function j(D){return typeof Promise<"u"&&D instanceof Promise||D!==null&&typeof D=="object"&&typeof D.then=="function"&&typeof D.catch=="function"}e.isPromise=j;function U(D){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(D):i(D)||I(D)}e.isArrayBufferView=U;function O(D){return n(D)==="Uint8Array"}e.isUint8Array=O;function L(D){return n(D)==="Uint8ClampedArray"}e.isUint8ClampedArray=L;function z(D){return n(D)==="Uint16Array"}e.isUint16Array=z;function G(D){return n(D)==="Uint32Array"}e.isUint32Array=G;function J(D){return n(D)==="Int8Array"}e.isInt8Array=J;function ne(D){return n(D)==="Int16Array"}e.isInt16Array=ne;function ie(D){return n(D)==="Int32Array"}e.isInt32Array=ie;function re(D){return n(D)==="Float32Array"}e.isFloat32Array=re;function ce(D){return n(D)==="Float64Array"}e.isFloat64Array=ce;function Se(D){return n(D)==="BigInt64Array"}e.isBigInt64Array=Se;function W(D){return n(D)==="BigUint64Array"}e.isBigUint64Array=W;function _(D){return d(D)==="[object Map]"}_.working=typeof Map<"u"&&_(new Map);function w(D){return typeof Map>"u"?!1:_.working?_(D):D instanceof Map}e.isMap=w;function h(D){return d(D)==="[object Set]"}h.working=typeof Set<"u"&&h(new Set);function g(D){return typeof Set>"u"?!1:h.working?h(D):D instanceof Set}e.isSet=g;function M(D){return d(D)==="[object WeakMap]"}M.working=typeof WeakMap<"u"&&M(new WeakMap);function N(D){return typeof WeakMap>"u"?!1:M.working?M(D):D instanceof WeakMap}e.isWeakMap=N;function T(D){return d(D)==="[object WeakSet]"}T.working=typeof WeakSet<"u"&&T(new WeakSet);function B(D){return T(D)}e.isWeakSet=B;function b(D){return d(D)==="[object ArrayBuffer]"}b.working=typeof ArrayBuffer<"u"&&b(new ArrayBuffer);function A(D){return typeof ArrayBuffer>"u"?!1:b.working?b(D):D instanceof ArrayBuffer}e.isArrayBuffer=A;function y(D){return d(D)==="[object DataView]"}y.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&y(new DataView(new ArrayBuffer(1),0,1));function I(D){return typeof DataView>"u"?!1:y.working?y(D):D instanceof DataView}e.isDataView=I;var Q=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function ue(D){return d(D)==="[object SharedArrayBuffer]"}function Z(D){return typeof Q>"u"?!1:(typeof ue.working>"u"&&(ue.working=ue(new Q)),ue.working?ue(D):D instanceof Q)}e.isSharedArrayBuffer=Z;function Y(D){return d(D)==="[object AsyncFunction]"}e.isAsyncFunction=Y;function se(D){return d(D)==="[object Map Iterator]"}e.isMapIterator=se;function de(D){return d(D)==="[object Set Iterator]"}e.isSetIterator=de;function xe(D){return d(D)==="[object Generator]"}e.isGeneratorObject=xe;function H(D){return d(D)==="[object WebAssembly.Module]"}e.isWebAssemblyCompiledModule=H;function q(D){return P(D,p)}e.isNumberObject=q;function he(D){return P(D,m)}e.isStringObject=he;function ge(D){return P(D,x)}e.isBooleanObject=ge;function Ne(D){return c&&P(D,k)}e.isBigIntObject=Ne;function K(D){return u&&P(D,S)}e.isSymbolObject=K;function C(D){return q(D)||he(D)||ge(D)||Ne(D)||K(D)}e.isBoxedPrimitive=C;function R(D){return typeof Uint8Array<"u"&&(A(D)||Z(D))}e.isAnyArrayBuffer=R,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(D){Object.defineProperty(e,D,{enumerable:!1,value:function(){throw new Error(D+" is not supported in userland")}})})})(R7);var AO=function(t){return t&&typeof t=="object"&&typeof t.copy=="function"&&typeof t.fill=="function"&&typeof t.readUInt8=="function"};(function(e){var t=Object.getOwnPropertyDescriptors||function(I){for(var Q=Object.keys(I),ue={},Z=0;Z<Q.length;Z++)ue[Q[Z]]=Object.getOwnPropertyDescriptor(I,Q[Z]);return ue},r=/%[sdj%]/g;e.format=function(y){if(!J(y)){for(var I=[],Q=0;Q<arguments.length;Q++)I.push(c(arguments[Q]));return I.join(" ")}for(var Q=1,ue=arguments,Z=ue.length,Y=String(y).replace(r,function(de){if(de==="%%")return"%";if(Q>=Z)return de;switch(de){case"%s":return String(ue[Q++]);case"%d":return Number(ue[Q++]);case"%j":try{return JSON.stringify(ue[Q++])}catch{return"[Circular]"}default:return de}}),se=ue[Q];Q<Z;se=ue[++Q])L(se)||!ce(se)?Y+=" "+se:Y+=" "+c(se);return Y},e.deprecate=function(y,I){if(typeof at<"u"&&at.noDeprecation===!0)return y;if(typeof at>"u")return function(){return e.deprecate(y,I).apply(this,arguments)};var Q=!1;function ue(){if(!Q){if(at.throwDeprecation)throw new Error(I);at.traceDeprecation?console.trace(I):console.error(I),Q=!0}return y.apply(this,arguments)}return ue};var n={},i=/^$/;if({}.NODE_DEBUG){var a={}.NODE_DEBUG;a=a.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),i=new RegExp("^"+a+"$","i")}e.debuglog=function(y){if(y=y.toUpperCase(),!n[y])if(i.test(y)){var I=at.pid;n[y]=function(){var Q=e.format.apply(e,arguments);console.error("%s %d: %s",y,I,Q)}}else n[y]=function(){};return n[y]};function c(y,I){var Q={seen:[],stylize:d};return arguments.length>=3&&(Q.depth=arguments[2]),arguments.length>=4&&(Q.colors=arguments[3]),O(I)?Q.showHidden=I:I&&e._extend(Q,I),ie(Q.showHidden)&&(Q.showHidden=!1),ie(Q.depth)&&(Q.depth=2),ie(Q.colors)&&(Q.colors=!1),ie(Q.customInspect)&&(Q.customInspect=!0),Q.colors&&(Q.stylize=u),m(Q,y,Q.depth)}e.inspect=c,c.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},c.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function u(y,I){var Q=c.styles[I];return Q?"\x1B["+c.colors[Q][0]+"m"+y+"\x1B["+c.colors[Q][1]+"m":y}function d(y,I){return y}function p(y){var I={};return y.forEach(function(Q,ue){I[Q]=!0}),I}function m(y,I,Q){if(y.customInspect&&I&&_(I.inspect)&&I.inspect!==e.inspect&&!(I.constructor&&I.constructor.prototype===I)){var ue=I.inspect(Q,y);return J(ue)||(ue=m(y,ue,Q)),ue}var Z=x(y,I);if(Z)return Z;var Y=Object.keys(I),se=p(Y);if(y.showHidden&&(Y=Object.getOwnPropertyNames(I)),W(I)&&(Y.indexOf("message")>=0||Y.indexOf("description")>=0))return k(I);if(Y.length===0){if(_(I)){var de=I.name?": "+I.name:"";return y.stylize("[Function"+de+"]","special")}if(re(I))return y.stylize(RegExp.prototype.toString.call(I),"regexp");if(Se(I))return y.stylize(Date.prototype.toString.call(I),"date");if(W(I))return k(I)}var xe="",H=!1,q=["{","}"];if(U(I)&&(H=!0,q=["[","]"]),_(I)){var he=I.name?": "+I.name:"";xe=" [Function"+he+"]"}if(re(I)&&(xe=" "+RegExp.prototype.toString.call(I)),Se(I)&&(xe=" "+Date.prototype.toUTCString.call(I)),W(I)&&(xe=" "+k(I)),Y.length===0&&(!H||I.length==0))return q[0]+xe+q[1];if(Q<0)return re(I)?y.stylize(RegExp.prototype.toString.call(I),"regexp"):y.stylize("[Object]","special");y.seen.push(I);var ge;return H?ge=S(y,I,Q,se,Y):ge=Y.map(function(Ne){return P(y,I,Q,se,Ne,H)}),y.seen.pop(),j(ge,xe,q)}function x(y,I){if(ie(I))return y.stylize("undefined","undefined");if(J(I)){var Q="'"+JSON.stringify(I).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return y.stylize(Q,"string")}if(G(I))return y.stylize(""+I,"number");if(O(I))return y.stylize(""+I,"boolean");if(L(I))return y.stylize("null","null")}function k(y){return"["+Error.prototype.toString.call(y)+"]"}function S(y,I,Q,ue,Z){for(var Y=[],se=0,de=I.length;se<de;++se)T(I,String(se))?Y.push(P(y,I,Q,ue,String(se),!0)):Y.push("");return Z.forEach(function(xe){xe.match(/^\d+$/)||Y.push(P(y,I,Q,ue,xe,!0))}),Y}function P(y,I,Q,ue,Z,Y){var se,de,xe;if(xe=Object.getOwnPropertyDescriptor(I,Z)||{value:I[Z]},xe.get?xe.set?de=y.stylize("[Getter/Setter]","special"):de=y.stylize("[Getter]","special"):xe.set&&(de=y.stylize("[Setter]","special")),T(ue,Z)||(se="["+Z+"]"),de||(y.seen.indexOf(xe.value)<0?(L(Q)?de=m(y,xe.value,null):de=m(y,xe.value,Q-1),de.indexOf(`
`)>-1&&(Y?de=de.split(`
`).map(function(H){return"  "+H}).join(`
`).slice(2):de=`
`+de.split(`
`).map(function(H){return"   "+H}).join(`
`))):de=y.stylize("[Circular]","special")),ie(se)){if(Y&&Z.match(/^\d+$/))return de;se=JSON.stringify(""+Z),se.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(se=se.slice(1,-1),se=y.stylize(se,"name")):(se=se.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),se=y.stylize(se,"string"))}return se+": "+de}function j(y,I,Q){var ue=y.reduce(function(Z,Y){return Y.indexOf(`
`)>=0,Z+Y.replace(/\u001b\[\d\d?m/g,"").length+1},0);return ue>60?Q[0]+(I===""?"":I+`
 `)+" "+y.join(`,
  `)+" "+Q[1]:Q[0]+I+" "+y.join(", ")+" "+Q[1]}e.types=R7;function U(y){return Array.isArray(y)}e.isArray=U;function O(y){return typeof y=="boolean"}e.isBoolean=O;function L(y){return y===null}e.isNull=L;function z(y){return y==null}e.isNullOrUndefined=z;function G(y){return typeof y=="number"}e.isNumber=G;function J(y){return typeof y=="string"}e.isString=J;function ne(y){return typeof y=="symbol"}e.isSymbol=ne;function ie(y){return y===void 0}e.isUndefined=ie;function re(y){return ce(y)&&h(y)==="[object RegExp]"}e.isRegExp=re,e.types.isRegExp=re;function ce(y){return typeof y=="object"&&y!==null}e.isObject=ce;function Se(y){return ce(y)&&h(y)==="[object Date]"}e.isDate=Se,e.types.isDate=Se;function W(y){return ce(y)&&(h(y)==="[object Error]"||y instanceof Error)}e.isError=W,e.types.isNativeError=W;function _(y){return typeof y=="function"}e.isFunction=_;function w(y){return y===null||typeof y=="boolean"||typeof y=="number"||typeof y=="string"||typeof y=="symbol"||typeof y>"u"}e.isPrimitive=w,e.isBuffer=AO;function h(y){return Object.prototype.toString.call(y)}function g(y){return y<10?"0"+y.toString(10):y.toString(10)}var M=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function N(){var y=new Date,I=[g(y.getHours()),g(y.getMinutes()),g(y.getSeconds())].join(":");return[y.getDate(),M[y.getMonth()],I].join(" ")}e.log=function(){console.log("%s - %s",N(),e.format.apply(e,arguments))},e.inherits=dt,e._extend=function(y,I){if(!I||!ce(I))return y;for(var Q=Object.keys(I),ue=Q.length;ue--;)y[Q[ue]]=I[Q[ue]];return y};function T(y,I){return Object.prototype.hasOwnProperty.call(y,I)}var B=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;e.promisify=function(I){if(typeof I!="function")throw new TypeError('The "original" argument must be of type Function');if(B&&I[B]){var Q=I[B];if(typeof Q!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(Q,B,{value:Q,enumerable:!1,writable:!1,configurable:!0}),Q}function Q(){for(var ue,Z,Y=new Promise(function(xe,H){ue=xe,Z=H}),se=[],de=0;de<arguments.length;de++)se.push(arguments[de]);se.push(function(xe,H){xe?Z(xe):ue(H)});try{I.apply(this,se)}catch(xe){Z(xe)}return Y}return Object.setPrototypeOf(Q,Object.getPrototypeOf(I)),B&&Object.defineProperty(Q,B,{value:Q,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(Q,t(I))},e.promisify.custom=B;function b(y,I){if(!y){var Q=new Error("Promise was rejected with a falsy value");Q.reason=y,y=Q}return I(y)}function A(y){if(typeof y!="function")throw new TypeError('The "original" argument must be of type Function');function I(){for(var Q=[],ue=0;ue<arguments.length;ue++)Q.push(arguments[ue]);var Z=Q.pop();if(typeof Z!="function")throw new TypeError("The last argument must be of type Function");var Y=this,se=function(){return Z.apply(Y,arguments)};y.apply(this,Q).then(function(de){at.nextTick(se.bind(null,null,de))},function(de){at.nextTick(b.bind(null,de,se))})}return Object.setPrototypeOf(I,Object.getPrototypeOf(y)),Object.defineProperties(I,t(y)),I}e.callbackify=A})(l2);var Ov,X8;function CO(){if(X8)return Ov;X8=1;function e(x,k){var S=Object.keys(x);if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(x);k&&(P=P.filter(function(j){return Object.getOwnPropertyDescriptor(x,j).enumerable})),S.push.apply(S,P)}return S}function t(x){for(var k=1;k<arguments.length;k++){var S=arguments[k]!=null?arguments[k]:{};k%2?e(Object(S),!0).forEach(function(P){r(x,P,S[P])}):Object.getOwnPropertyDescriptors?Object.defineProperties(x,Object.getOwnPropertyDescriptors(S)):e(Object(S)).forEach(function(P){Object.defineProperty(x,P,Object.getOwnPropertyDescriptor(S,P))})}return x}function r(x,k,S){return k=n(k),k in x?Object.defineProperty(x,k,{value:S,enumerable:!0,configurable:!0,writable:!0}):x[k]=S,x}function n(x){var k=i(x,"string");return typeof k=="symbol"?k:String(k)}function i(x,k){if(typeof x!="object"||x===null)return x;var S=x[Symbol.toPrimitive];if(S!==void 0){var P=S.call(x,k||"default");if(typeof P!="object")return P;throw new TypeError("@@toPrimitive must return a primitive value.")}return(k==="string"?String:Number)(x)}const a=ft,c=a.Buffer,u=l2,d=u.inspect,p=d&&d.custom||"inspect";function m(x,k,S){c.prototype.copy.call(x,k,S)}return Ov=class{constructor(){this.head=null,this.tail=null,this.length=0}push(k){const S={data:k,next:null};this.length>0?this.tail.next=S:this.head=S,this.tail=S,++this.length}unshift(k){const S={data:k,next:this.head};this.length===0&&(this.tail=S),this.head=S,++this.length}shift(){if(this.length===0)return;const k=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,k}clear(){this.head=this.tail=null,this.length=0}join(k){if(this.length===0)return"";for(var S=this.head,P=""+S.data;S=S.next;)P+=k+S.data;return P}concat(k){if(this.length===0)return c.alloc(0);const S=c.allocUnsafe(k>>>0);for(var P=this.head,j=0;P;)m(P.data,S,j),j+=P.data.length,P=P.next;return S}consume(k,S){var P;return k<this.head.data.length?(P=this.head.data.slice(0,k),this.head.data=this.head.data.slice(k)):k===this.head.data.length?P=this.shift():P=S?this._getString(k):this._getBuffer(k),P}first(){return this.head.data}_getString(k){var S=this.head,P=1,j=S.data;for(k-=j.length;S=S.next;){const U=S.data,O=k>U.length?U.length:k;if(O===U.length?j+=U:j+=U.slice(0,k),k-=O,k===0){O===U.length?(++P,S.next?this.head=S.next:this.head=this.tail=null):(this.head=S,S.data=U.slice(O));break}++P}return this.length-=P,j}_getBuffer(k){const S=c.allocUnsafe(k);var P=this.head,j=1;for(P.data.copy(S),k-=P.data.length;P=P.next;){const U=P.data,O=k>U.length?U.length:k;if(U.copy(S,S.length-k,0,O),k-=O,k===0){O===U.length?(++j,P.next?this.head=P.next:this.head=this.tail=null):(this.head=P,P.data=U.slice(O));break}++j}return this.length-=j,S}[p](k,S){return d(this,t(t({},S),{},{depth:0,customInspect:!1}))}},Ov}function BO(e,t){const r=this._readableState&&this._readableState.destroyed,n=this._writableState&&this._writableState.destroyed;return r||n?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,at.nextTick(Cg,this,e)):at.nextTick(Cg,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,i=>{!t&&i?this._writableState?this._writableState.errorEmitted?at.nextTick(a0,this):(this._writableState.errorEmitted=!0,at.nextTick(Q8,this,i)):at.nextTick(Q8,this,i):t?(at.nextTick(a0,this),t(i)):at.nextTick(a0,this)}),this)}function Q8(e,t){Cg(e,t),a0(e)}function a0(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function IO(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function Cg(e,t){e.emit("error",t)}function RO(e,t){const r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}var X7={destroy:BO,undestroy:IO,errorOrDestroy:RO},Ws={};function TO(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var Q7={};function si(e,t,r){r||(r=Error);function n(a,c,u){return typeof t=="string"?t:t(a,c,u)}var i=function(a){TO(c,a);function c(u,d,p){return a.call(this,n(u,d,p))||this}return c}(r);i.prototype.name=r.name,i.prototype.code=e,Q7[e]=i}function e5(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map(function(n){return String(n)}),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:r===2?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}else return"of ".concat(t," ").concat(String(e))}function NO(e,t,r){return e.substr(!r||r<0?0:+r,t.length)===t}function PO(e,t,r){return(r===void 0||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}function $O(e,t,r){return typeof r!="number"&&(r=0),r+t.length>e.length?!1:e.indexOf(t,r)!==-1}si("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError);si("ERR_INVALID_ARG_TYPE",function(e,t,r){var n;typeof t=="string"&&NO(t,"not ")?(n="must not be",t=t.replace(/^not /,"")):n="must be";var i;if(PO(e," argument"))i="The ".concat(e," ").concat(n," ").concat(e5(t,"type"));else{var a=$O(e,".")?"property":"argument";i='The "'.concat(e,'" ').concat(a," ").concat(n," ").concat(e5(t,"type"))}return i+=". Received type ".concat(typeof r),i},TypeError);si("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");si("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"});si("ERR_STREAM_PREMATURE_CLOSE","Premature close");si("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"});si("ERR_MULTIPLE_CALLBACK","Callback called multiple times");si("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");si("ERR_STREAM_WRITE_AFTER_END","write after end");si("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);si("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError);si("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");Ws.codes=Q7;const LO=Ws.codes.ERR_INVALID_OPT_VALUE;function OO(e,t,r){return e.highWaterMark!=null?e.highWaterMark:t?e[r]:null}function DO(e,t,r,n){const i=OO(t,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){const a=n?r:"highWaterMark";throw new LO(a,i)}return Math.floor(i)}return e.objectMode?16:16*1024}var eS={getHighWaterMark:DO},UO=jO;function jO(e,t){if(Dv("noDeprecation"))return e;var r=!1;function n(){if(!r){if(Dv("throwDeprecation"))throw new Error(t);Dv("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}return n}function Dv(e){try{if(!He.localStorage)return!1}catch{return!1}var t=He.localStorage[e];return t==null?!1:String(t).toLowerCase()==="true"}var Uv,t5;function v2(){if(t5)return Uv;t5=1,Uv=re;function e(Z){this.next=null,this.entry=null,this.finish=()=>{ue(this,Z)}}var t;re.WritableState=ne;const r={deprecate:UO};var n=I7;const i=ft.Buffer,a=(typeof He<"u"?He:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function c(Z){return i.from(Z)}function u(Z){return i.isBuffer(Z)||Z instanceof a}const d=X7,p=eS,m=p.getHighWaterMark,x=Ws.codes,k=x.ERR_INVALID_ARG_TYPE,S=x.ERR_METHOD_NOT_IMPLEMENTED,P=x.ERR_MULTIPLE_CALLBACK,j=x.ERR_STREAM_CANNOT_PIPE,U=x.ERR_STREAM_DESTROYED,O=x.ERR_STREAM_NULL_VALUES,L=x.ERR_STREAM_WRITE_AFTER_END,z=x.ERR_UNKNOWN_ENCODING,G=d.errorOrDestroy;dt(re,n);function J(){}function ne(Z,Y,se){t=t||Us(),Z=Z||{},typeof se!="boolean"&&(se=Y instanceof t),this.objectMode=!!Z.objectMode,se&&(this.objectMode=this.objectMode||!!Z.writableObjectMode),this.highWaterMark=m(this,Z,"writableHighWaterMark",se),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var de=Z.decodeStrings===!1;this.decodeStrings=!de,this.defaultEncoding=Z.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(xe){M(Y,xe)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=Z.emitClose!==!1,this.autoDestroy=!!Z.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}ne.prototype.getBuffer=function(){for(var Y=this.bufferedRequest,se=[];Y;)se.push(Y),Y=Y.next;return se},function(){try{Object.defineProperty(ne.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var ie;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(ie=Function.prototype[Symbol.hasInstance],Object.defineProperty(re,Symbol.hasInstance,{value:function(Y){return ie.call(this,Y)?!0:this!==re?!1:Y&&Y._writableState instanceof ne}})):ie=function(Y){return Y instanceof this};function re(Z){t=t||Us();const Y=this instanceof t;if(!Y&&!ie.call(re,this))return new re(Z);this._writableState=new ne(Z,this,Y),this.writable=!0,Z&&(typeof Z.write=="function"&&(this._write=Z.write),typeof Z.writev=="function"&&(this._writev=Z.writev),typeof Z.destroy=="function"&&(this._destroy=Z.destroy),typeof Z.final=="function"&&(this._final=Z.final)),n.call(this)}re.prototype.pipe=function(){G(this,new j)};function ce(Z,Y){var se=new L;G(Z,se),at.nextTick(Y,se)}function Se(Z,Y,se,de){var xe;return se===null?xe=new O:typeof se!="string"&&!Y.objectMode&&(xe=new k("chunk",["string","Buffer"],se)),xe?(G(Z,xe),at.nextTick(de,xe),!1):!0}re.prototype.write=function(Z,Y,se){var de=this._writableState,xe=!1,H=!de.objectMode&&u(Z);return H&&!i.isBuffer(Z)&&(Z=c(Z)),typeof Y=="function"&&(se=Y,Y=null),H?Y="buffer":Y||(Y=de.defaultEncoding),typeof se!="function"&&(se=J),de.ending?ce(this,se):(H||Se(this,de,Z,se))&&(de.pendingcb++,xe=_(this,de,H,Z,Y,se)),xe},re.prototype.cork=function(){this._writableState.corked++},re.prototype.uncork=function(){var Z=this._writableState;Z.corked&&(Z.corked--,!Z.writing&&!Z.corked&&!Z.bufferProcessing&&Z.bufferedRequest&&B(this,Z))},re.prototype.setDefaultEncoding=function(Y){if(typeof Y=="string"&&(Y=Y.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Y+"").toLowerCase())>-1))throw new z(Y);return this._writableState.defaultEncoding=Y,this},Object.defineProperty(re.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function W(Z,Y,se){return!Z.objectMode&&Z.decodeStrings!==!1&&typeof Y=="string"&&(Y=i.from(Y,se)),Y}Object.defineProperty(re.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function _(Z,Y,se,de,xe,H){if(!se){var q=W(Y,de,xe);de!==q&&(se=!0,xe="buffer",de=q)}var he=Y.objectMode?1:de.length;Y.length+=he;var ge=Y.length<Y.highWaterMark;if(ge||(Y.needDrain=!0),Y.writing||Y.corked){var Ne=Y.lastBufferedRequest;Y.lastBufferedRequest={chunk:de,encoding:xe,isBuf:se,callback:H,next:null},Ne?Ne.next=Y.lastBufferedRequest:Y.bufferedRequest=Y.lastBufferedRequest,Y.bufferedRequestCount+=1}else w(Z,Y,!1,he,de,xe,H);return ge}function w(Z,Y,se,de,xe,H,q){Y.writelen=de,Y.writecb=q,Y.writing=!0,Y.sync=!0,Y.destroyed?Y.onwrite(new U("write")):se?Z._writev(xe,Y.onwrite):Z._write(xe,H,Y.onwrite),Y.sync=!1}function h(Z,Y,se,de,xe){--Y.pendingcb,se?(at.nextTick(xe,de),at.nextTick(I,Z,Y),Z._writableState.errorEmitted=!0,G(Z,de)):(xe(de),Z._writableState.errorEmitted=!0,G(Z,de),I(Z,Y))}function g(Z){Z.writing=!1,Z.writecb=null,Z.length-=Z.writelen,Z.writelen=0}function M(Z,Y){var se=Z._writableState,de=se.sync,xe=se.writecb;if(typeof xe!="function")throw new P;if(g(se),Y)h(Z,se,de,Y,xe);else{var H=b(se)||Z.destroyed;!H&&!se.corked&&!se.bufferProcessing&&se.bufferedRequest&&B(Z,se),de?at.nextTick(N,Z,se,H,xe):N(Z,se,H,xe)}}function N(Z,Y,se,de){se||T(Z,Y),Y.pendingcb--,de(),I(Z,Y)}function T(Z,Y){Y.length===0&&Y.needDrain&&(Y.needDrain=!1,Z.emit("drain"))}function B(Z,Y){Y.bufferProcessing=!0;var se=Y.bufferedRequest;if(Z._writev&&se&&se.next){var de=Y.bufferedRequestCount,xe=new Array(de),H=Y.corkedRequestsFree;H.entry=se;for(var q=0,he=!0;se;)xe[q]=se,se.isBuf||(he=!1),se=se.next,q+=1;xe.allBuffers=he,w(Z,Y,!0,Y.length,xe,"",H.finish),Y.pendingcb++,Y.lastBufferedRequest=null,H.next?(Y.corkedRequestsFree=H.next,H.next=null):Y.corkedRequestsFree=new e(Y),Y.bufferedRequestCount=0}else{for(;se;){var ge=se.chunk,Ne=se.encoding,K=se.callback,C=Y.objectMode?1:ge.length;if(w(Z,Y,!1,C,ge,Ne,K),se=se.next,Y.bufferedRequestCount--,Y.writing)break}se===null&&(Y.lastBufferedRequest=null)}Y.bufferedRequest=se,Y.bufferProcessing=!1}re.prototype._write=function(Z,Y,se){se(new S("_write()"))},re.prototype._writev=null,re.prototype.end=function(Z,Y,se){var de=this._writableState;return typeof Z=="function"?(se=Z,Z=null,Y=null):typeof Y=="function"&&(se=Y,Y=null),Z!=null&&this.write(Z,Y),de.corked&&(de.corked=1,this.uncork()),de.ending||Q(this,de,se),this},Object.defineProperty(re.prototype,"writableLength",{enumerable:!1,get(){return this._writableState.length}});function b(Z){return Z.ending&&Z.length===0&&Z.bufferedRequest===null&&!Z.finished&&!Z.writing}function A(Z,Y){Z._final(se=>{Y.pendingcb--,se&&G(Z,se),Y.prefinished=!0,Z.emit("prefinish"),I(Z,Y)})}function y(Z,Y){!Y.prefinished&&!Y.finalCalled&&(typeof Z._final=="function"&&!Y.destroyed?(Y.pendingcb++,Y.finalCalled=!0,at.nextTick(A,Z,Y)):(Y.prefinished=!0,Z.emit("prefinish")))}function I(Z,Y){var se=b(Y);if(se&&(y(Z,Y),Y.pendingcb===0&&(Y.finished=!0,Z.emit("finish"),Y.autoDestroy))){const de=Z._readableState;(!de||de.autoDestroy&&de.endEmitted)&&Z.destroy()}return se}function Q(Z,Y,se){Y.ending=!0,I(Z,Y),se&&(Y.finished?at.nextTick(se):Z.once("finish",se)),Y.ended=!0,Z.writable=!1}function ue(Z,Y,se){var de=Z.entry;for(Z.entry=null;de;){var xe=de.callback;Y.pendingcb--,xe(se),de=de.next}Y.corkedRequestsFree.next=Z}return Object.defineProperty(re.prototype,"destroyed",{enumerable:!1,get(){return this._writableState===void 0?!1:this._writableState.destroyed},set(Z){this._writableState&&(this._writableState.destroyed=Z)}}),re.prototype.destroy=d.destroy,re.prototype._undestroy=d.undestroy,re.prototype._destroy=function(Z,Y){Y(Z)},Uv}var jv,r5;function Us(){if(r5)return jv;r5=1;var e=Object.keys||function(u){var d=[];for(var p in u)d.push(p);return d};jv=i;const t=g2(),r=v2();dt(i,t);{const u=e(r.prototype);for(var n=0;n<u.length;n++){const d=u[n];i.prototype[d]||(i.prototype[d]=r.prototype[d])}}function i(u){if(!(this instanceof i))return new i(u);t.call(this,u),r.call(this,u),this.allowHalfOpen=!0,u&&(u.readable===!1&&(this.readable=!1),u.writable===!1&&(this.writable=!1),u.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",a)))}Object.defineProperty(i.prototype,"writableHighWaterMark",{enumerable:!1,get(){return this._writableState.highWaterMark}}),Object.defineProperty(i.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(i.prototype,"writableLength",{enumerable:!1,get(){return this._writableState.length}});function a(){this._writableState.ended||at.nextTick(c,this)}function c(u){u.end()}return Object.defineProperty(i.prototype,"destroyed",{enumerable:!1,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(u){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=u,this._writableState.destroyed=u)}}),jv}var H0={},m2=lt.Buffer,n5=m2.isEncoding||function(e){switch(e=""+e,e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function FO(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function zO(e){var t=FO(e);if(typeof t!="string"&&(m2.isEncoding===n5||!n5(e)))throw new Error("Unknown encoding: "+e);return t||e}H0.StringDecoder=nd;function nd(e){this.encoding=zO(e);var t;switch(this.encoding){case"utf16le":this.text=ZO,this.end=GO,t=4;break;case"utf8":this.fillLast=HO,t=4;break;case"base64":this.text=JO,this.end=YO,t=3;break;default:this.write=XO,this.end=QO;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=m2.allocUnsafe(t)}nd.prototype.write=function(e){if(e.length===0)return"";var t,r;if(this.lastNeed){if(t=this.fillLast(e),t===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""};nd.prototype.end=VO;nd.prototype.text=WO;nd.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length};function Fv(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function KO(e,t,r){var n=t.length-1;if(n<r)return 0;var i=Fv(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||i===-2?0:(i=Fv(t[n]),i>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||i===-2?0:(i=Fv(t[n]),i>=0?(i>0&&(i===2?i=0:e.lastNeed=i-3),i):0))}function qO(e,t,r){if((t[0]&192)!==128)return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if((t[1]&192)!==128)return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&(t[2]&192)!==128)return e.lastNeed=2,""}}function HO(e){var t=this.lastTotal-this.lastNeed,r=qO(this,e);if(r!==void 0)return r;if(this.lastNeed<=e.length)return e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length}function WO(e,t){var r=KO(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)}function VO(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t}function ZO(e,t){if((e.length-t)%2===0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function GO(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function JO(e,t){var r=(e.length-t)%3;return r===0?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function YO(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function XO(e){return e.toString(this.encoding)}function QO(e){return e&&e.length?this.write(e):""}const i5=Ws.codes.ERR_STREAM_PREMATURE_CLOSE;function eD(e){let t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}function tD(){}function rD(e){return e.setHeader&&typeof e.abort=="function"}function tS(e,t,r){if(typeof t=="function")return tS(e,null,t);t||(t={}),r=eD(r||tD);let n=t.readable||t.readable!==!1&&e.readable,i=t.writable||t.writable!==!1&&e.writable;const a=()=>{e.writable||u()};var c=e._writableState&&e._writableState.finished;const u=()=>{i=!1,c=!0,n||r.call(e)};var d=e._readableState&&e._readableState.endEmitted;const p=()=>{n=!1,d=!0,i||r.call(e)},m=S=>{r.call(e,S)},x=()=>{let S;if(n&&!d)return(!e._readableState||!e._readableState.ended)&&(S=new i5),r.call(e,S);if(i&&!c)return(!e._writableState||!e._writableState.ended)&&(S=new i5),r.call(e,S)},k=()=>{e.req.on("finish",u)};return rD(e)?(e.on("complete",u),e.on("abort",x),e.req?k():e.on("request",k)):i&&!e._writableState&&(e.on("end",a),e.on("close",a)),e.on("end",p),e.on("finish",u),t.error!==!1&&e.on("error",m),e.on("close",x),function(){e.removeListener("complete",u),e.removeListener("abort",x),e.removeListener("request",k),e.req&&e.req.removeListener("finish",u),e.removeListener("end",a),e.removeListener("close",a),e.removeListener("finish",u),e.removeListener("end",p),e.removeListener("error",m),e.removeListener("close",x)}}var Wp=tS,zv,a5;function nD(){if(a5)return zv;a5=1;const e=Wp,t=Symbol("lastResolve"),r=Symbol("lastReject"),n=Symbol("error"),i=Symbol("ended"),a=Symbol("lastPromise"),c=Symbol("handlePromise"),u=Symbol("stream");function d(j,U){return{value:j,done:U}}function p(j){const U=j[t];if(U!==null){const O=j[u].read();O!==null&&(j[a]=null,j[t]=null,j[r]=null,U(d(O,!1)))}}function m(j){at.nextTick(p,j)}function x(j,U){return(O,L)=>{j.then(()=>{if(U[i]){O(d(void 0,!0));return}U[c](O,L)},L)}}const k=Object.getPrototypeOf(function(){}),S=Object.setPrototypeOf({get stream(){return this[u]},next(){const j=this[n];if(j!==null)return Promise.reject(j);if(this[i])return Promise.resolve(d(void 0,!0));if(this[u].destroyed)return new Promise((L,z)=>{at.nextTick(()=>{this[n]?z(this[n]):L(d(void 0,!0))})});const U=this[a];let O;if(U)O=new Promise(x(U,this));else{const L=this[u].read();if(L!==null)return Promise.resolve(d(L,!1));O=new Promise(this[c])}return this[a]=O,O},[Symbol.asyncIterator](){return this},return(){return new Promise((j,U)=>{this[u].destroy(null,O=>{if(O){U(O);return}j(d(void 0,!0))})})}},k);return zv=j=>{const U=Object.create(S,{[u]:{value:j,writable:!0},[t]:{value:null,writable:!0},[r]:{value:null,writable:!0},[n]:{value:null,writable:!0},[i]:{value:j._readableState.endEmitted,writable:!0},[c]:{value:(O,L)=>{const z=U[u].read();z?(U[a]=null,U[t]=null,U[r]=null,O(d(z,!1))):(U[t]=O,U[r]=L)},writable:!0}});return U[a]=null,e(j,O=>{if(O&&O.code!=="ERR_STREAM_PREMATURE_CLOSE"){const z=U[r];z!==null&&(U[a]=null,U[t]=null,U[r]=null,z(O)),U[n]=O;return}const L=U[t];L!==null&&(U[a]=null,U[t]=null,U[r]=null,L(d(void 0,!0))),U[i]=!0}),j.on("readable",m.bind(null,U)),U},zv}var Kv,o5;function iD(){return o5||(o5=1,Kv=function(){throw new Error("Readable.from is not available in the browser")}),Kv}var qv,s5;function g2(){if(s5)return qv;s5=1,qv=ce;var e;ce.ReadableState=re,yf.EventEmitter;var t=function(q,he){return q.listeners(he).length},r=I7;const n=ft.Buffer,i=(typeof He<"u"?He:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function a(H){return n.from(H)}function c(H){return n.isBuffer(H)||H instanceof i}const u=l2;let d;u&&u.debuglog?d=u.debuglog("stream"):d=function(){};const p=CO(),m=X7,x=eS,k=x.getHighWaterMark,S=Ws.codes,P=S.ERR_INVALID_ARG_TYPE,j=S.ERR_STREAM_PUSH_AFTER_EOF,U=S.ERR_METHOD_NOT_IMPLEMENTED,O=S.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;let L,z,G;dt(ce,r);const J=m.errorOrDestroy,ne=["error","close","destroy","pause","resume"];function ie(H,q,he){if(typeof H.prependListener=="function")return H.prependListener(q,he);!H._events||!H._events[q]?H.on(q,he):Array.isArray(H._events[q])?H._events[q].unshift(he):H._events[q]=[he,H._events[q]]}function re(H,q,he){e=e||Us(),H=H||{},typeof he!="boolean"&&(he=q instanceof e),this.objectMode=!!H.objectMode,he&&(this.objectMode=this.objectMode||!!H.readableObjectMode),this.highWaterMark=k(this,H,"readableHighWaterMark",he),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=H.emitClose!==!1,this.autoDestroy=!!H.autoDestroy,this.destroyed=!1,this.defaultEncoding=H.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,H.encoding&&(L||(L=H0.StringDecoder),this.decoder=new L(H.encoding),this.encoding=H.encoding)}function ce(H){if(e=e||Us(),!(this instanceof ce))return new ce(H);const q=this instanceof e;this._readableState=new re(H,this,q),this.readable=!0,H&&(typeof H.read=="function"&&(this._read=H.read),typeof H.destroy=="function"&&(this._destroy=H.destroy)),r.call(this)}Object.defineProperty(ce.prototype,"destroyed",{enumerable:!1,get(){return this._readableState===void 0?!1:this._readableState.destroyed},set(H){this._readableState&&(this._readableState.destroyed=H)}}),ce.prototype.destroy=m.destroy,ce.prototype._undestroy=m.undestroy,ce.prototype._destroy=function(H,q){q(H)},ce.prototype.push=function(H,q){var he=this._readableState,ge;return he.objectMode?ge=!0:typeof H=="string"&&(q=q||he.defaultEncoding,q!==he.encoding&&(H=n.from(H,q),q=""),ge=!0),Se(this,H,q,!1,ge)},ce.prototype.unshift=function(H){return Se(this,H,null,!0,!1)};function Se(H,q,he,ge,Ne){d("readableAddChunk",q);var K=H._readableState;if(q===null)K.reading=!1,M(H,K);else{var C;if(Ne||(C=_(K,q)),C)J(H,C);else if(K.objectMode||q&&q.length>0)if(typeof q!="string"&&!K.objectMode&&Object.getPrototypeOf(q)!==n.prototype&&(q=a(q)),ge)K.endEmitted?J(H,new O):W(H,K,q,!0);else if(K.ended)J(H,new j);else{if(K.destroyed)return!1;K.reading=!1,K.decoder&&!he?(q=K.decoder.write(q),K.objectMode||q.length!==0?W(H,K,q,!1):B(H,K)):W(H,K,q,!1)}else ge||(K.reading=!1,B(H,K))}return!K.ended&&(K.length<K.highWaterMark||K.length===0)}function W(H,q,he,ge){q.flowing&&q.length===0&&!q.sync?(q.awaitDrain=0,H.emit("data",he)):(q.length+=q.objectMode?1:he.length,ge?q.buffer.unshift(he):q.buffer.push(he),q.needReadable&&N(H)),B(H,q)}function _(H,q){var he;return!c(q)&&typeof q!="string"&&q!==void 0&&!H.objectMode&&(he=new P("chunk",["string","Buffer","Uint8Array"],q)),he}ce.prototype.isPaused=function(){return this._readableState.flowing===!1},ce.prototype.setEncoding=function(H){L||(L=H0.StringDecoder);const q=new L(H);this._readableState.decoder=q,this._readableState.encoding=this._readableState.decoder.encoding;let he=this._readableState.buffer.head,ge="";for(;he!==null;)ge+=q.write(he.data),he=he.next;return this._readableState.buffer.clear(),ge!==""&&this._readableState.buffer.push(ge),this._readableState.length=ge.length,this};const w=1073741824;function h(H){return H>=w?H=w:(H--,H|=H>>>1,H|=H>>>2,H|=H>>>4,H|=H>>>8,H|=H>>>16,H++),H}function g(H,q){return H<=0||q.length===0&&q.ended?0:q.objectMode?1:H!==H?q.flowing&&q.length?q.buffer.head.data.length:q.length:(H>q.highWaterMark&&(q.highWaterMark=h(H)),H<=q.length?H:q.ended?q.length:(q.needReadable=!0,0))}ce.prototype.read=function(H){d("read",H),H=parseInt(H,10);var q=this._readableState,he=H;if(H!==0&&(q.emittedReadable=!1),H===0&&q.needReadable&&((q.highWaterMark!==0?q.length>=q.highWaterMark:q.length>0)||q.ended))return d("read: emitReadable",q.length,q.ended),q.length===0&&q.ended?se(this):N(this),null;if(H=g(H,q),H===0&&q.ended)return q.length===0&&se(this),null;var ge=q.needReadable;d("need readable",ge),(q.length===0||q.length-H<q.highWaterMark)&&(ge=!0,d("length less than watermark",ge)),q.ended||q.reading?(ge=!1,d("reading or ended",ge)):ge&&(d("do read"),q.reading=!0,q.sync=!0,q.length===0&&(q.needReadable=!0),this._read(q.highWaterMark),q.sync=!1,q.reading||(H=g(he,q)));var Ne;return H>0?Ne=Y(H,q):Ne=null,Ne===null?(q.needReadable=q.length<=q.highWaterMark,H=0):(q.length-=H,q.awaitDrain=0),q.length===0&&(q.ended||(q.needReadable=!0),he!==H&&q.ended&&se(this)),Ne!==null&&this.emit("data",Ne),Ne};function M(H,q){if(d("onEofChunk"),!q.ended){if(q.decoder){var he=q.decoder.end();he&&he.length&&(q.buffer.push(he),q.length+=q.objectMode?1:he.length)}q.ended=!0,q.sync?N(H):(q.needReadable=!1,q.emittedReadable||(q.emittedReadable=!0,T(H)))}}function N(H){var q=H._readableState;d("emitReadable",q.needReadable,q.emittedReadable),q.needReadable=!1,q.emittedReadable||(d("emitReadable",q.flowing),q.emittedReadable=!0,at.nextTick(T,H))}function T(H){var q=H._readableState;d("emitReadable_",q.destroyed,q.length,q.ended),!q.destroyed&&(q.length||q.ended)&&(H.emit("readable"),q.emittedReadable=!1),q.needReadable=!q.flowing&&!q.ended&&q.length<=q.highWaterMark,Z(H)}function B(H,q){q.readingMore||(q.readingMore=!0,at.nextTick(b,H,q))}function b(H,q){for(;!q.reading&&!q.ended&&(q.length<q.highWaterMark||q.flowing&&q.length===0);){const he=q.length;if(d("maybeReadMore read 0"),H.read(0),he===q.length)break}q.readingMore=!1}ce.prototype._read=function(H){J(this,new U("_read()"))},ce.prototype.pipe=function(H,q){var he=this,ge=this._readableState;switch(ge.pipesCount){case 0:ge.pipes=H;break;case 1:ge.pipes=[ge.pipes,H];break;default:ge.pipes.push(H);break}ge.pipesCount+=1,d("pipe count=%d opts=%j",ge.pipesCount,q);var Ne=(!q||q.end!==!1)&&H!==at.stdout&&H!==at.stderr,K=Ne?R:ae;ge.endEmitted?at.nextTick(K):he.once("end",K),H.on("unpipe",C);function C(te,le){d("onunpipe"),te===he&&le&&le.hasUnpiped===!1&&(le.hasUnpiped=!0,fe())}function R(){d("onend"),H.end()}var D=A(he);H.on("drain",D);var ee=!1;function fe(){d("cleanup"),H.removeListener("close",Ae),H.removeListener("finish",qe),H.removeListener("drain",D),H.removeListener("error",Ue),H.removeListener("unpipe",C),he.removeListener("end",R),he.removeListener("end",ae),he.removeListener("data",pe),ee=!0,ge.awaitDrain&&(!H._writableState||H._writableState.needDrain)&&D()}he.on("data",pe);function pe(te){d("ondata");var le=H.write(te);d("dest.write",le),le===!1&&((ge.pipesCount===1&&ge.pipes===H||ge.pipesCount>1&&xe(ge.pipes,H)!==-1)&&!ee&&(d("false write response, pause",ge.awaitDrain),ge.awaitDrain++),he.pause())}function Ue(te){d("onerror",te),ae(),H.removeListener("error",Ue),t(H,"error")===0&&J(H,te)}ie(H,"error",Ue);function Ae(){H.removeListener("finish",qe),ae()}H.once("close",Ae);function qe(){d("onfinish"),H.removeListener("close",Ae),ae()}H.once("finish",qe);function ae(){d("unpipe"),he.unpipe(H)}return H.emit("pipe",he),ge.flowing||(d("pipe resume"),he.resume()),H};function A(H){return function(){var he=H._readableState;d("pipeOnDrain",he.awaitDrain),he.awaitDrain&&he.awaitDrain--,he.awaitDrain===0&&t(H,"data")&&(he.flowing=!0,Z(H))}}ce.prototype.unpipe=function(H){var q=this._readableState,he={hasUnpiped:!1};if(q.pipesCount===0)return this;if(q.pipesCount===1)return H&&H!==q.pipes?this:(H||(H=q.pipes),q.pipes=null,q.pipesCount=0,q.flowing=!1,H&&H.emit("unpipe",this,he),this);if(!H){var ge=q.pipes,Ne=q.pipesCount;q.pipes=null,q.pipesCount=0,q.flowing=!1;for(var K=0;K<Ne;K++)ge[K].emit("unpipe",this,{hasUnpiped:!1});return this}var C=xe(q.pipes,H);return C===-1?this:(q.pipes.splice(C,1),q.pipesCount-=1,q.pipesCount===1&&(q.pipes=q.pipes[0]),H.emit("unpipe",this,he),this)},ce.prototype.on=function(H,q){const he=r.prototype.on.call(this,H,q),ge=this._readableState;return H==="data"?(ge.readableListening=this.listenerCount("readable")>0,ge.flowing!==!1&&this.resume()):H==="readable"&&!ge.endEmitted&&!ge.readableListening&&(ge.readableListening=ge.needReadable=!0,ge.flowing=!1,ge.emittedReadable=!1,d("on readable",ge.length,ge.reading),ge.length?N(this):ge.reading||at.nextTick(I,this)),he},ce.prototype.addListener=ce.prototype.on,ce.prototype.removeListener=function(H,q){const he=r.prototype.removeListener.call(this,H,q);return H==="readable"&&at.nextTick(y,this),he},ce.prototype.removeAllListeners=function(H){const q=r.prototype.removeAllListeners.apply(this,arguments);return(H==="readable"||H===void 0)&&at.nextTick(y,this),q};function y(H){const q=H._readableState;q.readableListening=H.listenerCount("readable")>0,q.resumeScheduled&&!q.paused?q.flowing=!0:H.listenerCount("data")>0&&H.resume()}function I(H){d("readable nexttick read 0"),H.read(0)}ce.prototype.resume=function(){var H=this._readableState;return H.flowing||(d("resume"),H.flowing=!H.readableListening,Q(this,H)),H.paused=!1,this};function Q(H,q){q.resumeScheduled||(q.resumeScheduled=!0,at.nextTick(ue,H,q))}function ue(H,q){d("resume",q.reading),q.reading||H.read(0),q.resumeScheduled=!1,H.emit("resume"),Z(H),q.flowing&&!q.reading&&H.read(0)}ce.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function Z(H){const q=H._readableState;for(d("flow",q.flowing);q.flowing&&H.read()!==null;);}ce.prototype.wrap=function(H){var q=this._readableState,he=!1;H.on("end",()=>{if(d("wrapped end"),q.decoder&&!q.ended){var K=q.decoder.end();K&&K.length&&this.push(K)}this.push(null)}),H.on("data",K=>{if(d("wrapped data"),q.decoder&&(K=q.decoder.write(K)),!(q.objectMode&&K==null)&&!(!q.objectMode&&(!K||!K.length))){var C=this.push(K);C||(he=!0,H.pause())}});for(var ge in H)this[ge]===void 0&&typeof H[ge]=="function"&&(this[ge]=function(C){return function(){return H[C].apply(H,arguments)}}(ge));for(var Ne=0;Ne<ne.length;Ne++)H.on(ne[Ne],this.emit.bind(this,ne[Ne]));return this._read=K=>{d("wrapped _read",K),he&&(he=!1,H.resume())},this},typeof Symbol=="function"&&(ce.prototype[Symbol.asyncIterator]=function(){return z===void 0&&(z=nD()),z(this)}),Object.defineProperty(ce.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(ce.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(ce.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(q){this._readableState&&(this._readableState.flowing=q)}}),ce._fromList=Y,Object.defineProperty(ce.prototype,"readableLength",{enumerable:!1,get(){return this._readableState.length}});function Y(H,q){if(q.length===0)return null;var he;return q.objectMode?he=q.buffer.shift():!H||H>=q.length?(q.decoder?he=q.buffer.join(""):q.buffer.length===1?he=q.buffer.first():he=q.buffer.concat(q.length),q.buffer.clear()):he=q.buffer.consume(H,q.decoder),he}function se(H){var q=H._readableState;d("endReadable",q.endEmitted),q.endEmitted||(q.ended=!0,at.nextTick(de,q,H))}function de(H,q){if(d("endReadableNT",H.endEmitted,H.length),!H.endEmitted&&H.length===0&&(H.endEmitted=!0,q.readable=!1,q.emit("end"),H.autoDestroy)){const he=q._writableState;(!he||he.autoDestroy&&he.finished)&&q.destroy()}}typeof Symbol=="function"&&(ce.from=function(H,q){return G===void 0&&(G=iD()),G(ce,H,q)});function xe(H,q){for(var he=0,ge=H.length;he<ge;he++)if(H[he]===q)return he;return-1}return qv}var b2=Ya;const Vp=Ws.codes,aD=Vp.ERR_METHOD_NOT_IMPLEMENTED,oD=Vp.ERR_MULTIPLE_CALLBACK,sD=Vp.ERR_TRANSFORM_ALREADY_TRANSFORMING,cD=Vp.ERR_TRANSFORM_WITH_LENGTH_0,Zp=Us();dt(Ya,Zp);function fD(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new oD);r.writechunk=null,r.writecb=null,t!=null&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function Ya(e){if(!(this instanceof Ya))return new Ya(e);Zp.call(this,e),this._transformState={afterTransform:fD.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.on("prefinish",uD)}function uD(){typeof this._flush=="function"&&!this._readableState.destroyed?this._flush((e,t)=>{c5(this,e,t)}):c5(this,null,null)}Ya.prototype.push=function(e,t){return this._transformState.needTransform=!1,Zp.prototype.push.call(this,e,t)};Ya.prototype._transform=function(e,t,r){r(new aD("_transform()"))};Ya.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};Ya.prototype._read=function(e){var t=this._transformState;t.writechunk!==null&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0};Ya.prototype._destroy=function(e,t){Zp.prototype._destroy.call(this,e,r=>{t(r)})};function c5(e,t,r){if(t)return e.emit("error",t);if(r!=null&&e.push(r),e._writableState.length)throw new cD;if(e._transformState.transforming)throw new sD;return e.push(null)}var rS=$l;const nS=b2;dt($l,nS);function $l(e){if(!(this instanceof $l))return new $l(e);nS.call(this,e)}$l.prototype._transform=function(e,t,r){r(null,e)};let Hv;function lD(e){let t=!1;return function(){t||(t=!0,e(...arguments))}}const iS=Ws.codes,dD=iS.ERR_MISSING_ARGS,hD=iS.ERR_STREAM_DESTROYED;function f5(e){if(e)throw e}function pD(e){return e.setHeader&&typeof e.abort=="function"}function yD(e,t,r,n){n=lD(n);let i=!1;e.on("close",()=>{i=!0}),Hv===void 0&&(Hv=Wp),Hv(e,{readable:t,writable:r},c=>{if(c)return n(c);i=!0,n()});let a=!1;return c=>{if(!i&&!a){if(a=!0,pD(e))return e.abort();if(typeof e.destroy=="function")return e.destroy();n(c||new hD("pipe"))}}}function u5(e){e()}function vD(e,t){return e.pipe(t)}function mD(e){return!e.length||typeof e[e.length-1]!="function"?f5:e.pop()}function gD(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const n=mD(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new dD("streams");let i;const a=t.map(function(c,u){const d=u<t.length-1,p=u>0;return yD(c,d,p,function(m){i||(i=m),m&&a.forEach(u5),!d&&(a.forEach(u5),n(i))})});return t.reduce(vD)}var aS=gD;(function(e,t){t=e.exports=g2(),t.Stream=t,t.Readable=t,t.Writable=v2(),t.Duplex=Us(),t.Transform=b2,t.PassThrough=rS,t.finished=Wp,t.pipeline=aS})(fL,Pl);var W0=lt.Buffer,oS=Pl.Transform,bD=dt;function wD(e,t){if(!W0.isBuffer(e)&&typeof e!="string")throw new TypeError(t+" must be a string or a buffer")}function Yo(e){oS.call(this),this._block=W0.allocUnsafe(e),this._blockSize=e,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}bD(Yo,oS);Yo.prototype._transform=function(e,t,r){var n=null;try{this.update(e,t)}catch(i){n=i}r(n)};Yo.prototype._flush=function(e){var t=null;try{this.push(this.digest())}catch(r){t=r}e(t)};Yo.prototype.update=function(e,t){if(wD(e,"Data"),this._finalized)throw new Error("Digest already called");W0.isBuffer(e)||(e=W0.from(e,t));for(var r=this._block,n=0;this._blockOffset+e.length-n>=this._blockSize;){for(var i=this._blockOffset;i<this._blockSize;)r[i++]=e[n++];this._update(),this._blockOffset=0}for(;n<e.length;)r[this._blockOffset++]=e[n++];for(var a=0,c=e.length*8;c>0;++a)this._length[a]+=c,c=this._length[a]/4294967296|0,c>0&&(this._length[a]-=4294967296*c);return this};Yo.prototype._update=function(){throw new Error("_update is not implemented")};Yo.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var t=this._digest();e!==void 0&&(t=t.toString(e)),this._block.fill(0),this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return t};Yo.prototype._digest=function(){throw new Error("_digest is not implemented")};var sS=Yo,_D=dt,cS=sS,xD=lt.Buffer,SD=new Array(16);function Gp(){cS.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}_D(Gp,cS);Gp.prototype._update=function(){for(var e=SD,t=0;t<16;++t)e[t]=this._block.readInt32LE(t*4);var r=this._a,n=this._b,i=this._c,a=this._d;r=Yr(r,n,i,a,e[0],3614090360,7),a=Yr(a,r,n,i,e[1],3905402710,12),i=Yr(i,a,r,n,e[2],606105819,17),n=Yr(n,i,a,r,e[3],3250441966,22),r=Yr(r,n,i,a,e[4],4118548399,7),a=Yr(a,r,n,i,e[5],1200080426,12),i=Yr(i,a,r,n,e[6],2821735955,17),n=Yr(n,i,a,r,e[7],4249261313,22),r=Yr(r,n,i,a,e[8],1770035416,7),a=Yr(a,r,n,i,e[9],2336552879,12),i=Yr(i,a,r,n,e[10],4294925233,17),n=Yr(n,i,a,r,e[11],2304563134,22),r=Yr(r,n,i,a,e[12],1804603682,7),a=Yr(a,r,n,i,e[13],4254626195,12),i=Yr(i,a,r,n,e[14],2792965006,17),n=Yr(n,i,a,r,e[15],1236535329,22),r=Xr(r,n,i,a,e[1],4129170786,5),a=Xr(a,r,n,i,e[6],3225465664,9),i=Xr(i,a,r,n,e[11],643717713,14),n=Xr(n,i,a,r,e[0],3921069994,20),r=Xr(r,n,i,a,e[5],3593408605,5),a=Xr(a,r,n,i,e[10],38016083,9),i=Xr(i,a,r,n,e[15],3634488961,14),n=Xr(n,i,a,r,e[4],3889429448,20),r=Xr(r,n,i,a,e[9],568446438,5),a=Xr(a,r,n,i,e[14],3275163606,9),i=Xr(i,a,r,n,e[3],4107603335,14),n=Xr(n,i,a,r,e[8],1163531501,20),r=Xr(r,n,i,a,e[13],2850285829,5),a=Xr(a,r,n,i,e[2],4243563512,9),i=Xr(i,a,r,n,e[7],1735328473,14),n=Xr(n,i,a,r,e[12],2368359562,20),r=Qr(r,n,i,a,e[5],4294588738,4),a=Qr(a,r,n,i,e[8],2272392833,11),i=Qr(i,a,r,n,e[11],1839030562,16),n=Qr(n,i,a,r,e[14],4259657740,23),r=Qr(r,n,i,a,e[1],2763975236,4),a=Qr(a,r,n,i,e[4],1272893353,11),i=Qr(i,a,r,n,e[7],4139469664,16),n=Qr(n,i,a,r,e[10],3200236656,23),r=Qr(r,n,i,a,e[13],681279174,4),a=Qr(a,r,n,i,e[0],3936430074,11),i=Qr(i,a,r,n,e[3],3572445317,16),n=Qr(n,i,a,r,e[6],76029189,23),r=Qr(r,n,i,a,e[9],3654602809,4),a=Qr(a,r,n,i,e[12],3873151461,11),i=Qr(i,a,r,n,e[15],530742520,16),n=Qr(n,i,a,r,e[2],3299628645,23),r=en(r,n,i,a,e[0],4096336452,6),a=en(a,r,n,i,e[7],1126891415,10),i=en(i,a,r,n,e[14],2878612391,15),n=en(n,i,a,r,e[5],4237533241,21),r=en(r,n,i,a,e[12],1700485571,6),a=en(a,r,n,i,e[3],2399980690,10),i=en(i,a,r,n,e[10],4293915773,15),n=en(n,i,a,r,e[1],2240044497,21),r=en(r,n,i,a,e[8],1873313359,6),a=en(a,r,n,i,e[15],4264355552,10),i=en(i,a,r,n,e[6],2734768916,15),n=en(n,i,a,r,e[13],1309151649,21),r=en(r,n,i,a,e[4],4149444226,6),a=en(a,r,n,i,e[11],3174756917,10),i=en(i,a,r,n,e[2],718787259,15),n=en(n,i,a,r,e[9],3951481745,21),this._a=this._a+r|0,this._b=this._b+n|0,this._c=this._c+i|0,this._d=this._d+a|0};Gp.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=xD.allocUnsafe(16);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e};function Jp(e,t){return e<<t|e>>>32-t}function Yr(e,t,r,n,i,a,c){return Jp(e+(t&r|~t&n)+i+a|0,c)+t|0}function Xr(e,t,r,n,i,a,c){return Jp(e+(t&n|r&~n)+i+a|0,c)+t|0}function Qr(e,t,r,n,i,a,c){return Jp(e+(t^r^n)+i+a|0,c)+t|0}function en(e,t,r,n,i,a,c){return Jp(e+(r^(t|~n))+i+a|0,c)+t|0}var w2=Gp,Wv=ft.Buffer,ED=dt,fS=sS,kD=new Array(16),$u=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],Lu=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],Ou=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],Du=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],Uu=[0,1518500249,1859775393,2400959708,2840853838],ju=[1352829926,1548603684,1836072691,2053994217,0];function Yp(){fS.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}ED(Yp,fS);Yp.prototype._update=function(){for(var e=kD,t=0;t<16;++t)e[t]=this._block.readInt32LE(t*4);for(var r=this._a|0,n=this._b|0,i=this._c|0,a=this._d|0,c=this._e|0,u=this._a|0,d=this._b|0,p=this._c|0,m=this._d|0,x=this._e|0,k=0;k<80;k+=1){var S,P;k<16?(S=l5(r,n,i,a,c,e[$u[k]],Uu[0],Ou[k]),P=y5(u,d,p,m,x,e[Lu[k]],ju[0],Du[k])):k<32?(S=d5(r,n,i,a,c,e[$u[k]],Uu[1],Ou[k]),P=p5(u,d,p,m,x,e[Lu[k]],ju[1],Du[k])):k<48?(S=h5(r,n,i,a,c,e[$u[k]],Uu[2],Ou[k]),P=h5(u,d,p,m,x,e[Lu[k]],ju[2],Du[k])):k<64?(S=p5(r,n,i,a,c,e[$u[k]],Uu[3],Ou[k]),P=d5(u,d,p,m,x,e[Lu[k]],ju[3],Du[k])):(S=y5(r,n,i,a,c,e[$u[k]],Uu[4],Ou[k]),P=l5(u,d,p,m,x,e[Lu[k]],ju[4],Du[k])),r=c,c=a,a=js(i,10),i=n,n=S,u=x,x=m,m=js(p,10),p=d,d=P}var j=this._b+i+m|0;this._b=this._c+a+x|0,this._c=this._d+c+u|0,this._d=this._e+r+d|0,this._e=this._a+n+p|0,this._a=j};Yp.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=Wv.alloc?Wv.alloc(20):new Wv(20);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e.writeInt32LE(this._e,16),e};function js(e,t){return e<<t|e>>>32-t}function l5(e,t,r,n,i,a,c,u){return js(e+(t^r^n)+a+c|0,u)+i|0}function d5(e,t,r,n,i,a,c,u){return js(e+(t&r|~t&n)+a+c|0,u)+i|0}function h5(e,t,r,n,i,a,c,u){return js(e+((t|~r)^n)+a+c|0,u)+i|0}function p5(e,t,r,n,i,a,c,u){return js(e+(t&n|r&~n)+a+c|0,u)+i|0}function y5(e,t,r,n,i,a,c,u){return js(e+(t^(r|~n))+a+c|0,u)+i|0}var _2=Yp,Ll={},MD={get exports(){return Ll},set exports(e){Ll=e}},uS=lt.Buffer;function Xp(e,t){this._block=uS.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}Xp.prototype.update=function(e,t){typeof e=="string"&&(t=t||"utf8",e=uS.from(e,t));for(var r=this._block,n=this._blockSize,i=e.length,a=this._len,c=0;c<i;){for(var u=a%n,d=Math.min(i-c,n-u),p=0;p<d;p++)r[u+p]=e[c+p];a+=d,c+=d,a%n===0&&this._update(r)}return this._len+=i,this};Xp.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=this._len*8;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(r&4294967295)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var a=this._hash();return e?a.toString(e):a};Xp.prototype._update=function(){throw new Error("_update must be implemented by subclass")};var Bf=Xp,AD=dt,lS=Bf,CD=lt.Buffer,BD=[1518500249,1859775393,-1894007588,-899497514],ID=new Array(80);function id(){this.init(),this._w=ID,lS.call(this,64,56)}AD(id,lS);id.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function RD(e){return e<<5|e>>>27}function TD(e){return e<<30|e>>>2}function ND(e,t,r,n){return e===0?t&r|~t&n:e===2?t&r|t&n|r&n:t^r^n}id.prototype._update=function(e){for(var t=this._w,r=this._a|0,n=this._b|0,i=this._c|0,a=this._d|0,c=this._e|0,u=0;u<16;++u)t[u]=e.readInt32BE(u*4);for(;u<80;++u)t[u]=t[u-3]^t[u-8]^t[u-14]^t[u-16];for(var d=0;d<80;++d){var p=~~(d/20),m=RD(r)+ND(p,n,i,a)+c+t[d]+BD[p]|0;c=a,a=i,i=TD(n),n=r,r=m}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=a+this._d|0,this._e=c+this._e|0};id.prototype._hash=function(){var e=CD.allocUnsafe(20);return e.writeInt32BE(this._a|0,0),e.writeInt32BE(this._b|0,4),e.writeInt32BE(this._c|0,8),e.writeInt32BE(this._d|0,12),e.writeInt32BE(this._e|0,16),e};var PD=id,$D=dt,dS=Bf,LD=lt.Buffer,OD=[1518500249,1859775393,-1894007588,-899497514],DD=new Array(80);function ad(){this.init(),this._w=DD,dS.call(this,64,56)}$D(ad,dS);ad.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function UD(e){return e<<1|e>>>31}function jD(e){return e<<5|e>>>27}function FD(e){return e<<30|e>>>2}function zD(e,t,r,n){return e===0?t&r|~t&n:e===2?t&r|t&n|r&n:t^r^n}ad.prototype._update=function(e){for(var t=this._w,r=this._a|0,n=this._b|0,i=this._c|0,a=this._d|0,c=this._e|0,u=0;u<16;++u)t[u]=e.readInt32BE(u*4);for(;u<80;++u)t[u]=UD(t[u-3]^t[u-8]^t[u-14]^t[u-16]);for(var d=0;d<80;++d){var p=~~(d/20),m=jD(r)+zD(p,n,i,a)+c+t[d]+OD[p]|0;c=a,a=i,i=FD(n),n=r,r=m}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=a+this._d|0,this._e=c+this._e|0};ad.prototype._hash=function(){var e=LD.allocUnsafe(20);return e.writeInt32BE(this._a|0,0),e.writeInt32BE(this._b|0,4),e.writeInt32BE(this._c|0,8),e.writeInt32BE(this._d|0,12),e.writeInt32BE(this._e|0,16),e};var KD=ad,qD=dt,hS=Bf,HD=lt.Buffer,WD=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],VD=new Array(64);function od(){this.init(),this._w=VD,hS.call(this,64,56)}qD(od,hS);od.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function ZD(e,t,r){return r^e&(t^r)}function GD(e,t,r){return e&t|r&(e|t)}function JD(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function YD(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function XD(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}function QD(e){return(e>>>17|e<<15)^(e>>>19|e<<13)^e>>>10}od.prototype._update=function(e){for(var t=this._w,r=this._a|0,n=this._b|0,i=this._c|0,a=this._d|0,c=this._e|0,u=this._f|0,d=this._g|0,p=this._h|0,m=0;m<16;++m)t[m]=e.readInt32BE(m*4);for(;m<64;++m)t[m]=QD(t[m-2])+t[m-7]+XD(t[m-15])+t[m-16]|0;for(var x=0;x<64;++x){var k=p+YD(c)+ZD(c,u,d)+WD[x]+t[x]|0,S=JD(r)+GD(r,n,i)|0;p=d,d=u,u=c,c=a+k|0,a=i,i=n,n=r,r=k+S|0}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=a+this._d|0,this._e=c+this._e|0,this._f=u+this._f|0,this._g=d+this._g|0,this._h=p+this._h|0};od.prototype._hash=function(){var e=HD.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e};var pS=od,eU=dt,tU=pS,rU=Bf,nU=lt.Buffer,iU=new Array(64);function Qp(){this.init(),this._w=iU,rU.call(this,64,56)}eU(Qp,tU);Qp.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this};Qp.prototype._hash=function(){var e=nU.allocUnsafe(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e};var aU=Qp,oU=dt,yS=Bf,sU=lt.Buffer,v5=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],cU=new Array(160);function sd(){this.init(),this._w=cU,yS.call(this,128,112)}oU(sd,yS);sd.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function m5(e,t,r){return r^e&(t^r)}function g5(e,t,r){return e&t|r&(e|t)}function b5(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function w5(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function fU(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function uU(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function lU(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function dU(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function Ar(e,t){return e>>>0<t>>>0?1:0}sd.prototype._update=function(e){for(var t=this._w,r=this._ah|0,n=this._bh|0,i=this._ch|0,a=this._dh|0,c=this._eh|0,u=this._fh|0,d=this._gh|0,p=this._hh|0,m=this._al|0,x=this._bl|0,k=this._cl|0,S=this._dl|0,P=this._el|0,j=this._fl|0,U=this._gl|0,O=this._hl|0,L=0;L<32;L+=2)t[L]=e.readInt32BE(L*4),t[L+1]=e.readInt32BE(L*4+4);for(;L<160;L+=2){var z=t[L-30],G=t[L-15*2+1],J=fU(z,G),ne=uU(G,z);z=t[L-2*2],G=t[L-2*2+1];var ie=lU(z,G),re=dU(G,z),ce=t[L-7*2],Se=t[L-7*2+1],W=t[L-16*2],_=t[L-16*2+1],w=ne+Se|0,h=J+ce+Ar(w,ne)|0;w=w+re|0,h=h+ie+Ar(w,re)|0,w=w+_|0,h=h+W+Ar(w,_)|0,t[L]=h,t[L+1]=w}for(var g=0;g<160;g+=2){h=t[g],w=t[g+1];var M=g5(r,n,i),N=g5(m,x,k),T=b5(r,m),B=b5(m,r),b=w5(c,P),A=w5(P,c),y=v5[g],I=v5[g+1],Q=m5(c,u,d),ue=m5(P,j,U),Z=O+A|0,Y=p+b+Ar(Z,O)|0;Z=Z+ue|0,Y=Y+Q+Ar(Z,ue)|0,Z=Z+I|0,Y=Y+y+Ar(Z,I)|0,Z=Z+w|0,Y=Y+h+Ar(Z,w)|0;var se=B+N|0,de=T+M+Ar(se,B)|0;p=d,O=U,d=u,U=j,u=c,j=P,P=S+Z|0,c=a+Y+Ar(P,S)|0,a=i,S=k,i=n,k=x,n=r,x=m,m=Z+se|0,r=Y+de+Ar(m,Z)|0}this._al=this._al+m|0,this._bl=this._bl+x|0,this._cl=this._cl+k|0,this._dl=this._dl+S|0,this._el=this._el+P|0,this._fl=this._fl+j|0,this._gl=this._gl+U|0,this._hl=this._hl+O|0,this._ah=this._ah+r+Ar(this._al,m)|0,this._bh=this._bh+n+Ar(this._bl,x)|0,this._ch=this._ch+i+Ar(this._cl,k)|0,this._dh=this._dh+a+Ar(this._dl,S)|0,this._eh=this._eh+c+Ar(this._el,P)|0,this._fh=this._fh+u+Ar(this._fl,j)|0,this._gh=this._gh+d+Ar(this._gl,U)|0,this._hh=this._hh+p+Ar(this._hl,O)|0};sd.prototype._hash=function(){var e=sU.allocUnsafe(64);function t(r,n,i){e.writeInt32BE(r,i),e.writeInt32BE(n,i+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),e};var vS=sd,hU=dt,pU=vS,yU=Bf,vU=lt.Buffer,mU=new Array(160);function e1(){this.init(),this._w=mU,yU.call(this,128,112)}hU(e1,pU);e1.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this};e1.prototype._hash=function(){var e=vU.allocUnsafe(48);function t(r,n,i){e.writeInt32BE(r,i),e.writeInt32BE(n,i+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),e};var gU=e1,Vs=MD.exports=function(t){t=t.toLowerCase();var r=Vs[t];if(!r)throw new Error(t+" is not supported (we accept pull requests)");return new r};Vs.sha=PD;Vs.sha1=KD;Vs.sha224=aU;Vs.sha256=pS;Vs.sha384=gU;Vs.sha512=vS;var bU=ni,x2=yf.EventEmitter,wU=dt;wU(ni,x2);ni.Readable=g2();ni.Writable=v2();ni.Duplex=Us();ni.Transform=b2;ni.PassThrough=rS;ni.finished=Wp;ni.pipeline=aS;ni.Stream=ni;function ni(){x2.call(this)}ni.prototype.pipe=function(e,t){var r=this;function n(m){e.writable&&e.write(m)===!1&&r.pause&&r.pause()}r.on("data",n);function i(){r.readable&&r.resume&&r.resume()}e.on("drain",i),!e._isStdio&&(!t||t.end!==!1)&&(r.on("end",c),r.on("close",u));var a=!1;function c(){a||(a=!0,e.end())}function u(){a||(a=!0,typeof e.destroy=="function"&&e.destroy())}function d(m){if(p(),x2.listenerCount(this,"error")===0)throw m}r.on("error",d),e.on("error",d);function p(){r.removeListener("data",n),e.removeListener("drain",i),r.removeListener("end",c),r.removeListener("close",u),r.removeListener("error",d),e.removeListener("error",d),r.removeListener("end",p),r.removeListener("close",p),e.removeListener("close",p)}return r.on("end",p),r.on("close",p),e.on("close",p),e.emit("pipe",r),e};var mS=lt.Buffer,gS=bU.Transform,_U=H0.StringDecoder,xU=dt;function Ti(e){gS.call(this),this.hashMode=typeof e=="string",this.hashMode?this[e]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}xU(Ti,gS);Ti.prototype.update=function(e,t,r){typeof e=="string"&&(e=mS.from(e,t));var n=this._update(e);return this.hashMode?this:(r&&(n=this._toString(n,r)),n)};Ti.prototype.setAutoPadding=function(){};Ti.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")};Ti.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")};Ti.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")};Ti.prototype._transform=function(e,t,r){var n;try{this.hashMode?this._update(e):this.push(this._update(e))}catch(i){n=i}finally{r(n)}};Ti.prototype._flush=function(e){var t;try{this.push(this.__final())}catch(r){t=r}e(t)};Ti.prototype._finalOrDigest=function(e){var t=this.__final()||mS.alloc(0);return e&&(t=this._toString(t,e,!0)),t};Ti.prototype._toString=function(e,t,r){if(this._decoder||(this._decoder=new _U(t),this._encoding=t),this._encoding!==t)throw new Error("can't switch encodings");var n=this._decoder.write(e);return r&&(n+=this._decoder.end()),n};var Xo=Ti,SU=dt,EU=w2,kU=_2,MU=Ll,bS=Xo;function t1(e){bS.call(this,"digest"),this._hash=e}SU(t1,bS);t1.prototype._update=function(e){this._hash.update(e)};t1.prototype._final=function(){return this._hash.digest()};var cd=function(t){return t=t.toLowerCase(),t==="md5"?new EU:t==="rmd160"||t==="ripemd160"?new kU:new t1(MU(t))},AU=dt,Ms=lt.Buffer,wS=Xo,CU=Ms.alloc(128),gc=64;function r1(e,t){wS.call(this,"digest"),typeof t=="string"&&(t=Ms.from(t)),this._alg=e,this._key=t,t.length>gc?t=e(t):t.length<gc&&(t=Ms.concat([t,CU],gc));for(var r=this._ipad=Ms.allocUnsafe(gc),n=this._opad=Ms.allocUnsafe(gc),i=0;i<gc;i++)r[i]=t[i]^54,n[i]=t[i]^92;this._hash=[r]}AU(r1,wS);r1.prototype._update=function(e){this._hash.push(e)};r1.prototype._final=function(){var e=this._alg(Ms.concat(this._hash));return this._alg(Ms.concat([this._opad,e]))};var BU=r1,IU=w2,_S=function(e){return new IU().update(e).digest()},RU=dt,TU=BU,xS=Xo,Gu=lt.Buffer,NU=_S,Bg=_2,Ig=Ll,PU=Gu.alloc(128);function Ol(e,t){xS.call(this,"digest"),typeof t=="string"&&(t=Gu.from(t));var r=e==="sha512"||e==="sha384"?128:64;if(this._alg=e,this._key=t,t.length>r){var n=e==="rmd160"?new Bg:Ig(e);t=n.update(t).digest()}else t.length<r&&(t=Gu.concat([t,PU],r));for(var i=this._ipad=Gu.allocUnsafe(r),a=this._opad=Gu.allocUnsafe(r),c=0;c<r;c++)i[c]=t[c]^54,a[c]=t[c]^92;this._hash=e==="rmd160"?new Bg:Ig(e),this._hash.update(i)}RU(Ol,xS);Ol.prototype._update=function(e){this._hash.update(e)};Ol.prototype._final=function(){var e=this._hash.digest(),t=this._alg==="rmd160"?new Bg:Ig(this._alg);return t.update(this._opad).update(e).digest()};var SS=function(t,r){return t=t.toLowerCase(),t==="rmd160"||t==="ripemd160"?new Ol("rmd160",r):t==="md5"?new TU(NU,r):new Ol(t,r)},Rg={},$U={get exports(){return Rg},set exports(e){Rg=e}};const LU={sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},OU={sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},DU={sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},UU={sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},jU={sign:"ecdsa",hash:"sha256",id:""},FU={sign:"ecdsa",hash:"sha224",id:""},zU={sign:"ecdsa",hash:"sha384",id:""},KU={sign:"ecdsa",hash:"sha512",id:""},qU={sign:"dsa",hash:"sha1",id:""},HU={sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},WU={sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},ES={sha224WithRSAEncryption:LU,"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:OU,"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:DU,"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:UU,"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:jU,sha224:FU,sha384:zU,sha512:KU,"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:qU,"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:HU,"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:WU,"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}};(function(e){e.exports=ES})($U);var n1={},VU=Math.pow(2,30)-1,kS=function(e,t){if(typeof e!="number")throw new TypeError("Iterations not a number");if(e<0)throw new TypeError("Bad iterations");if(typeof t!="number")throw new TypeError("Key length not a number");if(t<0||t>VU||t!==t)throw new TypeError("Bad key length")},o0;if(He.process&&He.process.browser)o0="utf-8";else if(He.process&&He.process.version){var ZU=parseInt(at.version.split(".")[0].slice(1),10);o0=ZU>=6?"utf-8":"binary"}else o0="utf-8";var MS=o0,Vv=lt.Buffer,AS=function(e,t,r){if(Vv.isBuffer(e))return e;if(typeof e=="string")return Vv.from(e,t);if(ArrayBuffer.isView(e))return Vv.from(e.buffer);throw new TypeError(r+" must be a string, a Buffer, a typed array or a DataView")},GU=_S,JU=_2,YU=Ll,As=lt.Buffer,XU=kS,_5=MS,x5=AS,QU=As.alloc(128),s0={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function CS(e,t,r){var n=ej(e),i=e==="sha512"||e==="sha384"?128:64;t.length>i?t=n(t):t.length<i&&(t=As.concat([t,QU],i));for(var a=As.allocUnsafe(i+s0[e]),c=As.allocUnsafe(i+s0[e]),u=0;u<i;u++)a[u]=t[u]^54,c[u]=t[u]^92;var d=As.allocUnsafe(i+r+4);a.copy(d,0,0,i),this.ipad1=d,this.ipad2=a,this.opad=c,this.alg=e,this.blocksize=i,this.hash=n,this.size=s0[e]}CS.prototype.run=function(e,t){e.copy(t,this.blocksize);var r=this.hash(t);return r.copy(this.opad,this.blocksize),this.hash(this.opad)};function ej(e){function t(n){return YU(e).update(n).digest()}function r(n){return new JU().update(n).digest()}return e==="rmd160"||e==="ripemd160"?r:e==="md5"?GU:t}function tj(e,t,r,n,i){XU(r,n),e=x5(e,_5,"Password"),t=x5(t,_5,"Salt"),i=i||"sha1";var a=new CS(i,e,t.length),c=As.allocUnsafe(n),u=As.allocUnsafe(t.length+4);t.copy(u,0,0,t.length);for(var d=0,p=s0[i],m=Math.ceil(n/p),x=1;x<=m;x++){u.writeUInt32BE(x,t.length);for(var k=a.run(u,a.ipad1),S=k,P=1;P<r;P++){S=a.run(S,a.ipad2);for(var j=0;j<p;j++)k[j]^=S[j]}k.copy(c,d),d+=p}return c}var BS=tj,IS=lt.Buffer,rj=kS,S5=MS,E5=BS,k5=AS,Rh,ul=He.crypto&&He.crypto.subtle,nj={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},Zv=[];function ij(e){if(He.process&&!He.process.browser||!ul||!ul.importKey||!ul.deriveBits)return Promise.resolve(!1);if(Zv[e]!==void 0)return Zv[e];Rh=Rh||IS.alloc(8);var t=RS(Rh,Rh,10,128,e).then(function(){return!0}).catch(function(){return!1});return Zv[e]=t,t}var hs;function Tg(){return hs||(He.process&&He.process.nextTick?hs=He.process.nextTick:He.queueMicrotask?hs=He.queueMicrotask:He.setImmediate?hs=He.setImmediate:hs=He.setTimeout,hs)}function RS(e,t,r,n,i){return ul.importKey("raw",e,{name:"PBKDF2"},!1,["deriveBits"]).then(function(a){return ul.deriveBits({name:"PBKDF2",salt:t,iterations:r,hash:{name:i}},a,n<<3)}).then(function(a){return IS.from(a)})}function aj(e,t){e.then(function(r){Tg()(function(){t(null,r)})},function(r){Tg()(function(){t(r)})})}var oj=function(e,t,r,n,i,a){typeof i=="function"&&(a=i,i=void 0),i=i||"sha1";var c=nj[i.toLowerCase()];if(!c||typeof He.Promise!="function"){Tg()(function(){var u;try{u=E5(e,t,r,n,i)}catch(d){return a(d)}a(null,u)});return}if(rj(r,n),e=k5(e,S5,"Password"),t=k5(t,S5,"Salt"),typeof a!="function")throw new Error("No callback provided to pbkdf2");aj(ij(c).then(function(u){return u?RS(e,t,r,n,c):E5(e,t,r,n,i)}),a)};n1.pbkdf2=oj;n1.pbkdf2Sync=BS;var Ii={},If={},Un={};Un.readUInt32BE=function(t,r){var n=t[0+r]<<24|t[1+r]<<16|t[2+r]<<8|t[3+r];return n>>>0};Un.writeUInt32BE=function(t,r,n){t[0+n]=r>>>24,t[1+n]=r>>>16&255,t[2+n]=r>>>8&255,t[3+n]=r&255};Un.ip=function(t,r,n,i){for(var a=0,c=0,u=6;u>=0;u-=2){for(var d=0;d<=24;d+=8)a<<=1,a|=r>>>d+u&1;for(var d=0;d<=24;d+=8)a<<=1,a|=t>>>d+u&1}for(var u=6;u>=0;u-=2){for(var d=1;d<=25;d+=8)c<<=1,c|=r>>>d+u&1;for(var d=1;d<=25;d+=8)c<<=1,c|=t>>>d+u&1}n[i+0]=a>>>0,n[i+1]=c>>>0};Un.rip=function(t,r,n,i){for(var a=0,c=0,u=0;u<4;u++)for(var d=24;d>=0;d-=8)a<<=1,a|=r>>>d+u&1,a<<=1,a|=t>>>d+u&1;for(var u=4;u<8;u++)for(var d=24;d>=0;d-=8)c<<=1,c|=r>>>d+u&1,c<<=1,c|=t>>>d+u&1;n[i+0]=a>>>0,n[i+1]=c>>>0};Un.pc1=function(t,r,n,i){for(var a=0,c=0,u=7;u>=5;u--){for(var d=0;d<=24;d+=8)a<<=1,a|=r>>d+u&1;for(var d=0;d<=24;d+=8)a<<=1,a|=t>>d+u&1}for(var d=0;d<=24;d+=8)a<<=1,a|=r>>d+u&1;for(var u=1;u<=3;u++){for(var d=0;d<=24;d+=8)c<<=1,c|=r>>d+u&1;for(var d=0;d<=24;d+=8)c<<=1,c|=t>>d+u&1}for(var d=0;d<=24;d+=8)c<<=1,c|=t>>d+u&1;n[i+0]=a>>>0,n[i+1]=c>>>0};Un.r28shl=function(t,r){return t<<r&268435455|t>>>28-r};var Th=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];Un.pc2=function(t,r,n,i){for(var a=0,c=0,u=Th.length>>>1,d=0;d<u;d++)a<<=1,a|=t>>>Th[d]&1;for(var d=u;d<Th.length;d++)c<<=1,c|=r>>>Th[d]&1;n[i+0]=a>>>0,n[i+1]=c>>>0};Un.expand=function(t,r,n){var i=0,a=0;i=(t&1)<<5|t>>>27;for(var c=23;c>=15;c-=4)i<<=6,i|=t>>>c&63;for(var c=11;c>=3;c-=4)a|=t>>>c&63,a<<=6;a|=(t&31)<<1|t>>>31,r[n+0]=i>>>0,r[n+1]=a>>>0};var M5=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];Un.substitute=function(t,r){for(var n=0,i=0;i<4;i++){var a=t>>>18-i*6&63,c=M5[i*64+a];n<<=4,n|=c}for(var i=0;i<4;i++){var a=r>>>18-i*6&63,c=M5[4*64+i*64+a];n<<=4,n|=c}return n>>>0};var A5=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];Un.permute=function(t){for(var r=0,n=0;n<A5.length;n++)r<<=1,r|=t>>>A5[n]&1;return r>>>0};Un.padSplit=function(t,r,n){for(var i=t.toString(2);i.length<r;)i="0"+i;for(var a=[],c=0;c<r;c+=n)a.push(i.slice(c,c+n));return a.join(" ")};var ci=TS;function TS(e,t){if(!e)throw new Error(t||"Assertion failed")}TS.equal=function(t,r,n){if(t!=r)throw new Error(n||"Assertion failed: "+t+" != "+r)};var sj=ci;function fi(e){this.options=e,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}var S2=fi;fi.prototype._init=function(){};fi.prototype.update=function(t){return t.length===0?[]:this.type==="decrypt"?this._updateDecrypt(t):this._updateEncrypt(t)};fi.prototype._buffer=function(t,r){for(var n=Math.min(this.buffer.length-this.bufferOff,t.length-r),i=0;i<n;i++)this.buffer[this.bufferOff+i]=t[r+i];return this.bufferOff+=n,n};fi.prototype._flushBuffer=function(t,r){return this._update(this.buffer,0,t,r),this.bufferOff=0,this.blockSize};fi.prototype._updateEncrypt=function(t){var r=0,n=0,i=(this.bufferOff+t.length)/this.blockSize|0,a=new Array(i*this.blockSize);this.bufferOff!==0&&(r+=this._buffer(t,r),this.bufferOff===this.buffer.length&&(n+=this._flushBuffer(a,n)));for(var c=t.length-(t.length-r)%this.blockSize;r<c;r+=this.blockSize)this._update(t,r,a,n),n+=this.blockSize;for(;r<t.length;r++,this.bufferOff++)this.buffer[this.bufferOff]=t[r];return a};fi.prototype._updateDecrypt=function(t){for(var r=0,n=0,i=Math.ceil((this.bufferOff+t.length)/this.blockSize)-1,a=new Array(i*this.blockSize);i>0;i--)r+=this._buffer(t,r),n+=this._flushBuffer(a,n);return r+=this._buffer(t,r),a};fi.prototype.final=function(t){var r;t&&(r=this.update(t));var n;return this.type==="encrypt"?n=this._finalEncrypt():n=this._finalDecrypt(),r?r.concat(n):n};fi.prototype._pad=function(t,r){if(r===0)return!1;for(;r<t.length;)t[r++]=0;return!0};fi.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var t=new Array(this.blockSize);return this._update(this.buffer,0,t,0),t};fi.prototype._unpad=function(t){return t};fi.prototype._finalDecrypt=function(){sj.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var t=new Array(this.blockSize);return this._flushBuffer(t,0),this._unpad(t)};var NS=ci,cj=dt,Sr=Un,PS=S2;function fj(){this.tmp=new Array(2),this.keys=null}function da(e){PS.call(this,e);var t=new fj;this._desState=t,this.deriveKeys(t,e.key)}cj(da,PS);var $S=da;da.create=function(t){return new da(t)};var uj=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];da.prototype.deriveKeys=function(t,r){t.keys=new Array(16*2),NS.equal(r.length,this.blockSize,"Invalid key length");var n=Sr.readUInt32BE(r,0),i=Sr.readUInt32BE(r,4);Sr.pc1(n,i,t.tmp,0),n=t.tmp[0],i=t.tmp[1];for(var a=0;a<t.keys.length;a+=2){var c=uj[a>>>1];n=Sr.r28shl(n,c),i=Sr.r28shl(i,c),Sr.pc2(n,i,t.keys,a)}};da.prototype._update=function(t,r,n,i){var a=this._desState,c=Sr.readUInt32BE(t,r),u=Sr.readUInt32BE(t,r+4);Sr.ip(c,u,a.tmp,0),c=a.tmp[0],u=a.tmp[1],this.type==="encrypt"?this._encrypt(a,c,u,a.tmp,0):this._decrypt(a,c,u,a.tmp,0),c=a.tmp[0],u=a.tmp[1],Sr.writeUInt32BE(n,c,i),Sr.writeUInt32BE(n,u,i+4)};da.prototype._pad=function(t,r){for(var n=t.length-r,i=r;i<t.length;i++)t[i]=n;return!0};da.prototype._unpad=function(t){for(var r=t[t.length-1],n=t.length-r;n<t.length;n++)NS.equal(t[n],r);return t.slice(0,t.length-r)};da.prototype._encrypt=function(t,r,n,i,a){for(var c=r,u=n,d=0;d<t.keys.length;d+=2){var p=t.keys[d],m=t.keys[d+1];Sr.expand(u,t.tmp,0),p^=t.tmp[0],m^=t.tmp[1];var x=Sr.substitute(p,m),k=Sr.permute(x),S=u;u=(c^k)>>>0,c=S}Sr.rip(u,c,i,a)};da.prototype._decrypt=function(t,r,n,i,a){for(var c=n,u=r,d=t.keys.length-2;d>=0;d-=2){var p=t.keys[d],m=t.keys[d+1];Sr.expand(c,t.tmp,0),p^=t.tmp[0],m^=t.tmp[1];var x=Sr.substitute(p,m),k=Sr.permute(x),S=c;c=(u^k)>>>0,u=S}Sr.rip(c,u,i,a)};var LS={},lj=ci,dj=dt,V0={};function hj(e){lj.equal(e.length,8,"Invalid IV length"),this.iv=new Array(8);for(var t=0;t<this.iv.length;t++)this.iv[t]=e[t]}function pj(e){function t(a){e.call(this,a),this._cbcInit()}dj(t,e);for(var r=Object.keys(V0),n=0;n<r.length;n++){var i=r[n];t.prototype[i]=V0[i]}return t.create=function(c){return new t(c)},t}LS.instantiate=pj;V0._cbcInit=function(){var t=new hj(this.options.iv);this._cbcState=t};V0._update=function(t,r,n,i){var a=this._cbcState,c=this.constructor.super_.prototype,u=a.iv;if(this.type==="encrypt"){for(var d=0;d<this.blockSize;d++)u[d]^=t[r+d];c._update.call(this,u,0,n,i);for(var d=0;d<this.blockSize;d++)u[d]=n[i+d]}else{c._update.call(this,t,r,n,i);for(var d=0;d<this.blockSize;d++)n[i+d]^=u[d];for(var d=0;d<this.blockSize;d++)u[d]=t[r+d]}};var yj=ci,vj=dt,OS=S2,xo=$S;function mj(e,t){yj.equal(t.length,24,"Invalid key length");var r=t.slice(0,8),n=t.slice(8,16),i=t.slice(16,24);e==="encrypt"?this.ciphers=[xo.create({type:"encrypt",key:r}),xo.create({type:"decrypt",key:n}),xo.create({type:"encrypt",key:i})]:this.ciphers=[xo.create({type:"decrypt",key:i}),xo.create({type:"encrypt",key:n}),xo.create({type:"decrypt",key:r})]}function Fs(e){OS.call(this,e);var t=new mj(this.type,this.options.key);this._edeState=t}vj(Fs,OS);var gj=Fs;Fs.create=function(t){return new Fs(t)};Fs.prototype._update=function(t,r,n,i){var a=this._edeState;a.ciphers[0]._update(t,r,n,i),a.ciphers[1]._update(n,i,n,i),a.ciphers[2]._update(n,i,n,i)};Fs.prototype._pad=xo.prototype._pad;Fs.prototype._unpad=xo.prototype._unpad;If.utils=Un;If.Cipher=S2;If.DES=$S;If.CBC=LS;If.EDE=gj;var DS=Xo,Ta=If,bj=dt,ws=lt.Buffer,Dl={"des-ede3-cbc":Ta.CBC.instantiate(Ta.EDE),"des-ede3":Ta.EDE,"des-ede-cbc":Ta.CBC.instantiate(Ta.EDE),"des-ede":Ta.EDE,"des-cbc":Ta.CBC.instantiate(Ta.DES),"des-ecb":Ta.DES};Dl.des=Dl["des-cbc"];Dl.des3=Dl["des-ede3-cbc"];var wj=i1;bj(i1,DS);function i1(e){DS.call(this);var t=e.mode.toLowerCase(),r=Dl[t],n;e.decrypt?n="decrypt":n="encrypt";var i=e.key;ws.isBuffer(i)||(i=ws.from(i)),(t==="des-ede"||t==="des-ede-cbc")&&(i=ws.concat([i,i.slice(0,8)]));var a=e.iv;ws.isBuffer(a)||(a=ws.from(a)),this._des=r.create({key:i,iv:a,type:n})}i1.prototype._update=function(e){return ws.from(this._des.update(e))};i1.prototype._final=function(){return ws.from(this._des.final())};var Ln={},E2={},k2={};k2.encrypt=function(e,t){return e._cipher.encryptBlock(t)};k2.decrypt=function(e,t){return e._cipher.decryptBlock(t)};var M2={},fd=function(t,r){for(var n=Math.min(t.length,r.length),i=new ft.Buffer(n),a=0;a<n;++a)i[a]=t[a]^r[a];return i},US=fd;M2.encrypt=function(e,t){var r=US(t,e._prev);return e._prev=e._cipher.encryptBlock(r),e._prev};M2.decrypt=function(e,t){var r=e._prev;e._prev=t;var n=e._cipher.decryptBlock(t);return US(n,r)};var jS={},Ju=lt.Buffer,_j=fd;function C5(e,t,r){var n=t.length,i=_j(t,e._cache);return e._cache=e._cache.slice(n),e._prev=Ju.concat([e._prev,r?t:i]),i}jS.encrypt=function(e,t,r){for(var n=Ju.allocUnsafe(0),i;t.length;)if(e._cache.length===0&&(e._cache=e._cipher.encryptBlock(e._prev),e._prev=Ju.allocUnsafe(0)),e._cache.length<=t.length)i=e._cache.length,n=Ju.concat([n,C5(e,t.slice(0,i),r)]),t=t.slice(i);else{n=Ju.concat([n,C5(e,t,r)]);break}return n};var FS={},Ng=lt.Buffer;function xj(e,t,r){var n=e._cipher.encryptBlock(e._prev),i=n[0]^t;return e._prev=Ng.concat([e._prev.slice(1),Ng.from([r?t:i])]),i}FS.encrypt=function(e,t,r){for(var n=t.length,i=Ng.allocUnsafe(n),a=-1;++a<n;)i[a]=xj(e,t[a],r);return i};var zS={},c0=lt.Buffer;function Sj(e,t,r){for(var n,i=-1,a=8,c=0,u,d;++i<a;)n=e._cipher.encryptBlock(e._prev),u=t&1<<7-i?128:0,d=n[0]^u,c+=(d&128)>>i%8,e._prev=Ej(e._prev,r?u:d);return c}function Ej(e,t){var r=e.length,n=-1,i=c0.allocUnsafe(e.length);for(e=c0.concat([e,c0.from([t])]);++n<r;)i[n]=e[n]<<1|e[n+1]>>7;return i}zS.encrypt=function(e,t,r){for(var n=t.length,i=c0.allocUnsafe(n),a=-1;++a<n;)i[a]=Sj(e,t[a],r);return i};var KS={},kj=fd;function Mj(e){return e._prev=e._cipher.encryptBlock(e._prev),e._prev}KS.encrypt=function(e,t){for(;e._cache.length<t.length;)e._cache=ft.Buffer.concat([e._cache,Mj(e)]);var r=e._cache.slice(0,t.length);return e._cache=e._cache.slice(t.length),kj(t,r)};var Pg={};function Aj(e){for(var t=e.length,r;t--;)if(r=e.readUInt8(t),r===255)e.writeUInt8(0,t);else{r++,e.writeUInt8(r,t);break}}var qS=Aj,Cj=fd,B5=lt.Buffer,Bj=qS;function Ij(e){var t=e._cipher.encryptBlockRaw(e._prev);return Bj(e._prev),t}var Gv=16;Pg.encrypt=function(e,t){var r=Math.ceil(t.length/Gv),n=e._cache.length;e._cache=B5.concat([e._cache,B5.allocUnsafe(r*Gv)]);for(var i=0;i<r;i++){var a=Ij(e),c=n+i*Gv;e._cache.writeUInt32BE(a[0],c+0),e._cache.writeUInt32BE(a[1],c+4),e._cache.writeUInt32BE(a[2],c+8),e._cache.writeUInt32BE(a[3],c+12)}var u=e._cache.slice(0,t.length);return e._cache=e._cache.slice(t.length),Cj(t,u)};const Rj={cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},Tj={cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},Nj={cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},HS={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:Rj,aes192:Tj,aes256:Nj,"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}};var Pj={ECB:k2,CBC:M2,CFB:jS,CFB8:FS,CFB1:zS,OFB:KS,CTR:Pg,GCM:Pg},f0=HS;for(var I5 in f0)f0[I5].module=Pj[f0[I5].mode];var A2=f0,ud={},Z0=lt.Buffer;function C2(e){Z0.isBuffer(e)||(e=Z0.from(e));for(var t=e.length/4|0,r=new Array(t),n=0;n<t;n++)r[n]=e.readUInt32BE(n*4);return r}function Jv(e){for(var t=0;t<e.length;e++)e[t]=0}function WS(e,t,r,n,i){for(var a=r[0],c=r[1],u=r[2],d=r[3],p=e[0]^t[0],m=e[1]^t[1],x=e[2]^t[2],k=e[3]^t[3],S,P,j,U,O=4,L=1;L<i;L++)S=a[p>>>24]^c[m>>>16&255]^u[x>>>8&255]^d[k&255]^t[O++],P=a[m>>>24]^c[x>>>16&255]^u[k>>>8&255]^d[p&255]^t[O++],j=a[x>>>24]^c[k>>>16&255]^u[p>>>8&255]^d[m&255]^t[O++],U=a[k>>>24]^c[p>>>16&255]^u[m>>>8&255]^d[x&255]^t[O++],p=S,m=P,x=j,k=U;return S=(n[p>>>24]<<24|n[m>>>16&255]<<16|n[x>>>8&255]<<8|n[k&255])^t[O++],P=(n[m>>>24]<<24|n[x>>>16&255]<<16|n[k>>>8&255]<<8|n[p&255])^t[O++],j=(n[x>>>24]<<24|n[k>>>16&255]<<16|n[p>>>8&255]<<8|n[m&255])^t[O++],U=(n[k>>>24]<<24|n[p>>>16&255]<<16|n[m>>>8&255]<<8|n[x&255])^t[O++],S=S>>>0,P=P>>>0,j=j>>>0,U=U>>>0,[S,P,j,U]}var $j=[0,1,2,4,8,16,32,64,128,27,54],mr=function(){for(var e=new Array(256),t=0;t<256;t++)t<128?e[t]=t<<1:e[t]=t<<1^283;for(var r=[],n=[],i=[[],[],[],[]],a=[[],[],[],[]],c=0,u=0,d=0;d<256;++d){var p=u^u<<1^u<<2^u<<3^u<<4;p=p>>>8^p&255^99,r[c]=p,n[p]=c;var m=e[c],x=e[m],k=e[x],S=e[p]*257^p*16843008;i[0][c]=S<<24|S>>>8,i[1][c]=S<<16|S>>>16,i[2][c]=S<<8|S>>>24,i[3][c]=S,S=k*16843009^x*65537^m*257^c*16843008,a[0][p]=S<<24|S>>>8,a[1][p]=S<<16|S>>>16,a[2][p]=S<<8|S>>>24,a[3][p]=S,c===0?c=u=1:(c=m^e[e[e[k^m]]],u^=e[e[u]])}return{SBOX:r,INV_SBOX:n,SUB_MIX:i,INV_SUB_MIX:a}}();function ii(e){this._key=C2(e),this._reset()}ii.blockSize=4*4;ii.keySize=256/8;ii.prototype.blockSize=ii.blockSize;ii.prototype.keySize=ii.keySize;ii.prototype._reset=function(){for(var e=this._key,t=e.length,r=t+6,n=(r+1)*4,i=[],a=0;a<t;a++)i[a]=e[a];for(a=t;a<n;a++){var c=i[a-1];a%t===0?(c=c<<8|c>>>24,c=mr.SBOX[c>>>24]<<24|mr.SBOX[c>>>16&255]<<16|mr.SBOX[c>>>8&255]<<8|mr.SBOX[c&255],c^=$j[a/t|0]<<24):t>6&&a%t===4&&(c=mr.SBOX[c>>>24]<<24|mr.SBOX[c>>>16&255]<<16|mr.SBOX[c>>>8&255]<<8|mr.SBOX[c&255]),i[a]=i[a-t]^c}for(var u=[],d=0;d<n;d++){var p=n-d,m=i[p-(d%4?0:4)];d<4||p<=4?u[d]=m:u[d]=mr.INV_SUB_MIX[0][mr.SBOX[m>>>24]]^mr.INV_SUB_MIX[1][mr.SBOX[m>>>16&255]]^mr.INV_SUB_MIX[2][mr.SBOX[m>>>8&255]]^mr.INV_SUB_MIX[3][mr.SBOX[m&255]]}this._nRounds=r,this._keySchedule=i,this._invKeySchedule=u};ii.prototype.encryptBlockRaw=function(e){return e=C2(e),WS(e,this._keySchedule,mr.SUB_MIX,mr.SBOX,this._nRounds)};ii.prototype.encryptBlock=function(e){var t=this.encryptBlockRaw(e),r=Z0.allocUnsafe(16);return r.writeUInt32BE(t[0],0),r.writeUInt32BE(t[1],4),r.writeUInt32BE(t[2],8),r.writeUInt32BE(t[3],12),r};ii.prototype.decryptBlock=function(e){e=C2(e);var t=e[1];e[1]=e[3],e[3]=t;var r=WS(e,this._invKeySchedule,mr.INV_SUB_MIX,mr.INV_SBOX,this._nRounds),n=Z0.allocUnsafe(16);return n.writeUInt32BE(r[0],0),n.writeUInt32BE(r[3],4),n.writeUInt32BE(r[2],8),n.writeUInt32BE(r[1],12),n};ii.prototype.scrub=function(){Jv(this._keySchedule),Jv(this._invKeySchedule),Jv(this._key)};ud.AES=ii;var mf=lt.Buffer,Lj=mf.alloc(16,0);function Oj(e){return[e.readUInt32BE(0),e.readUInt32BE(4),e.readUInt32BE(8),e.readUInt32BE(12)]}function VS(e){var t=mf.allocUnsafe(16);return t.writeUInt32BE(e[0]>>>0,0),t.writeUInt32BE(e[1]>>>0,4),t.writeUInt32BE(e[2]>>>0,8),t.writeUInt32BE(e[3]>>>0,12),t}function ld(e){this.h=e,this.state=mf.alloc(16,0),this.cache=mf.allocUnsafe(0)}ld.prototype.ghash=function(e){for(var t=-1;++t<e.length;)this.state[t]^=e[t];this._multiply()};ld.prototype._multiply=function(){for(var e=Oj(this.h),t=[0,0,0,0],r,n,i,a=-1;++a<128;){for(n=(this.state[~~(a/8)]&1<<7-a%8)!==0,n&&(t[0]^=e[0],t[1]^=e[1],t[2]^=e[2],t[3]^=e[3]),i=(e[3]&1)!==0,r=3;r>0;r--)e[r]=e[r]>>>1|(e[r-1]&1)<<31;e[0]=e[0]>>>1,i&&(e[0]=e[0]^225<<24)}this.state=VS(t)};ld.prototype.update=function(e){this.cache=mf.concat([this.cache,e]);for(var t;this.cache.length>=16;)t=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(t)};ld.prototype.final=function(e,t){return this.cache.length&&this.ghash(mf.concat([this.cache,Lj],16)),this.ghash(VS([0,e,0,t])),this.state};var Dj=ld,Uj=ud,bn=lt.Buffer,ZS=Xo,jj=dt,GS=Dj,Fj=fd,zj=qS;function Kj(e,t){var r=0;e.length!==t.length&&r++;for(var n=Math.min(e.length,t.length),i=0;i<n;++i)r+=e[i]^t[i];return r}function qj(e,t,r){if(t.length===12)return e._finID=bn.concat([t,bn.from([0,0,0,1])]),bn.concat([t,bn.from([0,0,0,2])]);var n=new GS(r),i=t.length,a=i%16;n.update(t),a&&(a=16-a,n.update(bn.alloc(a,0))),n.update(bn.alloc(8,0));var c=i*8,u=bn.alloc(8);u.writeUIntBE(c,0,8),n.update(u),e._finID=n.state;var d=bn.from(e._finID);return zj(d),d}function Zs(e,t,r,n){ZS.call(this);var i=bn.alloc(4,0);this._cipher=new Uj.AES(t);var a=this._cipher.encryptBlock(i);this._ghash=new GS(a),r=qj(this,r,a),this._prev=bn.from(r),this._cache=bn.allocUnsafe(0),this._secCache=bn.allocUnsafe(0),this._decrypt=n,this._alen=0,this._len=0,this._mode=e,this._authTag=null,this._called=!1}jj(Zs,ZS);Zs.prototype._update=function(e){if(!this._called&&this._alen){var t=16-this._alen%16;t<16&&(t=bn.alloc(t,0),this._ghash.update(t))}this._called=!0;var r=this._mode.encrypt(this,e);return this._decrypt?this._ghash.update(e):this._ghash.update(r),this._len+=e.length,r};Zs.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var e=Fj(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&Kj(e,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=e,this._cipher.scrub()};Zs.prototype.getAuthTag=function(){if(this._decrypt||!bn.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag};Zs.prototype.setAuthTag=function(t){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=t};Zs.prototype.setAAD=function(t){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(t),this._alen+=t.length};var JS=Zs,Hj=ud,Yv=lt.Buffer,YS=Xo,Wj=dt;function a1(e,t,r,n){YS.call(this),this._cipher=new Hj.AES(t),this._prev=Yv.from(r),this._cache=Yv.allocUnsafe(0),this._secCache=Yv.allocUnsafe(0),this._decrypt=n,this._mode=e}Wj(a1,YS);a1.prototype._update=function(e){return this._mode.encrypt(this,e,this._decrypt)};a1.prototype._final=function(){this._cipher.scrub()};var XS=a1,ps=lt.Buffer,Vj=w2;function Zj(e,t,r,n){if(ps.isBuffer(e)||(e=ps.from(e,"binary")),t&&(ps.isBuffer(t)||(t=ps.from(t,"binary")),t.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var i=r/8,a=ps.alloc(i),c=ps.alloc(n||0),u=ps.alloc(0);i>0||n>0;){var d=new Vj;d.update(u),d.update(e),t&&d.update(t),u=d.digest();var p=0;if(i>0){var m=a.length-i;p=Math.min(i,u.length),u.copy(a,m,0,p),i-=p}if(p<u.length&&n>0){var x=c.length-n,k=Math.min(n,u.length-p);u.copy(c,x,p,p+k),n-=k}}return u.fill(0),{key:a,iv:c}}var o1=Zj,QS=A2,Gj=JS,Xa=lt.Buffer,Jj=XS,eE=Xo,Yj=ud,Xj=o1,Qj=dt;function dd(e,t,r){eE.call(this),this._cache=new s1,this._cipher=new Yj.AES(t),this._prev=Xa.from(r),this._mode=e,this._autopadding=!0}Qj(dd,eE);dd.prototype._update=function(e){this._cache.add(e);for(var t,r,n=[];t=this._cache.get();)r=this._mode.encrypt(this,t),n.push(r);return Xa.concat(n)};var eF=Xa.alloc(16,16);dd.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return e=this._mode.encrypt(this,e),this._cipher.scrub(),e;if(!e.equals(eF))throw this._cipher.scrub(),new Error("data not multiple of block length")};dd.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this};function s1(){this.cache=Xa.allocUnsafe(0)}s1.prototype.add=function(e){this.cache=Xa.concat([this.cache,e])};s1.prototype.get=function(){if(this.cache.length>15){var e=this.cache.slice(0,16);return this.cache=this.cache.slice(16),e}return null};s1.prototype.flush=function(){for(var e=16-this.cache.length,t=Xa.allocUnsafe(e),r=-1;++r<e;)t.writeUInt8(e,r);return Xa.concat([this.cache,t])};function tE(e,t,r){var n=QS[e.toLowerCase()];if(!n)throw new TypeError("invalid suite type");if(typeof t=="string"&&(t=Xa.from(t)),t.length!==n.key/8)throw new TypeError("invalid key length "+t.length);if(typeof r=="string"&&(r=Xa.from(r)),n.mode!=="GCM"&&r.length!==n.iv)throw new TypeError("invalid iv length "+r.length);return n.type==="stream"?new Jj(n.module,t,r):n.type==="auth"?new Gj(n.module,t,r):new dd(n.module,t,r)}function tF(e,t){var r=QS[e.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var n=Xj(t,!1,r.key,r.iv);return tE(e,n.key,n.iv)}E2.createCipheriv=tE;E2.createCipher=tF;var B2={},rF=JS,gf=lt.Buffer,rE=A2,nF=XS,nE=Xo,iF=ud,aF=o1,oF=dt;function hd(e,t,r){nE.call(this),this._cache=new c1,this._last=void 0,this._cipher=new iF.AES(t),this._prev=gf.from(r),this._mode=e,this._autopadding=!0}oF(hd,nE);hd.prototype._update=function(e){this._cache.add(e);for(var t,r,n=[];t=this._cache.get(this._autopadding);)r=this._mode.decrypt(this,t),n.push(r);return gf.concat(n)};hd.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return sF(this._mode.decrypt(this,e));if(e)throw new Error("data not multiple of block length")};hd.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this};function c1(){this.cache=gf.allocUnsafe(0)}c1.prototype.add=function(e){this.cache=gf.concat([this.cache,e])};c1.prototype.get=function(e){var t;if(e){if(this.cache.length>16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t}else if(this.cache.length>=16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t;return null};c1.prototype.flush=function(){if(this.cache.length)return this.cache};function sF(e){var t=e[15];if(t<1||t>16)throw new Error("unable to decrypt data");for(var r=-1;++r<t;)if(e[r+(16-t)]!==t)throw new Error("unable to decrypt data");if(t!==16)return e.slice(0,16-t)}function iE(e,t,r){var n=rE[e.toLowerCase()];if(!n)throw new TypeError("invalid suite type");if(typeof r=="string"&&(r=gf.from(r)),n.mode!=="GCM"&&r.length!==n.iv)throw new TypeError("invalid iv length "+r.length);if(typeof t=="string"&&(t=gf.from(t)),t.length!==n.key/8)throw new TypeError("invalid key length "+t.length);return n.type==="stream"?new nF(n.module,t,r,!0):n.type==="auth"?new rF(n.module,t,r,!0):new hd(n.module,t,r)}function cF(e,t){var r=rE[e.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var n=aF(t,!1,r.key,r.iv);return iE(e,n.key,n.iv)}B2.createDecipher=cF;B2.createDecipheriv=iE;var aE=E2,oE=B2,fF=HS;function uF(){return Object.keys(fF)}Ln.createCipher=Ln.Cipher=aE.createCipher;Ln.createCipheriv=Ln.Cipheriv=aE.createCipheriv;Ln.createDecipher=Ln.Decipher=oE.createDecipher;Ln.createDecipheriv=Ln.Decipheriv=oE.createDecipheriv;Ln.listCiphers=Ln.getCiphers=uF;var sE={};(function(e){e["des-ecb"]={key:8,iv:0},e["des-cbc"]=e.des={key:8,iv:8},e["des-ede3-cbc"]=e.des3={key:24,iv:8},e["des-ede3"]={key:24,iv:0},e["des-ede-cbc"]={key:16,iv:8},e["des-ede"]={key:16,iv:0}})(sE);var cE=wj,I2=Ln,Uo=A2,Ha=sE,fE=o1;function lF(e,t){e=e.toLowerCase();var r,n;if(Uo[e])r=Uo[e].key,n=Uo[e].iv;else if(Ha[e])r=Ha[e].key*8,n=Ha[e].iv;else throw new TypeError("invalid suite type");var i=fE(t,!1,r,n);return uE(e,i.key,i.iv)}function dF(e,t){e=e.toLowerCase();var r,n;if(Uo[e])r=Uo[e].key,n=Uo[e].iv;else if(Ha[e])r=Ha[e].key*8,n=Ha[e].iv;else throw new TypeError("invalid suite type");var i=fE(t,!1,r,n);return lE(e,i.key,i.iv)}function uE(e,t,r){if(e=e.toLowerCase(),Uo[e])return I2.createCipheriv(e,t,r);if(Ha[e])return new cE({key:t,iv:r,mode:e});throw new TypeError("invalid suite type")}function lE(e,t,r){if(e=e.toLowerCase(),Uo[e])return I2.createDecipheriv(e,t,r);if(Ha[e])return new cE({key:t,iv:r,mode:e,decrypt:!0});throw new TypeError("invalid suite type")}function hF(){return Object.keys(Ha).concat(I2.getCiphers())}Ii.createCipher=Ii.Cipher=lF;Ii.createCipheriv=Ii.Cipheriv=uE;Ii.createDecipher=Ii.Decipher=dF;Ii.createDecipheriv=Ii.Decipheriv=lE;Ii.listCiphers=Ii.getCiphers=hF;var ys={},wr={},pF={get exports(){return wr},set exports(e){wr=e}};(function(e){(function(t,r){function n(W,_){if(!W)throw new Error(_||"Assertion failed")}function i(W,_){W.super_=_;var w=function(){};w.prototype=_.prototype,W.prototype=new w,W.prototype.constructor=W}function a(W,_,w){if(a.isBN(W))return W;this.negative=0,this.words=null,this.length=0,this.red=null,W!==null&&((_==="le"||_==="be")&&(w=_,_=10),this._init(W||0,_||10,w||"be"))}typeof t=="object"?t.exports=a:r.BN=a,a.BN=a,a.wordSize=26;var c;try{typeof window<"u"&&typeof window.Buffer<"u"?c=window.Buffer:c=ft.Buffer}catch{}a.isBN=function(_){return _ instanceof a?!0:_!==null&&typeof _=="object"&&_.constructor.wordSize===a.wordSize&&Array.isArray(_.words)},a.max=function(_,w){return _.cmp(w)>0?_:w},a.min=function(_,w){return _.cmp(w)<0?_:w},a.prototype._init=function(_,w,h){if(typeof _=="number")return this._initNumber(_,w,h);if(typeof _=="object")return this._initArray(_,w,h);w==="hex"&&(w=16),n(w===(w|0)&&w>=2&&w<=36),_=_.toString().replace(/\s+/g,"");var g=0;_[0]==="-"&&(g++,this.negative=1),g<_.length&&(w===16?this._parseHex(_,g,h):(this._parseBase(_,w,g),h==="le"&&this._initArray(this.toArray(),w,h)))},a.prototype._initNumber=function(_,w,h){_<0&&(this.negative=1,_=-_),_<67108864?(this.words=[_&67108863],this.length=1):_<4503599627370496?(this.words=[_&67108863,_/67108864&67108863],this.length=2):(n(_<9007199254740992),this.words=[_&67108863,_/67108864&67108863,1],this.length=3),h==="le"&&this._initArray(this.toArray(),w,h)},a.prototype._initArray=function(_,w,h){if(n(typeof _.length=="number"),_.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(_.length/3),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var M,N,T=0;if(h==="be")for(g=_.length-1,M=0;g>=0;g-=3)N=_[g]|_[g-1]<<8|_[g-2]<<16,this.words[M]|=N<<T&67108863,this.words[M+1]=N>>>26-T&67108863,T+=24,T>=26&&(T-=26,M++);else if(h==="le")for(g=0,M=0;g<_.length;g+=3)N=_[g]|_[g+1]<<8|_[g+2]<<16,this.words[M]|=N<<T&67108863,this.words[M+1]=N>>>26-T&67108863,T+=24,T>=26&&(T-=26,M++);return this.strip()};function u(W,_){var w=W.charCodeAt(_);return w>=65&&w<=70?w-55:w>=97&&w<=102?w-87:w-48&15}function d(W,_,w){var h=u(W,w);return w-1>=_&&(h|=u(W,w-1)<<4),h}a.prototype._parseHex=function(_,w,h){this.length=Math.ceil((_.length-w)/6),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var M=0,N=0,T;if(h==="be")for(g=_.length-1;g>=w;g-=2)T=d(_,w,g)<<M,this.words[N]|=T&67108863,M>=18?(M-=18,N+=1,this.words[N]|=T>>>26):M+=8;else{var B=_.length-w;for(g=B%2===0?w+1:w;g<_.length;g+=2)T=d(_,w,g)<<M,this.words[N]|=T&67108863,M>=18?(M-=18,N+=1,this.words[N]|=T>>>26):M+=8}this.strip()};function p(W,_,w,h){for(var g=0,M=Math.min(W.length,w),N=_;N<M;N++){var T=W.charCodeAt(N)-48;g*=h,T>=49?g+=T-49+10:T>=17?g+=T-17+10:g+=T}return g}a.prototype._parseBase=function(_,w,h){this.words=[0],this.length=1;for(var g=0,M=1;M<=67108863;M*=w)g++;g--,M=M/w|0;for(var N=_.length-h,T=N%g,B=Math.min(N,N-T)+h,b=0,A=h;A<B;A+=g)b=p(_,A,A+g,w),this.imuln(M),this.words[0]+b<67108864?this.words[0]+=b:this._iaddn(b);if(T!==0){var y=1;for(b=p(_,A,_.length,w),A=0;A<T;A++)y*=w;this.imuln(y),this.words[0]+b<67108864?this.words[0]+=b:this._iaddn(b)}this.strip()},a.prototype.copy=function(_){_.words=new Array(this.length);for(var w=0;w<this.length;w++)_.words[w]=this.words[w];_.length=this.length,_.negative=this.negative,_.red=this.red},a.prototype.clone=function(){var _=new a(null);return this.copy(_),_},a.prototype._expand=function(_){for(;this.length<_;)this.words[this.length++]=0;return this},a.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},a.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var m=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],x=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],k=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];a.prototype.toString=function(_,w){_=_||10,w=w|0||1;var h;if(_===16||_==="hex"){h="";for(var g=0,M=0,N=0;N<this.length;N++){var T=this.words[N],B=((T<<g|M)&16777215).toString(16);M=T>>>24-g&16777215,M!==0||N!==this.length-1?h=m[6-B.length]+B+h:h=B+h,g+=2,g>=26&&(g-=26,N--)}for(M!==0&&(h=M.toString(16)+h);h.length%w!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}if(_===(_|0)&&_>=2&&_<=36){var b=x[_],A=k[_];h="";var y=this.clone();for(y.negative=0;!y.isZero();){var I=y.modn(A).toString(_);y=y.idivn(A),y.isZero()?h=I+h:h=m[b-I.length]+I+h}for(this.isZero()&&(h="0"+h);h.length%w!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}n(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var _=this.words[0];return this.length===2?_+=this.words[1]*67108864:this.length===3&&this.words[2]===1?_+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-_:_},a.prototype.toJSON=function(){return this.toString(16)},a.prototype.toBuffer=function(_,w){return n(typeof c<"u"),this.toArrayLike(c,_,w)},a.prototype.toArray=function(_,w){return this.toArrayLike(Array,_,w)},a.prototype.toArrayLike=function(_,w,h){var g=this.byteLength(),M=h||Math.max(1,g);n(g<=M,"byte array longer than desired length"),n(M>0,"Requested array length <= 0"),this.strip();var N=w==="le",T=new _(M),B,b,A=this.clone();if(N){for(b=0;!A.isZero();b++)B=A.andln(255),A.iushrn(8),T[b]=B;for(;b<M;b++)T[b]=0}else{for(b=0;b<M-g;b++)T[b]=0;for(b=0;!A.isZero();b++)B=A.andln(255),A.iushrn(8),T[M-b-1]=B}return T},Math.clz32?a.prototype._countBits=function(_){return 32-Math.clz32(_)}:a.prototype._countBits=function(_){var w=_,h=0;return w>=4096&&(h+=13,w>>>=13),w>=64&&(h+=7,w>>>=7),w>=8&&(h+=4,w>>>=4),w>=2&&(h+=2,w>>>=2),h+w},a.prototype._zeroBits=function(_){if(_===0)return 26;var w=_,h=0;return w&8191||(h+=13,w>>>=13),w&127||(h+=7,w>>>=7),w&15||(h+=4,w>>>=4),w&3||(h+=2,w>>>=2),w&1||h++,h},a.prototype.bitLength=function(){var _=this.words[this.length-1],w=this._countBits(_);return(this.length-1)*26+w};function S(W){for(var _=new Array(W.bitLength()),w=0;w<_.length;w++){var h=w/26|0,g=w%26;_[w]=(W.words[h]&1<<g)>>>g}return _}a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var _=0,w=0;w<this.length;w++){var h=this._zeroBits(this.words[w]);if(_+=h,h!==26)break}return _},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(_){return this.negative!==0?this.abs().inotn(_).iaddn(1):this.clone()},a.prototype.fromTwos=function(_){return this.testn(_-1)?this.notn(_).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(_){for(;this.length<_.length;)this.words[this.length++]=0;for(var w=0;w<_.length;w++)this.words[w]=this.words[w]|_.words[w];return this.strip()},a.prototype.ior=function(_){return n((this.negative|_.negative)===0),this.iuor(_)},a.prototype.or=function(_){return this.length>_.length?this.clone().ior(_):_.clone().ior(this)},a.prototype.uor=function(_){return this.length>_.length?this.clone().iuor(_):_.clone().iuor(this)},a.prototype.iuand=function(_){var w;this.length>_.length?w=_:w=this;for(var h=0;h<w.length;h++)this.words[h]=this.words[h]&_.words[h];return this.length=w.length,this.strip()},a.prototype.iand=function(_){return n((this.negative|_.negative)===0),this.iuand(_)},a.prototype.and=function(_){return this.length>_.length?this.clone().iand(_):_.clone().iand(this)},a.prototype.uand=function(_){return this.length>_.length?this.clone().iuand(_):_.clone().iuand(this)},a.prototype.iuxor=function(_){var w,h;this.length>_.length?(w=this,h=_):(w=_,h=this);for(var g=0;g<h.length;g++)this.words[g]=w.words[g]^h.words[g];if(this!==w)for(;g<w.length;g++)this.words[g]=w.words[g];return this.length=w.length,this.strip()},a.prototype.ixor=function(_){return n((this.negative|_.negative)===0),this.iuxor(_)},a.prototype.xor=function(_){return this.length>_.length?this.clone().ixor(_):_.clone().ixor(this)},a.prototype.uxor=function(_){return this.length>_.length?this.clone().iuxor(_):_.clone().iuxor(this)},a.prototype.inotn=function(_){n(typeof _=="number"&&_>=0);var w=Math.ceil(_/26)|0,h=_%26;this._expand(w),h>0&&w--;for(var g=0;g<w;g++)this.words[g]=~this.words[g]&67108863;return h>0&&(this.words[g]=~this.words[g]&67108863>>26-h),this.strip()},a.prototype.notn=function(_){return this.clone().inotn(_)},a.prototype.setn=function(_,w){n(typeof _=="number"&&_>=0);var h=_/26|0,g=_%26;return this._expand(h+1),w?this.words[h]=this.words[h]|1<<g:this.words[h]=this.words[h]&~(1<<g),this.strip()},a.prototype.iadd=function(_){var w;if(this.negative!==0&&_.negative===0)return this.negative=0,w=this.isub(_),this.negative^=1,this._normSign();if(this.negative===0&&_.negative!==0)return _.negative=0,w=this.isub(_),_.negative=1,w._normSign();var h,g;this.length>_.length?(h=this,g=_):(h=_,g=this);for(var M=0,N=0;N<g.length;N++)w=(h.words[N]|0)+(g.words[N]|0)+M,this.words[N]=w&67108863,M=w>>>26;for(;M!==0&&N<h.length;N++)w=(h.words[N]|0)+M,this.words[N]=w&67108863,M=w>>>26;if(this.length=h.length,M!==0)this.words[this.length]=M,this.length++;else if(h!==this)for(;N<h.length;N++)this.words[N]=h.words[N];return this},a.prototype.add=function(_){var w;return _.negative!==0&&this.negative===0?(_.negative=0,w=this.sub(_),_.negative^=1,w):_.negative===0&&this.negative!==0?(this.negative=0,w=_.sub(this),this.negative=1,w):this.length>_.length?this.clone().iadd(_):_.clone().iadd(this)},a.prototype.isub=function(_){if(_.negative!==0){_.negative=0;var w=this.iadd(_);return _.negative=1,w._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(_),this.negative=1,this._normSign();var h=this.cmp(_);if(h===0)return this.negative=0,this.length=1,this.words[0]=0,this;var g,M;h>0?(g=this,M=_):(g=_,M=this);for(var N=0,T=0;T<M.length;T++)w=(g.words[T]|0)-(M.words[T]|0)+N,N=w>>26,this.words[T]=w&67108863;for(;N!==0&&T<g.length;T++)w=(g.words[T]|0)+N,N=w>>26,this.words[T]=w&67108863;if(N===0&&T<g.length&&g!==this)for(;T<g.length;T++)this.words[T]=g.words[T];return this.length=Math.max(this.length,T),g!==this&&(this.negative=1),this.strip()},a.prototype.sub=function(_){return this.clone().isub(_)};function P(W,_,w){w.negative=_.negative^W.negative;var h=W.length+_.length|0;w.length=h,h=h-1|0;var g=W.words[0]|0,M=_.words[0]|0,N=g*M,T=N&67108863,B=N/67108864|0;w.words[0]=T;for(var b=1;b<h;b++){for(var A=B>>>26,y=B&67108863,I=Math.min(b,_.length-1),Q=Math.max(0,b-W.length+1);Q<=I;Q++){var ue=b-Q|0;g=W.words[ue]|0,M=_.words[Q]|0,N=g*M+y,A+=N/67108864|0,y=N&67108863}w.words[b]=y|0,B=A|0}return B!==0?w.words[b]=B|0:w.length--,w.strip()}var j=function(_,w,h){var g=_.words,M=w.words,N=h.words,T=0,B,b,A,y=g[0]|0,I=y&8191,Q=y>>>13,ue=g[1]|0,Z=ue&8191,Y=ue>>>13,se=g[2]|0,de=se&8191,xe=se>>>13,H=g[3]|0,q=H&8191,he=H>>>13,ge=g[4]|0,Ne=ge&8191,K=ge>>>13,C=g[5]|0,R=C&8191,D=C>>>13,ee=g[6]|0,fe=ee&8191,pe=ee>>>13,Ue=g[7]|0,Ae=Ue&8191,qe=Ue>>>13,ae=g[8]|0,te=ae&8191,le=ae>>>13,ke=g[9]|0,be=ke&8191,De=ke>>>13,Re=M[0]|0,Ce=Re&8191,Me=Re>>>13,ot=M[1]|0,Be=ot&8191,ht=ot>>>13,nt=M[2]|0,Ve=nt&8191,wt=nt>>>13,Bt=M[3]|0,Je=Bt&8191,Ot=Bt>>>13,At=M[4]|0,it=At&8191,st=At>>>13,gt=M[5]|0,Ye=gt&8191,Lt=gt>>>13,vt=M[6]|0,Ge=vt&8191,zt=vt>>>13,_t=M[7]|0,tt=_t&8191,Dt=_t>>>13,Kt=M[8]|0,Oe=Kt&8191,qt=Kt>>>13,_e=M[9]|0,Xe=_e&8191,Yt=_e>>>13;h.negative=_.negative^w.negative,h.length=19,B=Math.imul(I,Ce),b=Math.imul(I,Me),b=b+Math.imul(Q,Ce)|0,A=Math.imul(Q,Me);var Xt=(T+B|0)+((b&8191)<<13)|0;T=(A+(b>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,B=Math.imul(Z,Ce),b=Math.imul(Z,Me),b=b+Math.imul(Y,Ce)|0,A=Math.imul(Y,Me),B=B+Math.imul(I,Be)|0,b=b+Math.imul(I,ht)|0,b=b+Math.imul(Q,Be)|0,A=A+Math.imul(Q,ht)|0;var Zt=(T+B|0)+((b&8191)<<13)|0;T=(A+(b>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,B=Math.imul(de,Ce),b=Math.imul(de,Me),b=b+Math.imul(xe,Ce)|0,A=Math.imul(xe,Me),B=B+Math.imul(Z,Be)|0,b=b+Math.imul(Z,ht)|0,b=b+Math.imul(Y,Be)|0,A=A+Math.imul(Y,ht)|0,B=B+Math.imul(I,Ve)|0,b=b+Math.imul(I,wt)|0,b=b+Math.imul(Q,Ve)|0,A=A+Math.imul(Q,wt)|0;var Di=(T+B|0)+((b&8191)<<13)|0;T=(A+(b>>>13)|0)+(Di>>>26)|0,Di&=67108863,B=Math.imul(q,Ce),b=Math.imul(q,Me),b=b+Math.imul(he,Ce)|0,A=Math.imul(he,Me),B=B+Math.imul(de,Be)|0,b=b+Math.imul(de,ht)|0,b=b+Math.imul(xe,Be)|0,A=A+Math.imul(xe,ht)|0,B=B+Math.imul(Z,Ve)|0,b=b+Math.imul(Z,wt)|0,b=b+Math.imul(Y,Ve)|0,A=A+Math.imul(Y,wt)|0,B=B+Math.imul(I,Je)|0,b=b+Math.imul(I,Ot)|0,b=b+Math.imul(Q,Je)|0,A=A+Math.imul(Q,Ot)|0;var pi=(T+B|0)+((b&8191)<<13)|0;T=(A+(b>>>13)|0)+(pi>>>26)|0,pi&=67108863,B=Math.imul(Ne,Ce),b=Math.imul(Ne,Me),b=b+Math.imul(K,Ce)|0,A=Math.imul(K,Me),B=B+Math.imul(q,Be)|0,b=b+Math.imul(q,ht)|0,b=b+Math.imul(he,Be)|0,A=A+Math.imul(he,ht)|0,B=B+Math.imul(de,Ve)|0,b=b+Math.imul(de,wt)|0,b=b+Math.imul(xe,Ve)|0,A=A+Math.imul(xe,wt)|0,B=B+Math.imul(Z,Je)|0,b=b+Math.imul(Z,Ot)|0,b=b+Math.imul(Y,Je)|0,A=A+Math.imul(Y,Ot)|0,B=B+Math.imul(I,it)|0,b=b+Math.imul(I,st)|0,b=b+Math.imul(Q,it)|0,A=A+Math.imul(Q,st)|0;var zn=(T+B|0)+((b&8191)<<13)|0;T=(A+(b>>>13)|0)+(zn>>>26)|0,zn&=67108863,B=Math.imul(R,Ce),b=Math.imul(R,Me),b=b+Math.imul(D,Ce)|0,A=Math.imul(D,Me),B=B+Math.imul(Ne,Be)|0,b=b+Math.imul(Ne,ht)|0,b=b+Math.imul(K,Be)|0,A=A+Math.imul(K,ht)|0,B=B+Math.imul(q,Ve)|0,b=b+Math.imul(q,wt)|0,b=b+Math.imul(he,Ve)|0,A=A+Math.imul(he,wt)|0,B=B+Math.imul(de,Je)|0,b=b+Math.imul(de,Ot)|0,b=b+Math.imul(xe,Je)|0,A=A+Math.imul(xe,Ot)|0,B=B+Math.imul(Z,it)|0,b=b+Math.imul(Z,st)|0,b=b+Math.imul(Y,it)|0,A=A+Math.imul(Y,st)|0,B=B+Math.imul(I,Ye)|0,b=b+Math.imul(I,Lt)|0,b=b+Math.imul(Q,Ye)|0,A=A+Math.imul(Q,Lt)|0;var Wr=(T+B|0)+((b&8191)<<13)|0;T=(A+(b>>>13)|0)+(Wr>>>26)|0,Wr&=67108863,B=Math.imul(fe,Ce),b=Math.imul(fe,Me),b=b+Math.imul(pe,Ce)|0,A=Math.imul(pe,Me),B=B+Math.imul(R,Be)|0,b=b+Math.imul(R,ht)|0,b=b+Math.imul(D,Be)|0,A=A+Math.imul(D,ht)|0,B=B+Math.imul(Ne,Ve)|0,b=b+Math.imul(Ne,wt)|0,b=b+Math.imul(K,Ve)|0,A=A+Math.imul(K,wt)|0,B=B+Math.imul(q,Je)|0,b=b+Math.imul(q,Ot)|0,b=b+Math.imul(he,Je)|0,A=A+Math.imul(he,Ot)|0,B=B+Math.imul(de,it)|0,b=b+Math.imul(de,st)|0,b=b+Math.imul(xe,it)|0,A=A+Math.imul(xe,st)|0,B=B+Math.imul(Z,Ye)|0,b=b+Math.imul(Z,Lt)|0,b=b+Math.imul(Y,Ye)|0,A=A+Math.imul(Y,Lt)|0,B=B+Math.imul(I,Ge)|0,b=b+Math.imul(I,zt)|0,b=b+Math.imul(Q,Ge)|0,A=A+Math.imul(Q,zt)|0;var Vr=(T+B|0)+((b&8191)<<13)|0;T=(A+(b>>>13)|0)+(Vr>>>26)|0,Vr&=67108863,B=Math.imul(Ae,Ce),b=Math.imul(Ae,Me),b=b+Math.imul(qe,Ce)|0,A=Math.imul(qe,Me),B=B+Math.imul(fe,Be)|0,b=b+Math.imul(fe,ht)|0,b=b+Math.imul(pe,Be)|0,A=A+Math.imul(pe,ht)|0,B=B+Math.imul(R,Ve)|0,b=b+Math.imul(R,wt)|0,b=b+Math.imul(D,Ve)|0,A=A+Math.imul(D,wt)|0,B=B+Math.imul(Ne,Je)|0,b=b+Math.imul(Ne,Ot)|0,b=b+Math.imul(K,Je)|0,A=A+Math.imul(K,Ot)|0,B=B+Math.imul(q,it)|0,b=b+Math.imul(q,st)|0,b=b+Math.imul(he,it)|0,A=A+Math.imul(he,st)|0,B=B+Math.imul(de,Ye)|0,b=b+Math.imul(de,Lt)|0,b=b+Math.imul(xe,Ye)|0,A=A+Math.imul(xe,Lt)|0,B=B+Math.imul(Z,Ge)|0,b=b+Math.imul(Z,zt)|0,b=b+Math.imul(Y,Ge)|0,A=A+Math.imul(Y,zt)|0,B=B+Math.imul(I,tt)|0,b=b+Math.imul(I,Dt)|0,b=b+Math.imul(Q,tt)|0,A=A+Math.imul(Q,Dt)|0;var Kn=(T+B|0)+((b&8191)<<13)|0;T=(A+(b>>>13)|0)+(Kn>>>26)|0,Kn&=67108863,B=Math.imul(te,Ce),b=Math.imul(te,Me),b=b+Math.imul(le,Ce)|0,A=Math.imul(le,Me),B=B+Math.imul(Ae,Be)|0,b=b+Math.imul(Ae,ht)|0,b=b+Math.imul(qe,Be)|0,A=A+Math.imul(qe,ht)|0,B=B+Math.imul(fe,Ve)|0,b=b+Math.imul(fe,wt)|0,b=b+Math.imul(pe,Ve)|0,A=A+Math.imul(pe,wt)|0,B=B+Math.imul(R,Je)|0,b=b+Math.imul(R,Ot)|0,b=b+Math.imul(D,Je)|0,A=A+Math.imul(D,Ot)|0,B=B+Math.imul(Ne,it)|0,b=b+Math.imul(Ne,st)|0,b=b+Math.imul(K,it)|0,A=A+Math.imul(K,st)|0,B=B+Math.imul(q,Ye)|0,b=b+Math.imul(q,Lt)|0,b=b+Math.imul(he,Ye)|0,A=A+Math.imul(he,Lt)|0,B=B+Math.imul(de,Ge)|0,b=b+Math.imul(de,zt)|0,b=b+Math.imul(xe,Ge)|0,A=A+Math.imul(xe,zt)|0,B=B+Math.imul(Z,tt)|0,b=b+Math.imul(Z,Dt)|0,b=b+Math.imul(Y,tt)|0,A=A+Math.imul(Y,Dt)|0,B=B+Math.imul(I,Oe)|0,b=b+Math.imul(I,qt)|0,b=b+Math.imul(Q,Oe)|0,A=A+Math.imul(Q,qt)|0;var Ui=(T+B|0)+((b&8191)<<13)|0;T=(A+(b>>>13)|0)+(Ui>>>26)|0,Ui&=67108863,B=Math.imul(be,Ce),b=Math.imul(be,Me),b=b+Math.imul(De,Ce)|0,A=Math.imul(De,Me),B=B+Math.imul(te,Be)|0,b=b+Math.imul(te,ht)|0,b=b+Math.imul(le,Be)|0,A=A+Math.imul(le,ht)|0,B=B+Math.imul(Ae,Ve)|0,b=b+Math.imul(Ae,wt)|0,b=b+Math.imul(qe,Ve)|0,A=A+Math.imul(qe,wt)|0,B=B+Math.imul(fe,Je)|0,b=b+Math.imul(fe,Ot)|0,b=b+Math.imul(pe,Je)|0,A=A+Math.imul(pe,Ot)|0,B=B+Math.imul(R,it)|0,b=b+Math.imul(R,st)|0,b=b+Math.imul(D,it)|0,A=A+Math.imul(D,st)|0,B=B+Math.imul(Ne,Ye)|0,b=b+Math.imul(Ne,Lt)|0,b=b+Math.imul(K,Ye)|0,A=A+Math.imul(K,Lt)|0,B=B+Math.imul(q,Ge)|0,b=b+Math.imul(q,zt)|0,b=b+Math.imul(he,Ge)|0,A=A+Math.imul(he,zt)|0,B=B+Math.imul(de,tt)|0,b=b+Math.imul(de,Dt)|0,b=b+Math.imul(xe,tt)|0,A=A+Math.imul(xe,Dt)|0,B=B+Math.imul(Z,Oe)|0,b=b+Math.imul(Z,qt)|0,b=b+Math.imul(Y,Oe)|0,A=A+Math.imul(Y,qt)|0,B=B+Math.imul(I,Xe)|0,b=b+Math.imul(I,Yt)|0,b=b+Math.imul(Q,Xe)|0,A=A+Math.imul(Q,Yt)|0;var ji=(T+B|0)+((b&8191)<<13)|0;T=(A+(b>>>13)|0)+(ji>>>26)|0,ji&=67108863,B=Math.imul(be,Be),b=Math.imul(be,ht),b=b+Math.imul(De,Be)|0,A=Math.imul(De,ht),B=B+Math.imul(te,Ve)|0,b=b+Math.imul(te,wt)|0,b=b+Math.imul(le,Ve)|0,A=A+Math.imul(le,wt)|0,B=B+Math.imul(Ae,Je)|0,b=b+Math.imul(Ae,Ot)|0,b=b+Math.imul(qe,Je)|0,A=A+Math.imul(qe,Ot)|0,B=B+Math.imul(fe,it)|0,b=b+Math.imul(fe,st)|0,b=b+Math.imul(pe,it)|0,A=A+Math.imul(pe,st)|0,B=B+Math.imul(R,Ye)|0,b=b+Math.imul(R,Lt)|0,b=b+Math.imul(D,Ye)|0,A=A+Math.imul(D,Lt)|0,B=B+Math.imul(Ne,Ge)|0,b=b+Math.imul(Ne,zt)|0,b=b+Math.imul(K,Ge)|0,A=A+Math.imul(K,zt)|0,B=B+Math.imul(q,tt)|0,b=b+Math.imul(q,Dt)|0,b=b+Math.imul(he,tt)|0,A=A+Math.imul(he,Dt)|0,B=B+Math.imul(de,Oe)|0,b=b+Math.imul(de,qt)|0,b=b+Math.imul(xe,Oe)|0,A=A+Math.imul(xe,qt)|0,B=B+Math.imul(Z,Xe)|0,b=b+Math.imul(Z,Yt)|0,b=b+Math.imul(Y,Xe)|0,A=A+Math.imul(Y,Yt)|0;var ba=(T+B|0)+((b&8191)<<13)|0;T=(A+(b>>>13)|0)+(ba>>>26)|0,ba&=67108863,B=Math.imul(be,Ve),b=Math.imul(be,wt),b=b+Math.imul(De,Ve)|0,A=Math.imul(De,wt),B=B+Math.imul(te,Je)|0,b=b+Math.imul(te,Ot)|0,b=b+Math.imul(le,Je)|0,A=A+Math.imul(le,Ot)|0,B=B+Math.imul(Ae,it)|0,b=b+Math.imul(Ae,st)|0,b=b+Math.imul(qe,it)|0,A=A+Math.imul(qe,st)|0,B=B+Math.imul(fe,Ye)|0,b=b+Math.imul(fe,Lt)|0,b=b+Math.imul(pe,Ye)|0,A=A+Math.imul(pe,Lt)|0,B=B+Math.imul(R,Ge)|0,b=b+Math.imul(R,zt)|0,b=b+Math.imul(D,Ge)|0,A=A+Math.imul(D,zt)|0,B=B+Math.imul(Ne,tt)|0,b=b+Math.imul(Ne,Dt)|0,b=b+Math.imul(K,tt)|0,A=A+Math.imul(K,Dt)|0,B=B+Math.imul(q,Oe)|0,b=b+Math.imul(q,qt)|0,b=b+Math.imul(he,Oe)|0,A=A+Math.imul(he,qt)|0,B=B+Math.imul(de,Xe)|0,b=b+Math.imul(de,Yt)|0,b=b+Math.imul(xe,Xe)|0,A=A+Math.imul(xe,Yt)|0;var wa=(T+B|0)+((b&8191)<<13)|0;T=(A+(b>>>13)|0)+(wa>>>26)|0,wa&=67108863,B=Math.imul(be,Je),b=Math.imul(be,Ot),b=b+Math.imul(De,Je)|0,A=Math.imul(De,Ot),B=B+Math.imul(te,it)|0,b=b+Math.imul(te,st)|0,b=b+Math.imul(le,it)|0,A=A+Math.imul(le,st)|0,B=B+Math.imul(Ae,Ye)|0,b=b+Math.imul(Ae,Lt)|0,b=b+Math.imul(qe,Ye)|0,A=A+Math.imul(qe,Lt)|0,B=B+Math.imul(fe,Ge)|0,b=b+Math.imul(fe,zt)|0,b=b+Math.imul(pe,Ge)|0,A=A+Math.imul(pe,zt)|0,B=B+Math.imul(R,tt)|0,b=b+Math.imul(R,Dt)|0,b=b+Math.imul(D,tt)|0,A=A+Math.imul(D,Dt)|0,B=B+Math.imul(Ne,Oe)|0,b=b+Math.imul(Ne,qt)|0,b=b+Math.imul(K,Oe)|0,A=A+Math.imul(K,qt)|0,B=B+Math.imul(q,Xe)|0,b=b+Math.imul(q,Yt)|0,b=b+Math.imul(he,Xe)|0,A=A+Math.imul(he,Yt)|0;var Cn=(T+B|0)+((b&8191)<<13)|0;T=(A+(b>>>13)|0)+(Cn>>>26)|0,Cn&=67108863,B=Math.imul(be,it),b=Math.imul(be,st),b=b+Math.imul(De,it)|0,A=Math.imul(De,st),B=B+Math.imul(te,Ye)|0,b=b+Math.imul(te,Lt)|0,b=b+Math.imul(le,Ye)|0,A=A+Math.imul(le,Lt)|0,B=B+Math.imul(Ae,Ge)|0,b=b+Math.imul(Ae,zt)|0,b=b+Math.imul(qe,Ge)|0,A=A+Math.imul(qe,zt)|0,B=B+Math.imul(fe,tt)|0,b=b+Math.imul(fe,Dt)|0,b=b+Math.imul(pe,tt)|0,A=A+Math.imul(pe,Dt)|0,B=B+Math.imul(R,Oe)|0,b=b+Math.imul(R,qt)|0,b=b+Math.imul(D,Oe)|0,A=A+Math.imul(D,qt)|0,B=B+Math.imul(Ne,Xe)|0,b=b+Math.imul(Ne,Yt)|0,b=b+Math.imul(K,Xe)|0,A=A+Math.imul(K,Yt)|0;var qn=(T+B|0)+((b&8191)<<13)|0;T=(A+(b>>>13)|0)+(qn>>>26)|0,qn&=67108863,B=Math.imul(be,Ye),b=Math.imul(be,Lt),b=b+Math.imul(De,Ye)|0,A=Math.imul(De,Lt),B=B+Math.imul(te,Ge)|0,b=b+Math.imul(te,zt)|0,b=b+Math.imul(le,Ge)|0,A=A+Math.imul(le,zt)|0,B=B+Math.imul(Ae,tt)|0,b=b+Math.imul(Ae,Dt)|0,b=b+Math.imul(qe,tt)|0,A=A+Math.imul(qe,Dt)|0,B=B+Math.imul(fe,Oe)|0,b=b+Math.imul(fe,qt)|0,b=b+Math.imul(pe,Oe)|0,A=A+Math.imul(pe,qt)|0,B=B+Math.imul(R,Xe)|0,b=b+Math.imul(R,Yt)|0,b=b+Math.imul(D,Xe)|0,A=A+Math.imul(D,Yt)|0;var Bn=(T+B|0)+((b&8191)<<13)|0;T=(A+(b>>>13)|0)+(Bn>>>26)|0,Bn&=67108863,B=Math.imul(be,Ge),b=Math.imul(be,zt),b=b+Math.imul(De,Ge)|0,A=Math.imul(De,zt),B=B+Math.imul(te,tt)|0,b=b+Math.imul(te,Dt)|0,b=b+Math.imul(le,tt)|0,A=A+Math.imul(le,Dt)|0,B=B+Math.imul(Ae,Oe)|0,b=b+Math.imul(Ae,qt)|0,b=b+Math.imul(qe,Oe)|0,A=A+Math.imul(qe,qt)|0,B=B+Math.imul(fe,Xe)|0,b=b+Math.imul(fe,Yt)|0,b=b+Math.imul(pe,Xe)|0,A=A+Math.imul(pe,Yt)|0;var Fi=(T+B|0)+((b&8191)<<13)|0;T=(A+(b>>>13)|0)+(Fi>>>26)|0,Fi&=67108863,B=Math.imul(be,tt),b=Math.imul(be,Dt),b=b+Math.imul(De,tt)|0,A=Math.imul(De,Dt),B=B+Math.imul(te,Oe)|0,b=b+Math.imul(te,qt)|0,b=b+Math.imul(le,Oe)|0,A=A+Math.imul(le,qt)|0,B=B+Math.imul(Ae,Xe)|0,b=b+Math.imul(Ae,Yt)|0,b=b+Math.imul(qe,Xe)|0,A=A+Math.imul(qe,Yt)|0;var _a=(T+B|0)+((b&8191)<<13)|0;T=(A+(b>>>13)|0)+(_a>>>26)|0,_a&=67108863,B=Math.imul(be,Oe),b=Math.imul(be,qt),b=b+Math.imul(De,Oe)|0,A=Math.imul(De,qt),B=B+Math.imul(te,Xe)|0,b=b+Math.imul(te,Yt)|0,b=b+Math.imul(le,Xe)|0,A=A+Math.imul(le,Yt)|0;var xa=(T+B|0)+((b&8191)<<13)|0;T=(A+(b>>>13)|0)+(xa>>>26)|0,xa&=67108863,B=Math.imul(be,Xe),b=Math.imul(be,Yt),b=b+Math.imul(De,Xe)|0,A=Math.imul(De,Yt);var Sa=(T+B|0)+((b&8191)<<13)|0;return T=(A+(b>>>13)|0)+(Sa>>>26)|0,Sa&=67108863,N[0]=Xt,N[1]=Zt,N[2]=Di,N[3]=pi,N[4]=zn,N[5]=Wr,N[6]=Vr,N[7]=Kn,N[8]=Ui,N[9]=ji,N[10]=ba,N[11]=wa,N[12]=Cn,N[13]=qn,N[14]=Bn,N[15]=Fi,N[16]=_a,N[17]=xa,N[18]=Sa,T!==0&&(N[19]=T,h.length++),h};Math.imul||(j=P);function U(W,_,w){w.negative=_.negative^W.negative,w.length=W.length+_.length;for(var h=0,g=0,M=0;M<w.length-1;M++){var N=g;g=0;for(var T=h&67108863,B=Math.min(M,_.length-1),b=Math.max(0,M-W.length+1);b<=B;b++){var A=M-b,y=W.words[A]|0,I=_.words[b]|0,Q=y*I,ue=Q&67108863;N=N+(Q/67108864|0)|0,ue=ue+T|0,T=ue&67108863,N=N+(ue>>>26)|0,g+=N>>>26,N&=67108863}w.words[M]=T,h=N,N=g}return h!==0?w.words[M]=h:w.length--,w.strip()}function O(W,_,w){var h=new L;return h.mulp(W,_,w)}a.prototype.mulTo=function(_,w){var h,g=this.length+_.length;return this.length===10&&_.length===10?h=j(this,_,w):g<63?h=P(this,_,w):g<1024?h=U(this,_,w):h=O(this,_,w),h};function L(W,_){this.x=W,this.y=_}L.prototype.makeRBT=function(_){for(var w=new Array(_),h=a.prototype._countBits(_)-1,g=0;g<_;g++)w[g]=this.revBin(g,h,_);return w},L.prototype.revBin=function(_,w,h){if(_===0||_===h-1)return _;for(var g=0,M=0;M<w;M++)g|=(_&1)<<w-M-1,_>>=1;return g},L.prototype.permute=function(_,w,h,g,M,N){for(var T=0;T<N;T++)g[T]=w[_[T]],M[T]=h[_[T]]},L.prototype.transform=function(_,w,h,g,M,N){this.permute(N,_,w,h,g,M);for(var T=1;T<M;T<<=1)for(var B=T<<1,b=Math.cos(2*Math.PI/B),A=Math.sin(2*Math.PI/B),y=0;y<M;y+=B)for(var I=b,Q=A,ue=0;ue<T;ue++){var Z=h[y+ue],Y=g[y+ue],se=h[y+ue+T],de=g[y+ue+T],xe=I*se-Q*de;de=I*de+Q*se,se=xe,h[y+ue]=Z+se,g[y+ue]=Y+de,h[y+ue+T]=Z-se,g[y+ue+T]=Y-de,ue!==B&&(xe=b*I-A*Q,Q=b*Q+A*I,I=xe)}},L.prototype.guessLen13b=function(_,w){var h=Math.max(w,_)|1,g=h&1,M=0;for(h=h/2|0;h;h=h>>>1)M++;return 1<<M+1+g},L.prototype.conjugate=function(_,w,h){if(!(h<=1))for(var g=0;g<h/2;g++){var M=_[g];_[g]=_[h-g-1],_[h-g-1]=M,M=w[g],w[g]=-w[h-g-1],w[h-g-1]=-M}},L.prototype.normalize13b=function(_,w){for(var h=0,g=0;g<w/2;g++){var M=Math.round(_[2*g+1]/w)*8192+Math.round(_[2*g]/w)+h;_[g]=M&67108863,M<67108864?h=0:h=M/67108864|0}return _},L.prototype.convert13b=function(_,w,h,g){for(var M=0,N=0;N<w;N++)M=M+(_[N]|0),h[2*N]=M&8191,M=M>>>13,h[2*N+1]=M&8191,M=M>>>13;for(N=2*w;N<g;++N)h[N]=0;n(M===0),n((M&-8192)===0)},L.prototype.stub=function(_){for(var w=new Array(_),h=0;h<_;h++)w[h]=0;return w},L.prototype.mulp=function(_,w,h){var g=2*this.guessLen13b(_.length,w.length),M=this.makeRBT(g),N=this.stub(g),T=new Array(g),B=new Array(g),b=new Array(g),A=new Array(g),y=new Array(g),I=new Array(g),Q=h.words;Q.length=g,this.convert13b(_.words,_.length,T,g),this.convert13b(w.words,w.length,A,g),this.transform(T,N,B,b,g,M),this.transform(A,N,y,I,g,M);for(var ue=0;ue<g;ue++){var Z=B[ue]*y[ue]-b[ue]*I[ue];b[ue]=B[ue]*I[ue]+b[ue]*y[ue],B[ue]=Z}return this.conjugate(B,b,g),this.transform(B,b,Q,N,g,M),this.conjugate(Q,N,g),this.normalize13b(Q,g),h.negative=_.negative^w.negative,h.length=_.length+w.length,h.strip()},a.prototype.mul=function(_){var w=new a(null);return w.words=new Array(this.length+_.length),this.mulTo(_,w)},a.prototype.mulf=function(_){var w=new a(null);return w.words=new Array(this.length+_.length),O(this,_,w)},a.prototype.imul=function(_){return this.clone().mulTo(_,this)},a.prototype.imuln=function(_){n(typeof _=="number"),n(_<67108864);for(var w=0,h=0;h<this.length;h++){var g=(this.words[h]|0)*_,M=(g&67108863)+(w&67108863);w>>=26,w+=g/67108864|0,w+=M>>>26,this.words[h]=M&67108863}return w!==0&&(this.words[h]=w,this.length++),this},a.prototype.muln=function(_){return this.clone().imuln(_)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(_){var w=S(_);if(w.length===0)return new a(1);for(var h=this,g=0;g<w.length&&w[g]===0;g++,h=h.sqr());if(++g<w.length)for(var M=h.sqr();g<w.length;g++,M=M.sqr())w[g]!==0&&(h=h.mul(M));return h},a.prototype.iushln=function(_){n(typeof _=="number"&&_>=0);var w=_%26,h=(_-w)/26,g=67108863>>>26-w<<26-w,M;if(w!==0){var N=0;for(M=0;M<this.length;M++){var T=this.words[M]&g,B=(this.words[M]|0)-T<<w;this.words[M]=B|N,N=T>>>26-w}N&&(this.words[M]=N,this.length++)}if(h!==0){for(M=this.length-1;M>=0;M--)this.words[M+h]=this.words[M];for(M=0;M<h;M++)this.words[M]=0;this.length+=h}return this.strip()},a.prototype.ishln=function(_){return n(this.negative===0),this.iushln(_)},a.prototype.iushrn=function(_,w,h){n(typeof _=="number"&&_>=0);var g;w?g=(w-w%26)/26:g=0;var M=_%26,N=Math.min((_-M)/26,this.length),T=67108863^67108863>>>M<<M,B=h;if(g-=N,g=Math.max(0,g),B){for(var b=0;b<N;b++)B.words[b]=this.words[b];B.length=N}if(N!==0)if(this.length>N)for(this.length-=N,b=0;b<this.length;b++)this.words[b]=this.words[b+N];else this.words[0]=0,this.length=1;var A=0;for(b=this.length-1;b>=0&&(A!==0||b>=g);b--){var y=this.words[b]|0;this.words[b]=A<<26-M|y>>>M,A=y&T}return B&&A!==0&&(B.words[B.length++]=A),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},a.prototype.ishrn=function(_,w,h){return n(this.negative===0),this.iushrn(_,w,h)},a.prototype.shln=function(_){return this.clone().ishln(_)},a.prototype.ushln=function(_){return this.clone().iushln(_)},a.prototype.shrn=function(_){return this.clone().ishrn(_)},a.prototype.ushrn=function(_){return this.clone().iushrn(_)},a.prototype.testn=function(_){n(typeof _=="number"&&_>=0);var w=_%26,h=(_-w)/26,g=1<<w;if(this.length<=h)return!1;var M=this.words[h];return!!(M&g)},a.prototype.imaskn=function(_){n(typeof _=="number"&&_>=0);var w=_%26,h=(_-w)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=h)return this;if(w!==0&&h++,this.length=Math.min(h,this.length),w!==0){var g=67108863^67108863>>>w<<w;this.words[this.length-1]&=g}return this.strip()},a.prototype.maskn=function(_){return this.clone().imaskn(_)},a.prototype.iaddn=function(_){return n(typeof _=="number"),n(_<67108864),_<0?this.isubn(-_):this.negative!==0?this.length===1&&(this.words[0]|0)<_?(this.words[0]=_-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(_),this.negative=1,this):this._iaddn(_)},a.prototype._iaddn=function(_){this.words[0]+=_;for(var w=0;w<this.length&&this.words[w]>=67108864;w++)this.words[w]-=67108864,w===this.length-1?this.words[w+1]=1:this.words[w+1]++;return this.length=Math.max(this.length,w+1),this},a.prototype.isubn=function(_){if(n(typeof _=="number"),n(_<67108864),_<0)return this.iaddn(-_);if(this.negative!==0)return this.negative=0,this.iaddn(_),this.negative=1,this;if(this.words[0]-=_,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var w=0;w<this.length&&this.words[w]<0;w++)this.words[w]+=67108864,this.words[w+1]-=1;return this.strip()},a.prototype.addn=function(_){return this.clone().iaddn(_)},a.prototype.subn=function(_){return this.clone().isubn(_)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(_,w,h){var g=_.length+h,M;this._expand(g);var N,T=0;for(M=0;M<_.length;M++){N=(this.words[M+h]|0)+T;var B=(_.words[M]|0)*w;N-=B&67108863,T=(N>>26)-(B/67108864|0),this.words[M+h]=N&67108863}for(;M<this.length-h;M++)N=(this.words[M+h]|0)+T,T=N>>26,this.words[M+h]=N&67108863;if(T===0)return this.strip();for(n(T===-1),T=0,M=0;M<this.length;M++)N=-(this.words[M]|0)+T,T=N>>26,this.words[M]=N&67108863;return this.negative=1,this.strip()},a.prototype._wordDiv=function(_,w){var h=this.length-_.length,g=this.clone(),M=_,N=M.words[M.length-1]|0,T=this._countBits(N);h=26-T,h!==0&&(M=M.ushln(h),g.iushln(h),N=M.words[M.length-1]|0);var B=g.length-M.length,b;if(w!=="mod"){b=new a(null),b.length=B+1,b.words=new Array(b.length);for(var A=0;A<b.length;A++)b.words[A]=0}var y=g.clone()._ishlnsubmul(M,1,B);y.negative===0&&(g=y,b&&(b.words[B]=1));for(var I=B-1;I>=0;I--){var Q=(g.words[M.length+I]|0)*67108864+(g.words[M.length+I-1]|0);for(Q=Math.min(Q/N|0,67108863),g._ishlnsubmul(M,Q,I);g.negative!==0;)Q--,g.negative=0,g._ishlnsubmul(M,1,I),g.isZero()||(g.negative^=1);b&&(b.words[I]=Q)}return b&&b.strip(),g.strip(),w!=="div"&&h!==0&&g.iushrn(h),{div:b||null,mod:g}},a.prototype.divmod=function(_,w,h){if(n(!_.isZero()),this.isZero())return{div:new a(0),mod:new a(0)};var g,M,N;return this.negative!==0&&_.negative===0?(N=this.neg().divmod(_,w),w!=="mod"&&(g=N.div.neg()),w!=="div"&&(M=N.mod.neg(),h&&M.negative!==0&&M.iadd(_)),{div:g,mod:M}):this.negative===0&&_.negative!==0?(N=this.divmod(_.neg(),w),w!=="mod"&&(g=N.div.neg()),{div:g,mod:N.mod}):this.negative&_.negative?(N=this.neg().divmod(_.neg(),w),w!=="div"&&(M=N.mod.neg(),h&&M.negative!==0&&M.isub(_)),{div:N.div,mod:M}):_.length>this.length||this.cmp(_)<0?{div:new a(0),mod:this}:_.length===1?w==="div"?{div:this.divn(_.words[0]),mod:null}:w==="mod"?{div:null,mod:new a(this.modn(_.words[0]))}:{div:this.divn(_.words[0]),mod:new a(this.modn(_.words[0]))}:this._wordDiv(_,w)},a.prototype.div=function(_){return this.divmod(_,"div",!1).div},a.prototype.mod=function(_){return this.divmod(_,"mod",!1).mod},a.prototype.umod=function(_){return this.divmod(_,"mod",!0).mod},a.prototype.divRound=function(_){var w=this.divmod(_);if(w.mod.isZero())return w.div;var h=w.div.negative!==0?w.mod.isub(_):w.mod,g=_.ushrn(1),M=_.andln(1),N=h.cmp(g);return N<0||M===1&&N===0?w.div:w.div.negative!==0?w.div.isubn(1):w.div.iaddn(1)},a.prototype.modn=function(_){n(_<=67108863);for(var w=(1<<26)%_,h=0,g=this.length-1;g>=0;g--)h=(w*h+(this.words[g]|0))%_;return h},a.prototype.idivn=function(_){n(_<=67108863);for(var w=0,h=this.length-1;h>=0;h--){var g=(this.words[h]|0)+w*67108864;this.words[h]=g/_|0,w=g%_}return this.strip()},a.prototype.divn=function(_){return this.clone().idivn(_)},a.prototype.egcd=function(_){n(_.negative===0),n(!_.isZero());var w=this,h=_.clone();w.negative!==0?w=w.umod(_):w=w.clone();for(var g=new a(1),M=new a(0),N=new a(0),T=new a(1),B=0;w.isEven()&&h.isEven();)w.iushrn(1),h.iushrn(1),++B;for(var b=h.clone(),A=w.clone();!w.isZero();){for(var y=0,I=1;!(w.words[0]&I)&&y<26;++y,I<<=1);if(y>0)for(w.iushrn(y);y-- >0;)(g.isOdd()||M.isOdd())&&(g.iadd(b),M.isub(A)),g.iushrn(1),M.iushrn(1);for(var Q=0,ue=1;!(h.words[0]&ue)&&Q<26;++Q,ue<<=1);if(Q>0)for(h.iushrn(Q);Q-- >0;)(N.isOdd()||T.isOdd())&&(N.iadd(b),T.isub(A)),N.iushrn(1),T.iushrn(1);w.cmp(h)>=0?(w.isub(h),g.isub(N),M.isub(T)):(h.isub(w),N.isub(g),T.isub(M))}return{a:N,b:T,gcd:h.iushln(B)}},a.prototype._invmp=function(_){n(_.negative===0),n(!_.isZero());var w=this,h=_.clone();w.negative!==0?w=w.umod(_):w=w.clone();for(var g=new a(1),M=new a(0),N=h.clone();w.cmpn(1)>0&&h.cmpn(1)>0;){for(var T=0,B=1;!(w.words[0]&B)&&T<26;++T,B<<=1);if(T>0)for(w.iushrn(T);T-- >0;)g.isOdd()&&g.iadd(N),g.iushrn(1);for(var b=0,A=1;!(h.words[0]&A)&&b<26;++b,A<<=1);if(b>0)for(h.iushrn(b);b-- >0;)M.isOdd()&&M.iadd(N),M.iushrn(1);w.cmp(h)>=0?(w.isub(h),g.isub(M)):(h.isub(w),M.isub(g))}var y;return w.cmpn(1)===0?y=g:y=M,y.cmpn(0)<0&&y.iadd(_),y},a.prototype.gcd=function(_){if(this.isZero())return _.abs();if(_.isZero())return this.abs();var w=this.clone(),h=_.clone();w.negative=0,h.negative=0;for(var g=0;w.isEven()&&h.isEven();g++)w.iushrn(1),h.iushrn(1);do{for(;w.isEven();)w.iushrn(1);for(;h.isEven();)h.iushrn(1);var M=w.cmp(h);if(M<0){var N=w;w=h,h=N}else if(M===0||h.cmpn(1)===0)break;w.isub(h)}while(!0);return h.iushln(g)},a.prototype.invm=function(_){return this.egcd(_).a.umod(_)},a.prototype.isEven=function(){return(this.words[0]&1)===0},a.prototype.isOdd=function(){return(this.words[0]&1)===1},a.prototype.andln=function(_){return this.words[0]&_},a.prototype.bincn=function(_){n(typeof _=="number");var w=_%26,h=(_-w)/26,g=1<<w;if(this.length<=h)return this._expand(h+1),this.words[h]|=g,this;for(var M=g,N=h;M!==0&&N<this.length;N++){var T=this.words[N]|0;T+=M,M=T>>>26,T&=67108863,this.words[N]=T}return M!==0&&(this.words[N]=M,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(_){var w=_<0;if(this.negative!==0&&!w)return-1;if(this.negative===0&&w)return 1;this.strip();var h;if(this.length>1)h=1;else{w&&(_=-_),n(_<=67108863,"Number is too big");var g=this.words[0]|0;h=g===_?0:g<_?-1:1}return this.negative!==0?-h|0:h},a.prototype.cmp=function(_){if(this.negative!==0&&_.negative===0)return-1;if(this.negative===0&&_.negative!==0)return 1;var w=this.ucmp(_);return this.negative!==0?-w|0:w},a.prototype.ucmp=function(_){if(this.length>_.length)return 1;if(this.length<_.length)return-1;for(var w=0,h=this.length-1;h>=0;h--){var g=this.words[h]|0,M=_.words[h]|0;if(g!==M){g<M?w=-1:g>M&&(w=1);break}}return w},a.prototype.gtn=function(_){return this.cmpn(_)===1},a.prototype.gt=function(_){return this.cmp(_)===1},a.prototype.gten=function(_){return this.cmpn(_)>=0},a.prototype.gte=function(_){return this.cmp(_)>=0},a.prototype.ltn=function(_){return this.cmpn(_)===-1},a.prototype.lt=function(_){return this.cmp(_)===-1},a.prototype.lten=function(_){return this.cmpn(_)<=0},a.prototype.lte=function(_){return this.cmp(_)<=0},a.prototype.eqn=function(_){return this.cmpn(_)===0},a.prototype.eq=function(_){return this.cmp(_)===0},a.red=function(_){return new ce(_)},a.prototype.toRed=function(_){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),_.convertTo(this)._forceRed(_)},a.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(_){return this.red=_,this},a.prototype.forceRed=function(_){return n(!this.red,"Already a number in reduction context"),this._forceRed(_)},a.prototype.redAdd=function(_){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,_)},a.prototype.redIAdd=function(_){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,_)},a.prototype.redSub=function(_){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,_)},a.prototype.redISub=function(_){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,_)},a.prototype.redShl=function(_){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,_)},a.prototype.redMul=function(_){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,_),this.red.mul(this,_)},a.prototype.redIMul=function(_){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,_),this.red.imul(this,_)},a.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(_){return n(this.red&&!_.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,_)};var z={k256:null,p224:null,p192:null,p25519:null};function G(W,_){this.name=W,this.p=new a(_,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}G.prototype._tmp=function(){var _=new a(null);return _.words=new Array(Math.ceil(this.n/13)),_},G.prototype.ireduce=function(_){var w=_,h;do this.split(w,this.tmp),w=this.imulK(w),w=w.iadd(this.tmp),h=w.bitLength();while(h>this.n);var g=h<this.n?-1:w.ucmp(this.p);return g===0?(w.words[0]=0,w.length=1):g>0?w.isub(this.p):w.strip!==void 0?w.strip():w._strip(),w},G.prototype.split=function(_,w){_.iushrn(this.n,0,w)},G.prototype.imulK=function(_){return _.imul(this.k)};function J(){G.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(J,G),J.prototype.split=function(_,w){for(var h=4194303,g=Math.min(_.length,9),M=0;M<g;M++)w.words[M]=_.words[M];if(w.length=g,_.length<=9){_.words[0]=0,_.length=1;return}var N=_.words[9];for(w.words[w.length++]=N&h,M=10;M<_.length;M++){var T=_.words[M]|0;_.words[M-10]=(T&h)<<4|N>>>22,N=T}N>>>=22,_.words[M-10]=N,N===0&&_.length>10?_.length-=10:_.length-=9},J.prototype.imulK=function(_){_.words[_.length]=0,_.words[_.length+1]=0,_.length+=2;for(var w=0,h=0;h<_.length;h++){var g=_.words[h]|0;w+=g*977,_.words[h]=w&67108863,w=g*64+(w/67108864|0)}return _.words[_.length-1]===0&&(_.length--,_.words[_.length-1]===0&&_.length--),_};function ne(){G.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(ne,G);function ie(){G.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(ie,G);function re(){G.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(re,G),re.prototype.imulK=function(_){for(var w=0,h=0;h<_.length;h++){var g=(_.words[h]|0)*19+w,M=g&67108863;g>>>=26,_.words[h]=M,w=g}return w!==0&&(_.words[_.length++]=w),_},a._prime=function(_){if(z[_])return z[_];var w;if(_==="k256")w=new J;else if(_==="p224")w=new ne;else if(_==="p192")w=new ie;else if(_==="p25519")w=new re;else throw new Error("Unknown prime "+_);return z[_]=w,w};function ce(W){if(typeof W=="string"){var _=a._prime(W);this.m=_.p,this.prime=_}else n(W.gtn(1),"modulus must be greater than 1"),this.m=W,this.prime=null}ce.prototype._verify1=function(_){n(_.negative===0,"red works only with positives"),n(_.red,"red works only with red numbers")},ce.prototype._verify2=function(_,w){n((_.negative|w.negative)===0,"red works only with positives"),n(_.red&&_.red===w.red,"red works only with red numbers")},ce.prototype.imod=function(_){return this.prime?this.prime.ireduce(_)._forceRed(this):_.umod(this.m)._forceRed(this)},ce.prototype.neg=function(_){return _.isZero()?_.clone():this.m.sub(_)._forceRed(this)},ce.prototype.add=function(_,w){this._verify2(_,w);var h=_.add(w);return h.cmp(this.m)>=0&&h.isub(this.m),h._forceRed(this)},ce.prototype.iadd=function(_,w){this._verify2(_,w);var h=_.iadd(w);return h.cmp(this.m)>=0&&h.isub(this.m),h},ce.prototype.sub=function(_,w){this._verify2(_,w);var h=_.sub(w);return h.cmpn(0)<0&&h.iadd(this.m),h._forceRed(this)},ce.prototype.isub=function(_,w){this._verify2(_,w);var h=_.isub(w);return h.cmpn(0)<0&&h.iadd(this.m),h},ce.prototype.shl=function(_,w){return this._verify1(_),this.imod(_.ushln(w))},ce.prototype.imul=function(_,w){return this._verify2(_,w),this.imod(_.imul(w))},ce.prototype.mul=function(_,w){return this._verify2(_,w),this.imod(_.mul(w))},ce.prototype.isqr=function(_){return this.imul(_,_.clone())},ce.prototype.sqr=function(_){return this.mul(_,_)},ce.prototype.sqrt=function(_){if(_.isZero())return _.clone();var w=this.m.andln(3);if(n(w%2===1),w===3){var h=this.m.add(new a(1)).iushrn(2);return this.pow(_,h)}for(var g=this.m.subn(1),M=0;!g.isZero()&&g.andln(1)===0;)M++,g.iushrn(1);n(!g.isZero());var N=new a(1).toRed(this),T=N.redNeg(),B=this.m.subn(1).iushrn(1),b=this.m.bitLength();for(b=new a(2*b*b).toRed(this);this.pow(b,B).cmp(T)!==0;)b.redIAdd(T);for(var A=this.pow(b,g),y=this.pow(_,g.addn(1).iushrn(1)),I=this.pow(_,g),Q=M;I.cmp(N)!==0;){for(var ue=I,Z=0;ue.cmp(N)!==0;Z++)ue=ue.redSqr();n(Z<Q);var Y=this.pow(A,new a(1).iushln(Q-Z-1));y=y.redMul(Y),A=Y.redSqr(),I=I.redMul(A),Q=Z}return y},ce.prototype.invm=function(_){var w=_._invmp(this.m);return w.negative!==0?(w.negative=0,this.imod(w).redNeg()):this.imod(w)},ce.prototype.pow=function(_,w){if(w.isZero())return new a(1).toRed(this);if(w.cmpn(1)===0)return _.clone();var h=4,g=new Array(1<<h);g[0]=new a(1).toRed(this),g[1]=_;for(var M=2;M<g.length;M++)g[M]=this.mul(g[M-1],_);var N=g[0],T=0,B=0,b=w.bitLength()%26;for(b===0&&(b=26),M=w.length-1;M>=0;M--){for(var A=w.words[M],y=b-1;y>=0;y--){var I=A>>y&1;if(N!==g[0]&&(N=this.sqr(N)),I===0&&T===0){B=0;continue}T<<=1,T|=I,B++,!(B!==h&&(M!==0||y!==0))&&(N=this.mul(N,g[T]),B=0,T=0)}b=26}return N},ce.prototype.convertTo=function(_){var w=_.umod(this.m);return w===_?w.clone():w},ce.prototype.convertFrom=function(_){var w=_.clone();return w.red=null,w},a.mont=function(_){return new Se(_)};function Se(W){ce.call(this,W),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(Se,ce),Se.prototype.convertTo=function(_){return this.imod(_.ushln(this.shift))},Se.prototype.convertFrom=function(_){var w=this.imod(_.mul(this.rinv));return w.red=null,w},Se.prototype.imul=function(_,w){if(_.isZero()||w.isZero())return _.words[0]=0,_.length=1,_;var h=_.imul(w),g=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),M=h.isub(g).iushrn(this.shift),N=M;return M.cmp(this.m)>=0?N=M.isub(this.m):M.cmpn(0)<0&&(N=M.iadd(this.m)),N._forceRed(this)},Se.prototype.mul=function(_,w){if(_.isZero()||w.isZero())return new a(0)._forceRed(this);var h=_.mul(w),g=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),M=h.isub(g).iushrn(this.shift),N=M;return M.cmp(this.m)>=0?N=M.isub(this.m):M.cmpn(0)<0&&(N=M.iadd(this.m)),N._forceRed(this)},Se.prototype.invm=function(_){var w=this.imod(_._invmp(this.m).mul(this.r2));return w._forceRed(this)}})(e,He)})(pF);var ll={},yF={get exports(){return ll},set exports(e){ll=e}},R5;function R2(){if(R5)return ll;R5=1;var e;yF.exports=function(i){return e||(e=new t(null)),e.generate(i)};function t(n){this.rand=n}if(ll.Rand=t,t.prototype.generate=function(i){return this._rand(i)},t.prototype._rand=function(i){if(this.rand.getBytes)return this.rand.getBytes(i);for(var a=new Uint8Array(i),c=0;c<a.length;c++)a[c]=this.rand.getByte();return a},typeof self=="object")self.crypto&&self.crypto.getRandomValues?t.prototype._rand=function(i){var a=new Uint8Array(i);return self.crypto.getRandomValues(a),a}:self.msCrypto&&self.msCrypto.getRandomValues?t.prototype._rand=function(i){var a=new Uint8Array(i);return self.msCrypto.getRandomValues(a),a}:typeof window=="object"&&(t.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var r=J2();if(typeof r.randomBytes!="function")throw new Error("Not supported");t.prototype._rand=function(i){return r.randomBytes(i)}}catch{}return ll}var Xv,T5;function dE(){if(T5)return Xv;T5=1;var e=wr,t=R2();function r(n){this.rand=n||new t.Rand}return Xv=r,r.create=function(i){return new r(i)},r.prototype._randbelow=function(i){var a=i.bitLength(),c=Math.ceil(a/8);do var u=new e(this.rand.generate(c));while(u.cmp(i)>=0);return u},r.prototype._randrange=function(i,a){var c=a.sub(i);return i.add(this._randbelow(c))},r.prototype.test=function(i,a,c){var u=i.bitLength(),d=e.mont(i),p=new e(1).toRed(d);a||(a=Math.max(1,u/48|0));for(var m=i.subn(1),x=0;!m.testn(x);x++);for(var k=i.shrn(x),S=m.toRed(d),P=!0;a>0;a--){var j=this._randrange(new e(2),m);c&&c(j);var U=j.toRed(d).redPow(k);if(!(U.cmp(p)===0||U.cmp(S)===0)){for(var O=1;O<x;O++){if(U=U.redSqr(),U.cmp(p)===0)return!1;if(U.cmp(S)===0)break}if(O===x)return!1}}return P},r.prototype.getDivisor=function(i,a){var c=i.bitLength(),u=e.mont(i),d=new e(1).toRed(u);a||(a=Math.max(1,c/48|0));for(var p=i.subn(1),m=0;!p.testn(m);m++);for(var x=i.shrn(m),k=p.toRed(u);a>0;a--){var S=this._randrange(new e(2),p),P=i.gcd(S);if(P.cmpn(1)!==0)return P;var j=S.toRed(u).redPow(x);if(!(j.cmp(d)===0||j.cmp(k)===0)){for(var U=1;U<m;U++){if(j=j.redSqr(),j.cmp(d)===0)return j.fromRed().subn(1).gcd(i);if(j.cmp(k)===0)break}if(U===m)return j=j.redSqr(),j.fromRed().subn(1).gcd(i)}}return!1},Xv}var Qv,N5;function hE(){if(N5)return Qv;N5=1;var e=Ko;Qv=U,U.simpleSieve=P,U.fermatTest=j;var t=wr,r=new t(24),n=dE(),i=new n,a=new t(1),c=new t(2),u=new t(5);new t(16),new t(8);var d=new t(10),p=new t(3);new t(7);var m=new t(11),x=new t(4);new t(12);var k=null;function S(){if(k!==null)return k;var O=1048576,L=[];L[0]=2;for(var z=1,G=3;G<O;G+=2){for(var J=Math.ceil(Math.sqrt(G)),ne=0;ne<z&&L[ne]<=J&&G%L[ne]!==0;ne++);z!==ne&&L[ne]<=J||(L[z++]=G)}return k=L,L}function P(O){for(var L=S(),z=0;z<L.length;z++)if(O.modn(L[z])===0)return O.cmpn(L[z])===0;return!0}function j(O){var L=t.mont(O);return c.toRed(L).redPow(O.subn(1)).fromRed().cmpn(1)===0}function U(O,L){if(O<16)return L===2||L===5?new t([140,123]):new t([140,39]);L=new t(L);for(var z,G;;){for(z=new t(e(Math.ceil(O/8)));z.bitLength()>O;)z.ishrn(1);if(z.isEven()&&z.iadd(a),z.testn(1)||z.iadd(c),L.cmp(c)){if(!L.cmp(u))for(;z.mod(d).cmp(p);)z.iadd(x)}else for(;z.mod(r).cmp(m);)z.iadd(x);if(G=z.shrn(1),P(G)&&P(z)&&j(G)&&j(z)&&i.test(G)&&i.test(z))return z}}return Qv}const vF={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},mF={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},gF={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},bF={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},wF={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},_F={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},xF={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},SF={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"},EF={modp1:vF,modp2:mF,modp5:gF,modp14:bF,modp15:wF,modp16:_F,modp17:xF,modp18:SF};var em,P5;function kF(){if(P5)return em;P5=1;var e=wr,t=dE(),r=new t,n=new e(24),i=new e(11),a=new e(10),c=new e(3),u=new e(7),d=hE(),p=Ko;em=P;function m(U,O){return O=O||"utf8",ft.Buffer.isBuffer(U)||(U=new ft.Buffer(U,O)),this._pub=new e(U),this}function x(U,O){return O=O||"utf8",ft.Buffer.isBuffer(U)||(U=new ft.Buffer(U,O)),this._priv=new e(U),this}var k={};function S(U,O){var L=O.toString("hex"),z=[L,U.toString(16)].join("_");if(z in k)return k[z];var G=0;if(U.isEven()||!d.simpleSieve||!d.fermatTest(U)||!r.test(U))return G+=1,L==="02"||L==="05"?G+=8:G+=4,k[z]=G,G;r.test(U.shrn(1))||(G+=2);var J;switch(L){case"02":U.mod(n).cmp(i)&&(G+=8);break;case"05":J=U.mod(a),J.cmp(c)&&J.cmp(u)&&(G+=8);break;default:G+=4}return k[z]=G,G}function P(U,O,L){this.setGenerator(O),this.__prime=new e(U),this._prime=e.mont(this.__prime),this._primeLen=U.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,L?(this.setPublicKey=m,this.setPrivateKey=x):this._primeCode=8}Object.defineProperty(P.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=S(this.__prime,this.__gen)),this._primeCode}}),P.prototype.generateKeys=function(){return this._priv||(this._priv=new e(p(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},P.prototype.computeSecret=function(U){U=new e(U),U=U.toRed(this._prime);var O=U.redPow(this._priv).fromRed(),L=new ft.Buffer(O.toArray()),z=this.getPrime();if(L.length<z.length){var G=new ft.Buffer(z.length-L.length);G.fill(0),L=ft.Buffer.concat([G,L])}return L},P.prototype.getPublicKey=function(O){return j(this._pub,O)},P.prototype.getPrivateKey=function(O){return j(this._priv,O)},P.prototype.getPrime=function(U){return j(this.__prime,U)},P.prototype.getGenerator=function(U){return j(this._gen,U)},P.prototype.setGenerator=function(U,O){return O=O||"utf8",ft.Buffer.isBuffer(U)||(U=new ft.Buffer(U,O)),this.__gen=U,this._gen=new e(U),this};function j(U,O){var L=new ft.Buffer(U.toArray());return O?L.toString(O):L}return em}var $5;function MF(){if($5)return ys;$5=1;var e=hE(),t=EF,r=kF();function n(c){var u=new ft.Buffer(t[c].prime,"hex"),d=new ft.Buffer(t[c].gen,"hex");return new r(u,d)}var i={binary:!0,hex:!0,base64:!0};function a(c,u,d,p){return ft.Buffer.isBuffer(u)||i[u]===void 0?a(c,"binary",u,d):(u=u||"binary",p=p||"binary",d=d||new ft.Buffer([2]),ft.Buffer.isBuffer(d)||(d=new ft.Buffer(d,p)),typeof c=="number"?new r(e(c,d),d,!0):(ft.Buffer.isBuffer(c)||(c=new ft.Buffer(c,u)),new r(c,d,!0)))}return ys.DiffieHellmanGroup=ys.createDiffieHellmanGroup=ys.getDiffieHellman=n,ys.createDiffieHellman=ys.DiffieHellman=a,ys}var Dc={},AF={get exports(){return Dc},set exports(e){Dc=e}},Ul={},CF={get exports(){return Ul},set exports(e){Ul=e}};(function(e){(function(t,r){function n(w,h){if(!w)throw new Error(h||"Assertion failed")}function i(w,h){w.super_=h;var g=function(){};g.prototype=h.prototype,w.prototype=new g,w.prototype.constructor=w}function a(w,h,g){if(a.isBN(w))return w;this.negative=0,this.words=null,this.length=0,this.red=null,w!==null&&((h==="le"||h==="be")&&(g=h,h=10),this._init(w||0,h||10,g||"be"))}typeof t=="object"?t.exports=a:r.BN=a,a.BN=a,a.wordSize=26;var c;try{typeof window<"u"&&typeof window.Buffer<"u"?c=window.Buffer:c=ft.Buffer}catch{}a.isBN=function(h){return h instanceof a?!0:h!==null&&typeof h=="object"&&h.constructor.wordSize===a.wordSize&&Array.isArray(h.words)},a.max=function(h,g){return h.cmp(g)>0?h:g},a.min=function(h,g){return h.cmp(g)<0?h:g},a.prototype._init=function(h,g,M){if(typeof h=="number")return this._initNumber(h,g,M);if(typeof h=="object")return this._initArray(h,g,M);g==="hex"&&(g=16),n(g===(g|0)&&g>=2&&g<=36),h=h.toString().replace(/\s+/g,"");var N=0;h[0]==="-"&&(N++,this.negative=1),N<h.length&&(g===16?this._parseHex(h,N,M):(this._parseBase(h,g,N),M==="le"&&this._initArray(this.toArray(),g,M)))},a.prototype._initNumber=function(h,g,M){h<0&&(this.negative=1,h=-h),h<67108864?(this.words=[h&67108863],this.length=1):h<4503599627370496?(this.words=[h&67108863,h/67108864&67108863],this.length=2):(n(h<9007199254740992),this.words=[h&67108863,h/67108864&67108863,1],this.length=3),M==="le"&&this._initArray(this.toArray(),g,M)},a.prototype._initArray=function(h,g,M){if(n(typeof h.length=="number"),h.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(h.length/3),this.words=new Array(this.length);for(var N=0;N<this.length;N++)this.words[N]=0;var T,B,b=0;if(M==="be")for(N=h.length-1,T=0;N>=0;N-=3)B=h[N]|h[N-1]<<8|h[N-2]<<16,this.words[T]|=B<<b&67108863,this.words[T+1]=B>>>26-b&67108863,b+=24,b>=26&&(b-=26,T++);else if(M==="le")for(N=0,T=0;N<h.length;N+=3)B=h[N]|h[N+1]<<8|h[N+2]<<16,this.words[T]|=B<<b&67108863,this.words[T+1]=B>>>26-b&67108863,b+=24,b>=26&&(b-=26,T++);return this._strip()};function u(w,h){var g=w.charCodeAt(h);if(g>=48&&g<=57)return g-48;if(g>=65&&g<=70)return g-55;if(g>=97&&g<=102)return g-87;n(!1,"Invalid character in "+w)}function d(w,h,g){var M=u(w,g);return g-1>=h&&(M|=u(w,g-1)<<4),M}a.prototype._parseHex=function(h,g,M){this.length=Math.ceil((h.length-g)/6),this.words=new Array(this.length);for(var N=0;N<this.length;N++)this.words[N]=0;var T=0,B=0,b;if(M==="be")for(N=h.length-1;N>=g;N-=2)b=d(h,g,N)<<T,this.words[B]|=b&67108863,T>=18?(T-=18,B+=1,this.words[B]|=b>>>26):T+=8;else{var A=h.length-g;for(N=A%2===0?g+1:g;N<h.length;N+=2)b=d(h,g,N)<<T,this.words[B]|=b&67108863,T>=18?(T-=18,B+=1,this.words[B]|=b>>>26):T+=8}this._strip()};function p(w,h,g,M){for(var N=0,T=0,B=Math.min(w.length,g),b=h;b<B;b++){var A=w.charCodeAt(b)-48;N*=M,A>=49?T=A-49+10:A>=17?T=A-17+10:T=A,n(A>=0&&T<M,"Invalid character"),N+=T}return N}a.prototype._parseBase=function(h,g,M){this.words=[0],this.length=1;for(var N=0,T=1;T<=67108863;T*=g)N++;N--,T=T/g|0;for(var B=h.length-M,b=B%N,A=Math.min(B,B-b)+M,y=0,I=M;I<A;I+=N)y=p(h,I,I+N,g),this.imuln(T),this.words[0]+y<67108864?this.words[0]+=y:this._iaddn(y);if(b!==0){var Q=1;for(y=p(h,I,h.length,g),I=0;I<b;I++)Q*=g;this.imuln(Q),this.words[0]+y<67108864?this.words[0]+=y:this._iaddn(y)}this._strip()},a.prototype.copy=function(h){h.words=new Array(this.length);for(var g=0;g<this.length;g++)h.words[g]=this.words[g];h.length=this.length,h.negative=this.negative,h.red=this.red};function m(w,h){w.words=h.words,w.length=h.length,w.negative=h.negative,w.red=h.red}if(a.prototype._move=function(h){m(h,this)},a.prototype.clone=function(){var h=new a(null);return this.copy(h),h},a.prototype._expand=function(h){for(;this.length<h;)this.words[this.length++]=0;return this},a.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{a.prototype[Symbol.for("nodejs.util.inspect.custom")]=x}catch{a.prototype.inspect=x}else a.prototype.inspect=x;function x(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var k=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],S=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],P=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];a.prototype.toString=function(h,g){h=h||10,g=g|0||1;var M;if(h===16||h==="hex"){M="";for(var N=0,T=0,B=0;B<this.length;B++){var b=this.words[B],A=((b<<N|T)&16777215).toString(16);T=b>>>24-N&16777215,N+=2,N>=26&&(N-=26,B--),T!==0||B!==this.length-1?M=k[6-A.length]+A+M:M=A+M}for(T!==0&&(M=T.toString(16)+M);M.length%g!==0;)M="0"+M;return this.negative!==0&&(M="-"+M),M}if(h===(h|0)&&h>=2&&h<=36){var y=S[h],I=P[h];M="";var Q=this.clone();for(Q.negative=0;!Q.isZero();){var ue=Q.modrn(I).toString(h);Q=Q.idivn(I),Q.isZero()?M=ue+M:M=k[y-ue.length]+ue+M}for(this.isZero()&&(M="0"+M);M.length%g!==0;)M="0"+M;return this.negative!==0&&(M="-"+M),M}n(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var h=this.words[0];return this.length===2?h+=this.words[1]*67108864:this.length===3&&this.words[2]===1?h+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-h:h},a.prototype.toJSON=function(){return this.toString(16,2)},c&&(a.prototype.toBuffer=function(h,g){return this.toArrayLike(c,h,g)}),a.prototype.toArray=function(h,g){return this.toArrayLike(Array,h,g)};var j=function(h,g){return h.allocUnsafe?h.allocUnsafe(g):new h(g)};a.prototype.toArrayLike=function(h,g,M){this._strip();var N=this.byteLength(),T=M||Math.max(1,N);n(N<=T,"byte array longer than desired length"),n(T>0,"Requested array length <= 0");var B=j(h,T),b=g==="le"?"LE":"BE";return this["_toArrayLike"+b](B,N),B},a.prototype._toArrayLikeLE=function(h,g){for(var M=0,N=0,T=0,B=0;T<this.length;T++){var b=this.words[T]<<B|N;h[M++]=b&255,M<h.length&&(h[M++]=b>>8&255),M<h.length&&(h[M++]=b>>16&255),B===6?(M<h.length&&(h[M++]=b>>24&255),N=0,B=0):(N=b>>>24,B+=2)}if(M<h.length)for(h[M++]=N;M<h.length;)h[M++]=0},a.prototype._toArrayLikeBE=function(h,g){for(var M=h.length-1,N=0,T=0,B=0;T<this.length;T++){var b=this.words[T]<<B|N;h[M--]=b&255,M>=0&&(h[M--]=b>>8&255),M>=0&&(h[M--]=b>>16&255),B===6?(M>=0&&(h[M--]=b>>24&255),N=0,B=0):(N=b>>>24,B+=2)}if(M>=0)for(h[M--]=N;M>=0;)h[M--]=0},Math.clz32?a.prototype._countBits=function(h){return 32-Math.clz32(h)}:a.prototype._countBits=function(h){var g=h,M=0;return g>=4096&&(M+=13,g>>>=13),g>=64&&(M+=7,g>>>=7),g>=8&&(M+=4,g>>>=4),g>=2&&(M+=2,g>>>=2),M+g},a.prototype._zeroBits=function(h){if(h===0)return 26;var g=h,M=0;return g&8191||(M+=13,g>>>=13),g&127||(M+=7,g>>>=7),g&15||(M+=4,g>>>=4),g&3||(M+=2,g>>>=2),g&1||M++,M},a.prototype.bitLength=function(){var h=this.words[this.length-1],g=this._countBits(h);return(this.length-1)*26+g};function U(w){for(var h=new Array(w.bitLength()),g=0;g<h.length;g++){var M=g/26|0,N=g%26;h[g]=w.words[M]>>>N&1}return h}a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var h=0,g=0;g<this.length;g++){var M=this._zeroBits(this.words[g]);if(h+=M,M!==26)break}return h},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(h){return this.negative!==0?this.abs().inotn(h).iaddn(1):this.clone()},a.prototype.fromTwos=function(h){return this.testn(h-1)?this.notn(h).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(h){for(;this.length<h.length;)this.words[this.length++]=0;for(var g=0;g<h.length;g++)this.words[g]=this.words[g]|h.words[g];return this._strip()},a.prototype.ior=function(h){return n((this.negative|h.negative)===0),this.iuor(h)},a.prototype.or=function(h){return this.length>h.length?this.clone().ior(h):h.clone().ior(this)},a.prototype.uor=function(h){return this.length>h.length?this.clone().iuor(h):h.clone().iuor(this)},a.prototype.iuand=function(h){var g;this.length>h.length?g=h:g=this;for(var M=0;M<g.length;M++)this.words[M]=this.words[M]&h.words[M];return this.length=g.length,this._strip()},a.prototype.iand=function(h){return n((this.negative|h.negative)===0),this.iuand(h)},a.prototype.and=function(h){return this.length>h.length?this.clone().iand(h):h.clone().iand(this)},a.prototype.uand=function(h){return this.length>h.length?this.clone().iuand(h):h.clone().iuand(this)},a.prototype.iuxor=function(h){var g,M;this.length>h.length?(g=this,M=h):(g=h,M=this);for(var N=0;N<M.length;N++)this.words[N]=g.words[N]^M.words[N];if(this!==g)for(;N<g.length;N++)this.words[N]=g.words[N];return this.length=g.length,this._strip()},a.prototype.ixor=function(h){return n((this.negative|h.negative)===0),this.iuxor(h)},a.prototype.xor=function(h){return this.length>h.length?this.clone().ixor(h):h.clone().ixor(this)},a.prototype.uxor=function(h){return this.length>h.length?this.clone().iuxor(h):h.clone().iuxor(this)},a.prototype.inotn=function(h){n(typeof h=="number"&&h>=0);var g=Math.ceil(h/26)|0,M=h%26;this._expand(g),M>0&&g--;for(var N=0;N<g;N++)this.words[N]=~this.words[N]&67108863;return M>0&&(this.words[N]=~this.words[N]&67108863>>26-M),this._strip()},a.prototype.notn=function(h){return this.clone().inotn(h)},a.prototype.setn=function(h,g){n(typeof h=="number"&&h>=0);var M=h/26|0,N=h%26;return this._expand(M+1),g?this.words[M]=this.words[M]|1<<N:this.words[M]=this.words[M]&~(1<<N),this._strip()},a.prototype.iadd=function(h){var g;if(this.negative!==0&&h.negative===0)return this.negative=0,g=this.isub(h),this.negative^=1,this._normSign();if(this.negative===0&&h.negative!==0)return h.negative=0,g=this.isub(h),h.negative=1,g._normSign();var M,N;this.length>h.length?(M=this,N=h):(M=h,N=this);for(var T=0,B=0;B<N.length;B++)g=(M.words[B]|0)+(N.words[B]|0)+T,this.words[B]=g&67108863,T=g>>>26;for(;T!==0&&B<M.length;B++)g=(M.words[B]|0)+T,this.words[B]=g&67108863,T=g>>>26;if(this.length=M.length,T!==0)this.words[this.length]=T,this.length++;else if(M!==this)for(;B<M.length;B++)this.words[B]=M.words[B];return this},a.prototype.add=function(h){var g;return h.negative!==0&&this.negative===0?(h.negative=0,g=this.sub(h),h.negative^=1,g):h.negative===0&&this.negative!==0?(this.negative=0,g=h.sub(this),this.negative=1,g):this.length>h.length?this.clone().iadd(h):h.clone().iadd(this)},a.prototype.isub=function(h){if(h.negative!==0){h.negative=0;var g=this.iadd(h);return h.negative=1,g._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(h),this.negative=1,this._normSign();var M=this.cmp(h);if(M===0)return this.negative=0,this.length=1,this.words[0]=0,this;var N,T;M>0?(N=this,T=h):(N=h,T=this);for(var B=0,b=0;b<T.length;b++)g=(N.words[b]|0)-(T.words[b]|0)+B,B=g>>26,this.words[b]=g&67108863;for(;B!==0&&b<N.length;b++)g=(N.words[b]|0)+B,B=g>>26,this.words[b]=g&67108863;if(B===0&&b<N.length&&N!==this)for(;b<N.length;b++)this.words[b]=N.words[b];return this.length=Math.max(this.length,b),N!==this&&(this.negative=1),this._strip()},a.prototype.sub=function(h){return this.clone().isub(h)};function O(w,h,g){g.negative=h.negative^w.negative;var M=w.length+h.length|0;g.length=M,M=M-1|0;var N=w.words[0]|0,T=h.words[0]|0,B=N*T,b=B&67108863,A=B/67108864|0;g.words[0]=b;for(var y=1;y<M;y++){for(var I=A>>>26,Q=A&67108863,ue=Math.min(y,h.length-1),Z=Math.max(0,y-w.length+1);Z<=ue;Z++){var Y=y-Z|0;N=w.words[Y]|0,T=h.words[Z]|0,B=N*T+Q,I+=B/67108864|0,Q=B&67108863}g.words[y]=Q|0,A=I|0}return A!==0?g.words[y]=A|0:g.length--,g._strip()}var L=function(h,g,M){var N=h.words,T=g.words,B=M.words,b=0,A,y,I,Q=N[0]|0,ue=Q&8191,Z=Q>>>13,Y=N[1]|0,se=Y&8191,de=Y>>>13,xe=N[2]|0,H=xe&8191,q=xe>>>13,he=N[3]|0,ge=he&8191,Ne=he>>>13,K=N[4]|0,C=K&8191,R=K>>>13,D=N[5]|0,ee=D&8191,fe=D>>>13,pe=N[6]|0,Ue=pe&8191,Ae=pe>>>13,qe=N[7]|0,ae=qe&8191,te=qe>>>13,le=N[8]|0,ke=le&8191,be=le>>>13,De=N[9]|0,Re=De&8191,Ce=De>>>13,Me=T[0]|0,ot=Me&8191,Be=Me>>>13,ht=T[1]|0,nt=ht&8191,Ve=ht>>>13,wt=T[2]|0,Bt=wt&8191,Je=wt>>>13,Ot=T[3]|0,At=Ot&8191,it=Ot>>>13,st=T[4]|0,gt=st&8191,Ye=st>>>13,Lt=T[5]|0,vt=Lt&8191,Ge=Lt>>>13,zt=T[6]|0,_t=zt&8191,tt=zt>>>13,Dt=T[7]|0,Kt=Dt&8191,Oe=Dt>>>13,qt=T[8]|0,_e=qt&8191,Xe=qt>>>13,Yt=T[9]|0,Xt=Yt&8191,Zt=Yt>>>13;M.negative=h.negative^g.negative,M.length=19,A=Math.imul(ue,ot),y=Math.imul(ue,Be),y=y+Math.imul(Z,ot)|0,I=Math.imul(Z,Be);var Di=(b+A|0)+((y&8191)<<13)|0;b=(I+(y>>>13)|0)+(Di>>>26)|0,Di&=67108863,A=Math.imul(se,ot),y=Math.imul(se,Be),y=y+Math.imul(de,ot)|0,I=Math.imul(de,Be),A=A+Math.imul(ue,nt)|0,y=y+Math.imul(ue,Ve)|0,y=y+Math.imul(Z,nt)|0,I=I+Math.imul(Z,Ve)|0;var pi=(b+A|0)+((y&8191)<<13)|0;b=(I+(y>>>13)|0)+(pi>>>26)|0,pi&=67108863,A=Math.imul(H,ot),y=Math.imul(H,Be),y=y+Math.imul(q,ot)|0,I=Math.imul(q,Be),A=A+Math.imul(se,nt)|0,y=y+Math.imul(se,Ve)|0,y=y+Math.imul(de,nt)|0,I=I+Math.imul(de,Ve)|0,A=A+Math.imul(ue,Bt)|0,y=y+Math.imul(ue,Je)|0,y=y+Math.imul(Z,Bt)|0,I=I+Math.imul(Z,Je)|0;var zn=(b+A|0)+((y&8191)<<13)|0;b=(I+(y>>>13)|0)+(zn>>>26)|0,zn&=67108863,A=Math.imul(ge,ot),y=Math.imul(ge,Be),y=y+Math.imul(Ne,ot)|0,I=Math.imul(Ne,Be),A=A+Math.imul(H,nt)|0,y=y+Math.imul(H,Ve)|0,y=y+Math.imul(q,nt)|0,I=I+Math.imul(q,Ve)|0,A=A+Math.imul(se,Bt)|0,y=y+Math.imul(se,Je)|0,y=y+Math.imul(de,Bt)|0,I=I+Math.imul(de,Je)|0,A=A+Math.imul(ue,At)|0,y=y+Math.imul(ue,it)|0,y=y+Math.imul(Z,At)|0,I=I+Math.imul(Z,it)|0;var Wr=(b+A|0)+((y&8191)<<13)|0;b=(I+(y>>>13)|0)+(Wr>>>26)|0,Wr&=67108863,A=Math.imul(C,ot),y=Math.imul(C,Be),y=y+Math.imul(R,ot)|0,I=Math.imul(R,Be),A=A+Math.imul(ge,nt)|0,y=y+Math.imul(ge,Ve)|0,y=y+Math.imul(Ne,nt)|0,I=I+Math.imul(Ne,Ve)|0,A=A+Math.imul(H,Bt)|0,y=y+Math.imul(H,Je)|0,y=y+Math.imul(q,Bt)|0,I=I+Math.imul(q,Je)|0,A=A+Math.imul(se,At)|0,y=y+Math.imul(se,it)|0,y=y+Math.imul(de,At)|0,I=I+Math.imul(de,it)|0,A=A+Math.imul(ue,gt)|0,y=y+Math.imul(ue,Ye)|0,y=y+Math.imul(Z,gt)|0,I=I+Math.imul(Z,Ye)|0;var Vr=(b+A|0)+((y&8191)<<13)|0;b=(I+(y>>>13)|0)+(Vr>>>26)|0,Vr&=67108863,A=Math.imul(ee,ot),y=Math.imul(ee,Be),y=y+Math.imul(fe,ot)|0,I=Math.imul(fe,Be),A=A+Math.imul(C,nt)|0,y=y+Math.imul(C,Ve)|0,y=y+Math.imul(R,nt)|0,I=I+Math.imul(R,Ve)|0,A=A+Math.imul(ge,Bt)|0,y=y+Math.imul(ge,Je)|0,y=y+Math.imul(Ne,Bt)|0,I=I+Math.imul(Ne,Je)|0,A=A+Math.imul(H,At)|0,y=y+Math.imul(H,it)|0,y=y+Math.imul(q,At)|0,I=I+Math.imul(q,it)|0,A=A+Math.imul(se,gt)|0,y=y+Math.imul(se,Ye)|0,y=y+Math.imul(de,gt)|0,I=I+Math.imul(de,Ye)|0,A=A+Math.imul(ue,vt)|0,y=y+Math.imul(ue,Ge)|0,y=y+Math.imul(Z,vt)|0,I=I+Math.imul(Z,Ge)|0;var Kn=(b+A|0)+((y&8191)<<13)|0;b=(I+(y>>>13)|0)+(Kn>>>26)|0,Kn&=67108863,A=Math.imul(Ue,ot),y=Math.imul(Ue,Be),y=y+Math.imul(Ae,ot)|0,I=Math.imul(Ae,Be),A=A+Math.imul(ee,nt)|0,y=y+Math.imul(ee,Ve)|0,y=y+Math.imul(fe,nt)|0,I=I+Math.imul(fe,Ve)|0,A=A+Math.imul(C,Bt)|0,y=y+Math.imul(C,Je)|0,y=y+Math.imul(R,Bt)|0,I=I+Math.imul(R,Je)|0,A=A+Math.imul(ge,At)|0,y=y+Math.imul(ge,it)|0,y=y+Math.imul(Ne,At)|0,I=I+Math.imul(Ne,it)|0,A=A+Math.imul(H,gt)|0,y=y+Math.imul(H,Ye)|0,y=y+Math.imul(q,gt)|0,I=I+Math.imul(q,Ye)|0,A=A+Math.imul(se,vt)|0,y=y+Math.imul(se,Ge)|0,y=y+Math.imul(de,vt)|0,I=I+Math.imul(de,Ge)|0,A=A+Math.imul(ue,_t)|0,y=y+Math.imul(ue,tt)|0,y=y+Math.imul(Z,_t)|0,I=I+Math.imul(Z,tt)|0;var Ui=(b+A|0)+((y&8191)<<13)|0;b=(I+(y>>>13)|0)+(Ui>>>26)|0,Ui&=67108863,A=Math.imul(ae,ot),y=Math.imul(ae,Be),y=y+Math.imul(te,ot)|0,I=Math.imul(te,Be),A=A+Math.imul(Ue,nt)|0,y=y+Math.imul(Ue,Ve)|0,y=y+Math.imul(Ae,nt)|0,I=I+Math.imul(Ae,Ve)|0,A=A+Math.imul(ee,Bt)|0,y=y+Math.imul(ee,Je)|0,y=y+Math.imul(fe,Bt)|0,I=I+Math.imul(fe,Je)|0,A=A+Math.imul(C,At)|0,y=y+Math.imul(C,it)|0,y=y+Math.imul(R,At)|0,I=I+Math.imul(R,it)|0,A=A+Math.imul(ge,gt)|0,y=y+Math.imul(ge,Ye)|0,y=y+Math.imul(Ne,gt)|0,I=I+Math.imul(Ne,Ye)|0,A=A+Math.imul(H,vt)|0,y=y+Math.imul(H,Ge)|0,y=y+Math.imul(q,vt)|0,I=I+Math.imul(q,Ge)|0,A=A+Math.imul(se,_t)|0,y=y+Math.imul(se,tt)|0,y=y+Math.imul(de,_t)|0,I=I+Math.imul(de,tt)|0,A=A+Math.imul(ue,Kt)|0,y=y+Math.imul(ue,Oe)|0,y=y+Math.imul(Z,Kt)|0,I=I+Math.imul(Z,Oe)|0;var ji=(b+A|0)+((y&8191)<<13)|0;b=(I+(y>>>13)|0)+(ji>>>26)|0,ji&=67108863,A=Math.imul(ke,ot),y=Math.imul(ke,Be),y=y+Math.imul(be,ot)|0,I=Math.imul(be,Be),A=A+Math.imul(ae,nt)|0,y=y+Math.imul(ae,Ve)|0,y=y+Math.imul(te,nt)|0,I=I+Math.imul(te,Ve)|0,A=A+Math.imul(Ue,Bt)|0,y=y+Math.imul(Ue,Je)|0,y=y+Math.imul(Ae,Bt)|0,I=I+Math.imul(Ae,Je)|0,A=A+Math.imul(ee,At)|0,y=y+Math.imul(ee,it)|0,y=y+Math.imul(fe,At)|0,I=I+Math.imul(fe,it)|0,A=A+Math.imul(C,gt)|0,y=y+Math.imul(C,Ye)|0,y=y+Math.imul(R,gt)|0,I=I+Math.imul(R,Ye)|0,A=A+Math.imul(ge,vt)|0,y=y+Math.imul(ge,Ge)|0,y=y+Math.imul(Ne,vt)|0,I=I+Math.imul(Ne,Ge)|0,A=A+Math.imul(H,_t)|0,y=y+Math.imul(H,tt)|0,y=y+Math.imul(q,_t)|0,I=I+Math.imul(q,tt)|0,A=A+Math.imul(se,Kt)|0,y=y+Math.imul(se,Oe)|0,y=y+Math.imul(de,Kt)|0,I=I+Math.imul(de,Oe)|0,A=A+Math.imul(ue,_e)|0,y=y+Math.imul(ue,Xe)|0,y=y+Math.imul(Z,_e)|0,I=I+Math.imul(Z,Xe)|0;var ba=(b+A|0)+((y&8191)<<13)|0;b=(I+(y>>>13)|0)+(ba>>>26)|0,ba&=67108863,A=Math.imul(Re,ot),y=Math.imul(Re,Be),y=y+Math.imul(Ce,ot)|0,I=Math.imul(Ce,Be),A=A+Math.imul(ke,nt)|0,y=y+Math.imul(ke,Ve)|0,y=y+Math.imul(be,nt)|0,I=I+Math.imul(be,Ve)|0,A=A+Math.imul(ae,Bt)|0,y=y+Math.imul(ae,Je)|0,y=y+Math.imul(te,Bt)|0,I=I+Math.imul(te,Je)|0,A=A+Math.imul(Ue,At)|0,y=y+Math.imul(Ue,it)|0,y=y+Math.imul(Ae,At)|0,I=I+Math.imul(Ae,it)|0,A=A+Math.imul(ee,gt)|0,y=y+Math.imul(ee,Ye)|0,y=y+Math.imul(fe,gt)|0,I=I+Math.imul(fe,Ye)|0,A=A+Math.imul(C,vt)|0,y=y+Math.imul(C,Ge)|0,y=y+Math.imul(R,vt)|0,I=I+Math.imul(R,Ge)|0,A=A+Math.imul(ge,_t)|0,y=y+Math.imul(ge,tt)|0,y=y+Math.imul(Ne,_t)|0,I=I+Math.imul(Ne,tt)|0,A=A+Math.imul(H,Kt)|0,y=y+Math.imul(H,Oe)|0,y=y+Math.imul(q,Kt)|0,I=I+Math.imul(q,Oe)|0,A=A+Math.imul(se,_e)|0,y=y+Math.imul(se,Xe)|0,y=y+Math.imul(de,_e)|0,I=I+Math.imul(de,Xe)|0,A=A+Math.imul(ue,Xt)|0,y=y+Math.imul(ue,Zt)|0,y=y+Math.imul(Z,Xt)|0,I=I+Math.imul(Z,Zt)|0;var wa=(b+A|0)+((y&8191)<<13)|0;b=(I+(y>>>13)|0)+(wa>>>26)|0,wa&=67108863,A=Math.imul(Re,nt),y=Math.imul(Re,Ve),y=y+Math.imul(Ce,nt)|0,I=Math.imul(Ce,Ve),A=A+Math.imul(ke,Bt)|0,y=y+Math.imul(ke,Je)|0,y=y+Math.imul(be,Bt)|0,I=I+Math.imul(be,Je)|0,A=A+Math.imul(ae,At)|0,y=y+Math.imul(ae,it)|0,y=y+Math.imul(te,At)|0,I=I+Math.imul(te,it)|0,A=A+Math.imul(Ue,gt)|0,y=y+Math.imul(Ue,Ye)|0,y=y+Math.imul(Ae,gt)|0,I=I+Math.imul(Ae,Ye)|0,A=A+Math.imul(ee,vt)|0,y=y+Math.imul(ee,Ge)|0,y=y+Math.imul(fe,vt)|0,I=I+Math.imul(fe,Ge)|0,A=A+Math.imul(C,_t)|0,y=y+Math.imul(C,tt)|0,y=y+Math.imul(R,_t)|0,I=I+Math.imul(R,tt)|0,A=A+Math.imul(ge,Kt)|0,y=y+Math.imul(ge,Oe)|0,y=y+Math.imul(Ne,Kt)|0,I=I+Math.imul(Ne,Oe)|0,A=A+Math.imul(H,_e)|0,y=y+Math.imul(H,Xe)|0,y=y+Math.imul(q,_e)|0,I=I+Math.imul(q,Xe)|0,A=A+Math.imul(se,Xt)|0,y=y+Math.imul(se,Zt)|0,y=y+Math.imul(de,Xt)|0,I=I+Math.imul(de,Zt)|0;var Cn=(b+A|0)+((y&8191)<<13)|0;b=(I+(y>>>13)|0)+(Cn>>>26)|0,Cn&=67108863,A=Math.imul(Re,Bt),y=Math.imul(Re,Je),y=y+Math.imul(Ce,Bt)|0,I=Math.imul(Ce,Je),A=A+Math.imul(ke,At)|0,y=y+Math.imul(ke,it)|0,y=y+Math.imul(be,At)|0,I=I+Math.imul(be,it)|0,A=A+Math.imul(ae,gt)|0,y=y+Math.imul(ae,Ye)|0,y=y+Math.imul(te,gt)|0,I=I+Math.imul(te,Ye)|0,A=A+Math.imul(Ue,vt)|0,y=y+Math.imul(Ue,Ge)|0,y=y+Math.imul(Ae,vt)|0,I=I+Math.imul(Ae,Ge)|0,A=A+Math.imul(ee,_t)|0,y=y+Math.imul(ee,tt)|0,y=y+Math.imul(fe,_t)|0,I=I+Math.imul(fe,tt)|0,A=A+Math.imul(C,Kt)|0,y=y+Math.imul(C,Oe)|0,y=y+Math.imul(R,Kt)|0,I=I+Math.imul(R,Oe)|0,A=A+Math.imul(ge,_e)|0,y=y+Math.imul(ge,Xe)|0,y=y+Math.imul(Ne,_e)|0,I=I+Math.imul(Ne,Xe)|0,A=A+Math.imul(H,Xt)|0,y=y+Math.imul(H,Zt)|0,y=y+Math.imul(q,Xt)|0,I=I+Math.imul(q,Zt)|0;var qn=(b+A|0)+((y&8191)<<13)|0;b=(I+(y>>>13)|0)+(qn>>>26)|0,qn&=67108863,A=Math.imul(Re,At),y=Math.imul(Re,it),y=y+Math.imul(Ce,At)|0,I=Math.imul(Ce,it),A=A+Math.imul(ke,gt)|0,y=y+Math.imul(ke,Ye)|0,y=y+Math.imul(be,gt)|0,I=I+Math.imul(be,Ye)|0,A=A+Math.imul(ae,vt)|0,y=y+Math.imul(ae,Ge)|0,y=y+Math.imul(te,vt)|0,I=I+Math.imul(te,Ge)|0,A=A+Math.imul(Ue,_t)|0,y=y+Math.imul(Ue,tt)|0,y=y+Math.imul(Ae,_t)|0,I=I+Math.imul(Ae,tt)|0,A=A+Math.imul(ee,Kt)|0,y=y+Math.imul(ee,Oe)|0,y=y+Math.imul(fe,Kt)|0,I=I+Math.imul(fe,Oe)|0,A=A+Math.imul(C,_e)|0,y=y+Math.imul(C,Xe)|0,y=y+Math.imul(R,_e)|0,I=I+Math.imul(R,Xe)|0,A=A+Math.imul(ge,Xt)|0,y=y+Math.imul(ge,Zt)|0,y=y+Math.imul(Ne,Xt)|0,I=I+Math.imul(Ne,Zt)|0;var Bn=(b+A|0)+((y&8191)<<13)|0;b=(I+(y>>>13)|0)+(Bn>>>26)|0,Bn&=67108863,A=Math.imul(Re,gt),y=Math.imul(Re,Ye),y=y+Math.imul(Ce,gt)|0,I=Math.imul(Ce,Ye),A=A+Math.imul(ke,vt)|0,y=y+Math.imul(ke,Ge)|0,y=y+Math.imul(be,vt)|0,I=I+Math.imul(be,Ge)|0,A=A+Math.imul(ae,_t)|0,y=y+Math.imul(ae,tt)|0,y=y+Math.imul(te,_t)|0,I=I+Math.imul(te,tt)|0,A=A+Math.imul(Ue,Kt)|0,y=y+Math.imul(Ue,Oe)|0,y=y+Math.imul(Ae,Kt)|0,I=I+Math.imul(Ae,Oe)|0,A=A+Math.imul(ee,_e)|0,y=y+Math.imul(ee,Xe)|0,y=y+Math.imul(fe,_e)|0,I=I+Math.imul(fe,Xe)|0,A=A+Math.imul(C,Xt)|0,y=y+Math.imul(C,Zt)|0,y=y+Math.imul(R,Xt)|0,I=I+Math.imul(R,Zt)|0;var Fi=(b+A|0)+((y&8191)<<13)|0;b=(I+(y>>>13)|0)+(Fi>>>26)|0,Fi&=67108863,A=Math.imul(Re,vt),y=Math.imul(Re,Ge),y=y+Math.imul(Ce,vt)|0,I=Math.imul(Ce,Ge),A=A+Math.imul(ke,_t)|0,y=y+Math.imul(ke,tt)|0,y=y+Math.imul(be,_t)|0,I=I+Math.imul(be,tt)|0,A=A+Math.imul(ae,Kt)|0,y=y+Math.imul(ae,Oe)|0,y=y+Math.imul(te,Kt)|0,I=I+Math.imul(te,Oe)|0,A=A+Math.imul(Ue,_e)|0,y=y+Math.imul(Ue,Xe)|0,y=y+Math.imul(Ae,_e)|0,I=I+Math.imul(Ae,Xe)|0,A=A+Math.imul(ee,Xt)|0,y=y+Math.imul(ee,Zt)|0,y=y+Math.imul(fe,Xt)|0,I=I+Math.imul(fe,Zt)|0;var _a=(b+A|0)+((y&8191)<<13)|0;b=(I+(y>>>13)|0)+(_a>>>26)|0,_a&=67108863,A=Math.imul(Re,_t),y=Math.imul(Re,tt),y=y+Math.imul(Ce,_t)|0,I=Math.imul(Ce,tt),A=A+Math.imul(ke,Kt)|0,y=y+Math.imul(ke,Oe)|0,y=y+Math.imul(be,Kt)|0,I=I+Math.imul(be,Oe)|0,A=A+Math.imul(ae,_e)|0,y=y+Math.imul(ae,Xe)|0,y=y+Math.imul(te,_e)|0,I=I+Math.imul(te,Xe)|0,A=A+Math.imul(Ue,Xt)|0,y=y+Math.imul(Ue,Zt)|0,y=y+Math.imul(Ae,Xt)|0,I=I+Math.imul(Ae,Zt)|0;var xa=(b+A|0)+((y&8191)<<13)|0;b=(I+(y>>>13)|0)+(xa>>>26)|0,xa&=67108863,A=Math.imul(Re,Kt),y=Math.imul(Re,Oe),y=y+Math.imul(Ce,Kt)|0,I=Math.imul(Ce,Oe),A=A+Math.imul(ke,_e)|0,y=y+Math.imul(ke,Xe)|0,y=y+Math.imul(be,_e)|0,I=I+Math.imul(be,Xe)|0,A=A+Math.imul(ae,Xt)|0,y=y+Math.imul(ae,Zt)|0,y=y+Math.imul(te,Xt)|0,I=I+Math.imul(te,Zt)|0;var Sa=(b+A|0)+((y&8191)<<13)|0;b=(I+(y>>>13)|0)+(Sa>>>26)|0,Sa&=67108863,A=Math.imul(Re,_e),y=Math.imul(Re,Xe),y=y+Math.imul(Ce,_e)|0,I=Math.imul(Ce,Xe),A=A+Math.imul(ke,Xt)|0,y=y+Math.imul(ke,Zt)|0,y=y+Math.imul(be,Xt)|0,I=I+Math.imul(be,Zt)|0;var Kf=(b+A|0)+((y&8191)<<13)|0;b=(I+(y>>>13)|0)+(Kf>>>26)|0,Kf&=67108863,A=Math.imul(Re,Xt),y=Math.imul(Re,Zt),y=y+Math.imul(Ce,Xt)|0,I=Math.imul(Ce,Zt);var qf=(b+A|0)+((y&8191)<<13)|0;return b=(I+(y>>>13)|0)+(qf>>>26)|0,qf&=67108863,B[0]=Di,B[1]=pi,B[2]=zn,B[3]=Wr,B[4]=Vr,B[5]=Kn,B[6]=Ui,B[7]=ji,B[8]=ba,B[9]=wa,B[10]=Cn,B[11]=qn,B[12]=Bn,B[13]=Fi,B[14]=_a,B[15]=xa,B[16]=Sa,B[17]=Kf,B[18]=qf,b!==0&&(B[19]=b,M.length++),M};Math.imul||(L=O);function z(w,h,g){g.negative=h.negative^w.negative,g.length=w.length+h.length;for(var M=0,N=0,T=0;T<g.length-1;T++){var B=N;N=0;for(var b=M&67108863,A=Math.min(T,h.length-1),y=Math.max(0,T-w.length+1);y<=A;y++){var I=T-y,Q=w.words[I]|0,ue=h.words[y]|0,Z=Q*ue,Y=Z&67108863;B=B+(Z/67108864|0)|0,Y=Y+b|0,b=Y&67108863,B=B+(Y>>>26)|0,N+=B>>>26,B&=67108863}g.words[T]=b,M=B,B=N}return M!==0?g.words[T]=M:g.length--,g._strip()}function G(w,h,g){return z(w,h,g)}a.prototype.mulTo=function(h,g){var M,N=this.length+h.length;return this.length===10&&h.length===10?M=L(this,h,g):N<63?M=O(this,h,g):N<1024?M=z(this,h,g):M=G(this,h,g),M},a.prototype.mul=function(h){var g=new a(null);return g.words=new Array(this.length+h.length),this.mulTo(h,g)},a.prototype.mulf=function(h){var g=new a(null);return g.words=new Array(this.length+h.length),G(this,h,g)},a.prototype.imul=function(h){return this.clone().mulTo(h,this)},a.prototype.imuln=function(h){var g=h<0;g&&(h=-h),n(typeof h=="number"),n(h<67108864);for(var M=0,N=0;N<this.length;N++){var T=(this.words[N]|0)*h,B=(T&67108863)+(M&67108863);M>>=26,M+=T/67108864|0,M+=B>>>26,this.words[N]=B&67108863}return M!==0&&(this.words[N]=M,this.length++),g?this.ineg():this},a.prototype.muln=function(h){return this.clone().imuln(h)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(h){var g=U(h);if(g.length===0)return new a(1);for(var M=this,N=0;N<g.length&&g[N]===0;N++,M=M.sqr());if(++N<g.length)for(var T=M.sqr();N<g.length;N++,T=T.sqr())g[N]!==0&&(M=M.mul(T));return M},a.prototype.iushln=function(h){n(typeof h=="number"&&h>=0);var g=h%26,M=(h-g)/26,N=67108863>>>26-g<<26-g,T;if(g!==0){var B=0;for(T=0;T<this.length;T++){var b=this.words[T]&N,A=(this.words[T]|0)-b<<g;this.words[T]=A|B,B=b>>>26-g}B&&(this.words[T]=B,this.length++)}if(M!==0){for(T=this.length-1;T>=0;T--)this.words[T+M]=this.words[T];for(T=0;T<M;T++)this.words[T]=0;this.length+=M}return this._strip()},a.prototype.ishln=function(h){return n(this.negative===0),this.iushln(h)},a.prototype.iushrn=function(h,g,M){n(typeof h=="number"&&h>=0);var N;g?N=(g-g%26)/26:N=0;var T=h%26,B=Math.min((h-T)/26,this.length),b=67108863^67108863>>>T<<T,A=M;if(N-=B,N=Math.max(0,N),A){for(var y=0;y<B;y++)A.words[y]=this.words[y];A.length=B}if(B!==0)if(this.length>B)for(this.length-=B,y=0;y<this.length;y++)this.words[y]=this.words[y+B];else this.words[0]=0,this.length=1;var I=0;for(y=this.length-1;y>=0&&(I!==0||y>=N);y--){var Q=this.words[y]|0;this.words[y]=I<<26-T|Q>>>T,I=Q&b}return A&&I!==0&&(A.words[A.length++]=I),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},a.prototype.ishrn=function(h,g,M){return n(this.negative===0),this.iushrn(h,g,M)},a.prototype.shln=function(h){return this.clone().ishln(h)},a.prototype.ushln=function(h){return this.clone().iushln(h)},a.prototype.shrn=function(h){return this.clone().ishrn(h)},a.prototype.ushrn=function(h){return this.clone().iushrn(h)},a.prototype.testn=function(h){n(typeof h=="number"&&h>=0);var g=h%26,M=(h-g)/26,N=1<<g;if(this.length<=M)return!1;var T=this.words[M];return!!(T&N)},a.prototype.imaskn=function(h){n(typeof h=="number"&&h>=0);var g=h%26,M=(h-g)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=M)return this;if(g!==0&&M++,this.length=Math.min(M,this.length),g!==0){var N=67108863^67108863>>>g<<g;this.words[this.length-1]&=N}return this._strip()},a.prototype.maskn=function(h){return this.clone().imaskn(h)},a.prototype.iaddn=function(h){return n(typeof h=="number"),n(h<67108864),h<0?this.isubn(-h):this.negative!==0?this.length===1&&(this.words[0]|0)<=h?(this.words[0]=h-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(h),this.negative=1,this):this._iaddn(h)},a.prototype._iaddn=function(h){this.words[0]+=h;for(var g=0;g<this.length&&this.words[g]>=67108864;g++)this.words[g]-=67108864,g===this.length-1?this.words[g+1]=1:this.words[g+1]++;return this.length=Math.max(this.length,g+1),this},a.prototype.isubn=function(h){if(n(typeof h=="number"),n(h<67108864),h<0)return this.iaddn(-h);if(this.negative!==0)return this.negative=0,this.iaddn(h),this.negative=1,this;if(this.words[0]-=h,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var g=0;g<this.length&&this.words[g]<0;g++)this.words[g]+=67108864,this.words[g+1]-=1;return this._strip()},a.prototype.addn=function(h){return this.clone().iaddn(h)},a.prototype.subn=function(h){return this.clone().isubn(h)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(h,g,M){var N=h.length+M,T;this._expand(N);var B,b=0;for(T=0;T<h.length;T++){B=(this.words[T+M]|0)+b;var A=(h.words[T]|0)*g;B-=A&67108863,b=(B>>26)-(A/67108864|0),this.words[T+M]=B&67108863}for(;T<this.length-M;T++)B=(this.words[T+M]|0)+b,b=B>>26,this.words[T+M]=B&67108863;if(b===0)return this._strip();for(n(b===-1),b=0,T=0;T<this.length;T++)B=-(this.words[T]|0)+b,b=B>>26,this.words[T]=B&67108863;return this.negative=1,this._strip()},a.prototype._wordDiv=function(h,g){var M=this.length-h.length,N=this.clone(),T=h,B=T.words[T.length-1]|0,b=this._countBits(B);M=26-b,M!==0&&(T=T.ushln(M),N.iushln(M),B=T.words[T.length-1]|0);var A=N.length-T.length,y;if(g!=="mod"){y=new a(null),y.length=A+1,y.words=new Array(y.length);for(var I=0;I<y.length;I++)y.words[I]=0}var Q=N.clone()._ishlnsubmul(T,1,A);Q.negative===0&&(N=Q,y&&(y.words[A]=1));for(var ue=A-1;ue>=0;ue--){var Z=(N.words[T.length+ue]|0)*67108864+(N.words[T.length+ue-1]|0);for(Z=Math.min(Z/B|0,67108863),N._ishlnsubmul(T,Z,ue);N.negative!==0;)Z--,N.negative=0,N._ishlnsubmul(T,1,ue),N.isZero()||(N.negative^=1);y&&(y.words[ue]=Z)}return y&&y._strip(),N._strip(),g!=="div"&&M!==0&&N.iushrn(M),{div:y||null,mod:N}},a.prototype.divmod=function(h,g,M){if(n(!h.isZero()),this.isZero())return{div:new a(0),mod:new a(0)};var N,T,B;return this.negative!==0&&h.negative===0?(B=this.neg().divmod(h,g),g!=="mod"&&(N=B.div.neg()),g!=="div"&&(T=B.mod.neg(),M&&T.negative!==0&&T.iadd(h)),{div:N,mod:T}):this.negative===0&&h.negative!==0?(B=this.divmod(h.neg(),g),g!=="mod"&&(N=B.div.neg()),{div:N,mod:B.mod}):this.negative&h.negative?(B=this.neg().divmod(h.neg(),g),g!=="div"&&(T=B.mod.neg(),M&&T.negative!==0&&T.isub(h)),{div:B.div,mod:T}):h.length>this.length||this.cmp(h)<0?{div:new a(0),mod:this}:h.length===1?g==="div"?{div:this.divn(h.words[0]),mod:null}:g==="mod"?{div:null,mod:new a(this.modrn(h.words[0]))}:{div:this.divn(h.words[0]),mod:new a(this.modrn(h.words[0]))}:this._wordDiv(h,g)},a.prototype.div=function(h){return this.divmod(h,"div",!1).div},a.prototype.mod=function(h){return this.divmod(h,"mod",!1).mod},a.prototype.umod=function(h){return this.divmod(h,"mod",!0).mod},a.prototype.divRound=function(h){var g=this.divmod(h);if(g.mod.isZero())return g.div;var M=g.div.negative!==0?g.mod.isub(h):g.mod,N=h.ushrn(1),T=h.andln(1),B=M.cmp(N);return B<0||T===1&&B===0?g.div:g.div.negative!==0?g.div.isubn(1):g.div.iaddn(1)},a.prototype.modrn=function(h){var g=h<0;g&&(h=-h),n(h<=67108863);for(var M=(1<<26)%h,N=0,T=this.length-1;T>=0;T--)N=(M*N+(this.words[T]|0))%h;return g?-N:N},a.prototype.modn=function(h){return this.modrn(h)},a.prototype.idivn=function(h){var g=h<0;g&&(h=-h),n(h<=67108863);for(var M=0,N=this.length-1;N>=0;N--){var T=(this.words[N]|0)+M*67108864;this.words[N]=T/h|0,M=T%h}return this._strip(),g?this.ineg():this},a.prototype.divn=function(h){return this.clone().idivn(h)},a.prototype.egcd=function(h){n(h.negative===0),n(!h.isZero());var g=this,M=h.clone();g.negative!==0?g=g.umod(h):g=g.clone();for(var N=new a(1),T=new a(0),B=new a(0),b=new a(1),A=0;g.isEven()&&M.isEven();)g.iushrn(1),M.iushrn(1),++A;for(var y=M.clone(),I=g.clone();!g.isZero();){for(var Q=0,ue=1;!(g.words[0]&ue)&&Q<26;++Q,ue<<=1);if(Q>0)for(g.iushrn(Q);Q-- >0;)(N.isOdd()||T.isOdd())&&(N.iadd(y),T.isub(I)),N.iushrn(1),T.iushrn(1);for(var Z=0,Y=1;!(M.words[0]&Y)&&Z<26;++Z,Y<<=1);if(Z>0)for(M.iushrn(Z);Z-- >0;)(B.isOdd()||b.isOdd())&&(B.iadd(y),b.isub(I)),B.iushrn(1),b.iushrn(1);g.cmp(M)>=0?(g.isub(M),N.isub(B),T.isub(b)):(M.isub(g),B.isub(N),b.isub(T))}return{a:B,b,gcd:M.iushln(A)}},a.prototype._invmp=function(h){n(h.negative===0),n(!h.isZero());var g=this,M=h.clone();g.negative!==0?g=g.umod(h):g=g.clone();for(var N=new a(1),T=new a(0),B=M.clone();g.cmpn(1)>0&&M.cmpn(1)>0;){for(var b=0,A=1;!(g.words[0]&A)&&b<26;++b,A<<=1);if(b>0)for(g.iushrn(b);b-- >0;)N.isOdd()&&N.iadd(B),N.iushrn(1);for(var y=0,I=1;!(M.words[0]&I)&&y<26;++y,I<<=1);if(y>0)for(M.iushrn(y);y-- >0;)T.isOdd()&&T.iadd(B),T.iushrn(1);g.cmp(M)>=0?(g.isub(M),N.isub(T)):(M.isub(g),T.isub(N))}var Q;return g.cmpn(1)===0?Q=N:Q=T,Q.cmpn(0)<0&&Q.iadd(h),Q},a.prototype.gcd=function(h){if(this.isZero())return h.abs();if(h.isZero())return this.abs();var g=this.clone(),M=h.clone();g.negative=0,M.negative=0;for(var N=0;g.isEven()&&M.isEven();N++)g.iushrn(1),M.iushrn(1);do{for(;g.isEven();)g.iushrn(1);for(;M.isEven();)M.iushrn(1);var T=g.cmp(M);if(T<0){var B=g;g=M,M=B}else if(T===0||M.cmpn(1)===0)break;g.isub(M)}while(!0);return M.iushln(N)},a.prototype.invm=function(h){return this.egcd(h).a.umod(h)},a.prototype.isEven=function(){return(this.words[0]&1)===0},a.prototype.isOdd=function(){return(this.words[0]&1)===1},a.prototype.andln=function(h){return this.words[0]&h},a.prototype.bincn=function(h){n(typeof h=="number");var g=h%26,M=(h-g)/26,N=1<<g;if(this.length<=M)return this._expand(M+1),this.words[M]|=N,this;for(var T=N,B=M;T!==0&&B<this.length;B++){var b=this.words[B]|0;b+=T,T=b>>>26,b&=67108863,this.words[B]=b}return T!==0&&(this.words[B]=T,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(h){var g=h<0;if(this.negative!==0&&!g)return-1;if(this.negative===0&&g)return 1;this._strip();var M;if(this.length>1)M=1;else{g&&(h=-h),n(h<=67108863,"Number is too big");var N=this.words[0]|0;M=N===h?0:N<h?-1:1}return this.negative!==0?-M|0:M},a.prototype.cmp=function(h){if(this.negative!==0&&h.negative===0)return-1;if(this.negative===0&&h.negative!==0)return 1;var g=this.ucmp(h);return this.negative!==0?-g|0:g},a.prototype.ucmp=function(h){if(this.length>h.length)return 1;if(this.length<h.length)return-1;for(var g=0,M=this.length-1;M>=0;M--){var N=this.words[M]|0,T=h.words[M]|0;if(N!==T){N<T?g=-1:N>T&&(g=1);break}}return g},a.prototype.gtn=function(h){return this.cmpn(h)===1},a.prototype.gt=function(h){return this.cmp(h)===1},a.prototype.gten=function(h){return this.cmpn(h)>=0},a.prototype.gte=function(h){return this.cmp(h)>=0},a.prototype.ltn=function(h){return this.cmpn(h)===-1},a.prototype.lt=function(h){return this.cmp(h)===-1},a.prototype.lten=function(h){return this.cmpn(h)<=0},a.prototype.lte=function(h){return this.cmp(h)<=0},a.prototype.eqn=function(h){return this.cmpn(h)===0},a.prototype.eq=function(h){return this.cmp(h)===0},a.red=function(h){return new W(h)},a.prototype.toRed=function(h){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),h.convertTo(this)._forceRed(h)},a.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(h){return this.red=h,this},a.prototype.forceRed=function(h){return n(!this.red,"Already a number in reduction context"),this._forceRed(h)},a.prototype.redAdd=function(h){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,h)},a.prototype.redIAdd=function(h){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,h)},a.prototype.redSub=function(h){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,h)},a.prototype.redISub=function(h){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,h)},a.prototype.redShl=function(h){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,h)},a.prototype.redMul=function(h){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,h),this.red.mul(this,h)},a.prototype.redIMul=function(h){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,h),this.red.imul(this,h)},a.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(h){return n(this.red&&!h.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,h)};var J={k256:null,p224:null,p192:null,p25519:null};function ne(w,h){this.name=w,this.p=new a(h,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}ne.prototype._tmp=function(){var h=new a(null);return h.words=new Array(Math.ceil(this.n/13)),h},ne.prototype.ireduce=function(h){var g=h,M;do this.split(g,this.tmp),g=this.imulK(g),g=g.iadd(this.tmp),M=g.bitLength();while(M>this.n);var N=M<this.n?-1:g.ucmp(this.p);return N===0?(g.words[0]=0,g.length=1):N>0?g.isub(this.p):g.strip!==void 0?g.strip():g._strip(),g},ne.prototype.split=function(h,g){h.iushrn(this.n,0,g)},ne.prototype.imulK=function(h){return h.imul(this.k)};function ie(){ne.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(ie,ne),ie.prototype.split=function(h,g){for(var M=4194303,N=Math.min(h.length,9),T=0;T<N;T++)g.words[T]=h.words[T];if(g.length=N,h.length<=9){h.words[0]=0,h.length=1;return}var B=h.words[9];for(g.words[g.length++]=B&M,T=10;T<h.length;T++){var b=h.words[T]|0;h.words[T-10]=(b&M)<<4|B>>>22,B=b}B>>>=22,h.words[T-10]=B,B===0&&h.length>10?h.length-=10:h.length-=9},ie.prototype.imulK=function(h){h.words[h.length]=0,h.words[h.length+1]=0,h.length+=2;for(var g=0,M=0;M<h.length;M++){var N=h.words[M]|0;g+=N*977,h.words[M]=g&67108863,g=N*64+(g/67108864|0)}return h.words[h.length-1]===0&&(h.length--,h.words[h.length-1]===0&&h.length--),h};function re(){ne.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(re,ne);function ce(){ne.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(ce,ne);function Se(){ne.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(Se,ne),Se.prototype.imulK=function(h){for(var g=0,M=0;M<h.length;M++){var N=(h.words[M]|0)*19+g,T=N&67108863;N>>>=26,h.words[M]=T,g=N}return g!==0&&(h.words[h.length++]=g),h},a._prime=function(h){if(J[h])return J[h];var g;if(h==="k256")g=new ie;else if(h==="p224")g=new re;else if(h==="p192")g=new ce;else if(h==="p25519")g=new Se;else throw new Error("Unknown prime "+h);return J[h]=g,g};function W(w){if(typeof w=="string"){var h=a._prime(w);this.m=h.p,this.prime=h}else n(w.gtn(1),"modulus must be greater than 1"),this.m=w,this.prime=null}W.prototype._verify1=function(h){n(h.negative===0,"red works only with positives"),n(h.red,"red works only with red numbers")},W.prototype._verify2=function(h,g){n((h.negative|g.negative)===0,"red works only with positives"),n(h.red&&h.red===g.red,"red works only with red numbers")},W.prototype.imod=function(h){return this.prime?this.prime.ireduce(h)._forceRed(this):(m(h,h.umod(this.m)._forceRed(this)),h)},W.prototype.neg=function(h){return h.isZero()?h.clone():this.m.sub(h)._forceRed(this)},W.prototype.add=function(h,g){this._verify2(h,g);var M=h.add(g);return M.cmp(this.m)>=0&&M.isub(this.m),M._forceRed(this)},W.prototype.iadd=function(h,g){this._verify2(h,g);var M=h.iadd(g);return M.cmp(this.m)>=0&&M.isub(this.m),M},W.prototype.sub=function(h,g){this._verify2(h,g);var M=h.sub(g);return M.cmpn(0)<0&&M.iadd(this.m),M._forceRed(this)},W.prototype.isub=function(h,g){this._verify2(h,g);var M=h.isub(g);return M.cmpn(0)<0&&M.iadd(this.m),M},W.prototype.shl=function(h,g){return this._verify1(h),this.imod(h.ushln(g))},W.prototype.imul=function(h,g){return this._verify2(h,g),this.imod(h.imul(g))},W.prototype.mul=function(h,g){return this._verify2(h,g),this.imod(h.mul(g))},W.prototype.isqr=function(h){return this.imul(h,h.clone())},W.prototype.sqr=function(h){return this.mul(h,h)},W.prototype.sqrt=function(h){if(h.isZero())return h.clone();var g=this.m.andln(3);if(n(g%2===1),g===3){var M=this.m.add(new a(1)).iushrn(2);return this.pow(h,M)}for(var N=this.m.subn(1),T=0;!N.isZero()&&N.andln(1)===0;)T++,N.iushrn(1);n(!N.isZero());var B=new a(1).toRed(this),b=B.redNeg(),A=this.m.subn(1).iushrn(1),y=this.m.bitLength();for(y=new a(2*y*y).toRed(this);this.pow(y,A).cmp(b)!==0;)y.redIAdd(b);for(var I=this.pow(y,N),Q=this.pow(h,N.addn(1).iushrn(1)),ue=this.pow(h,N),Z=T;ue.cmp(B)!==0;){for(var Y=ue,se=0;Y.cmp(B)!==0;se++)Y=Y.redSqr();n(se<Z);var de=this.pow(I,new a(1).iushln(Z-se-1));Q=Q.redMul(de),I=de.redSqr(),ue=ue.redMul(I),Z=se}return Q},W.prototype.invm=function(h){var g=h._invmp(this.m);return g.negative!==0?(g.negative=0,this.imod(g).redNeg()):this.imod(g)},W.prototype.pow=function(h,g){if(g.isZero())return new a(1).toRed(this);if(g.cmpn(1)===0)return h.clone();var M=4,N=new Array(1<<M);N[0]=new a(1).toRed(this),N[1]=h;for(var T=2;T<N.length;T++)N[T]=this.mul(N[T-1],h);var B=N[0],b=0,A=0,y=g.bitLength()%26;for(y===0&&(y=26),T=g.length-1;T>=0;T--){for(var I=g.words[T],Q=y-1;Q>=0;Q--){var ue=I>>Q&1;if(B!==N[0]&&(B=this.sqr(B)),ue===0&&b===0){A=0;continue}b<<=1,b|=ue,A++,!(A!==M&&(T!==0||Q!==0))&&(B=this.mul(B,N[b]),A=0,b=0)}y=26}return B},W.prototype.convertTo=function(h){var g=h.umod(this.m);return g===h?g.clone():g},W.prototype.convertFrom=function(h){var g=h.clone();return g.red=null,g},a.mont=function(h){return new _(h)};function _(w){W.call(this,w),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(_,W),_.prototype.convertTo=function(h){return this.imod(h.ushln(this.shift))},_.prototype.convertFrom=function(h){var g=this.imod(h.mul(this.rinv));return g.red=null,g},_.prototype.imul=function(h,g){if(h.isZero()||g.isZero())return h.words[0]=0,h.length=1,h;var M=h.imul(g),N=M.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),T=M.isub(N).iushrn(this.shift),B=T;return T.cmp(this.m)>=0?B=T.isub(this.m):T.cmpn(0)<0&&(B=T.iadd(this.m)),B._forceRed(this)},_.prototype.mul=function(h,g){if(h.isZero()||g.isZero())return new a(0)._forceRed(this);var M=h.mul(g),N=M.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),T=M.isub(N).iushrn(this.shift),B=T;return T.cmp(this.m)>=0?B=T.isub(this.m):T.cmpn(0)<0&&(B=T.iadd(this.m)),B._forceRed(this)},_.prototype.invm=function(h){var g=this.imod(h._invmp(this.m).mul(this.r2));return g._forceRed(this)}})(e,He)})(CF);var Jc=Ul,BF=Ko;function IF(e){var t=pE(e),r=t.toRed(Jc.mont(e.modulus)).redPow(new Jc(e.publicExponent)).fromRed();return{blinder:r,unblinder:t.invm(e.modulus)}}function pE(e){var t=e.modulus.byteLength(),r;do r=new Jc(BF(t));while(r.cmp(e.modulus)>=0||!r.umod(e.prime1)||!r.umod(e.prime2));return r}function yE(e,t){var r=IF(t),n=t.modulus.byteLength(),i=new Jc(e).mul(r.blinder).umod(t.modulus),a=i.toRed(Jc.mont(t.prime1)),c=i.toRed(Jc.mont(t.prime2)),u=t.coefficient,d=t.prime1,p=t.prime2,m=a.redPow(t.exponent1).fromRed(),x=c.redPow(t.exponent2).fromRed(),k=m.isub(x).imul(u).umod(d).imul(p);return x.iadd(k).imul(r.unblinder).umod(t.modulus).toArrayLike(ft.Buffer,"be",n)}yE.getr=pE;var T2=yE,tm={};const RF="elliptic",TF="6.5.4",NF="EC cryptography",PF="lib/elliptic.js",$F=["lib"],LF={lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},OF={type:"git",url:"git@github.com:indutny/elliptic"},DF=["EC","Elliptic","curve","Cryptography"],UF="Fedor Indutny <fedor@indutny.com>",jF="MIT",FF={url:"https://github.com/indutny/elliptic/issues"},zF="https://github.com/indutny/elliptic",KF={brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},qF={"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"},HF={name:RF,version:TF,description:NF,main:PF,files:$F,scripts:LF,repository:OF,keywords:DF,author:UF,license:jF,bugs:FF,homepage:zF,devDependencies:KF,dependencies:qF};var jn={},N2={};(function(e){var t=e;function r(a,c){if(Array.isArray(a))return a.slice();if(!a)return[];var u=[];if(typeof a!="string"){for(var d=0;d<a.length;d++)u[d]=a[d]|0;return u}if(c==="hex"){a=a.replace(/[^a-z0-9]+/ig,""),a.length%2!==0&&(a="0"+a);for(var d=0;d<a.length;d+=2)u.push(parseInt(a[d]+a[d+1],16))}else for(var d=0;d<a.length;d++){var p=a.charCodeAt(d),m=p>>8,x=p&255;m?u.push(m,x):u.push(x)}return u}t.toArray=r;function n(a){return a.length===1?"0"+a:a}t.zero2=n;function i(a){for(var c="",u=0;u<a.length;u++)c+=n(a[u].toString(16));return c}t.toHex=i,t.encode=function(c,u){return u==="hex"?i(c):c}})(N2);(function(e){var t=e,r=wr,n=ci,i=N2;t.assert=n,t.toArray=i.toArray,t.zero2=i.zero2,t.toHex=i.toHex,t.encode=i.encode;function a(m,x,k){var S=new Array(Math.max(m.bitLength(),k)+1);S.fill(0);for(var P=1<<x+1,j=m.clone(),U=0;U<S.length;U++){var O,L=j.andln(P-1);j.isOdd()?(L>(P>>1)-1?O=(P>>1)-L:O=L,j.isubn(O)):O=0,S[U]=O,j.iushrn(1)}return S}t.getNAF=a;function c(m,x){var k=[[],[]];m=m.clone(),x=x.clone();for(var S=0,P=0,j;m.cmpn(-S)>0||x.cmpn(-P)>0;){var U=m.andln(3)+S&3,O=x.andln(3)+P&3;U===3&&(U=-1),O===3&&(O=-1);var L;U&1?(j=m.andln(7)+S&7,(j===3||j===5)&&O===2?L=-U:L=U):L=0,k[0].push(L);var z;O&1?(j=x.andln(7)+P&7,(j===3||j===5)&&U===2?z=-O:z=O):z=0,k[1].push(z),2*S===L+1&&(S=1-S),2*P===z+1&&(P=1-P),m.iushrn(1),x.iushrn(1)}return k}t.getJSF=c;function u(m,x,k){var S="_"+x;m.prototype[x]=function(){return this[S]!==void 0?this[S]:this[S]=k.call(this)}}t.cachedProperty=u;function d(m){return typeof m=="string"?t.toArray(m,"hex"):m}t.parseBytes=d;function p(m){return new r(m,"hex","le")}t.intFromLE=p})(jn);var P2={},vs=wr,pd=jn,G0=pd.getNAF,WF=pd.getJSF,J0=pd.assert;function Qo(e,t){this.type=e,this.p=new vs(t.p,16),this.red=t.prime?vs.red(t.prime):vs.mont(this.p),this.zero=new vs(0).toRed(this.red),this.one=new vs(1).toRed(this.red),this.two=new vs(2).toRed(this.red),this.n=t.n&&new vs(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var f1=Qo;Qo.prototype.point=function(){throw new Error("Not implemented")};Qo.prototype.validate=function(){throw new Error("Not implemented")};Qo.prototype._fixedNafMul=function(t,r){J0(t.precomputed);var n=t._getDoubles(),i=G0(r,1,this._bitLength),a=(1<<n.step+1)-(n.step%2===0?2:1);a/=3;var c=[],u,d;for(u=0;u<i.length;u+=n.step){d=0;for(var p=u+n.step-1;p>=u;p--)d=(d<<1)+i[p];c.push(d)}for(var m=this.jpoint(null,null,null),x=this.jpoint(null,null,null),k=a;k>0;k--){for(u=0;u<c.length;u++)d=c[u],d===k?x=x.mixedAdd(n.points[u]):d===-k&&(x=x.mixedAdd(n.points[u].neg()));m=m.add(x)}return m.toP()};Qo.prototype._wnafMul=function(t,r){var n=4,i=t._getNAFPoints(n);n=i.wnd;for(var a=i.points,c=G0(r,n,this._bitLength),u=this.jpoint(null,null,null),d=c.length-1;d>=0;d--){for(var p=0;d>=0&&c[d]===0;d--)p++;if(d>=0&&p++,u=u.dblp(p),d<0)break;var m=c[d];J0(m!==0),t.type==="affine"?m>0?u=u.mixedAdd(a[m-1>>1]):u=u.mixedAdd(a[-m-1>>1].neg()):m>0?u=u.add(a[m-1>>1]):u=u.add(a[-m-1>>1].neg())}return t.type==="affine"?u.toP():u};Qo.prototype._wnafMulAdd=function(t,r,n,i,a){var c=this._wnafT1,u=this._wnafT2,d=this._wnafT3,p=0,m,x,k;for(m=0;m<i;m++){k=r[m];var S=k._getNAFPoints(t);c[m]=S.wnd,u[m]=S.points}for(m=i-1;m>=1;m-=2){var P=m-1,j=m;if(c[P]!==1||c[j]!==1){d[P]=G0(n[P],c[P],this._bitLength),d[j]=G0(n[j],c[j],this._bitLength),p=Math.max(d[P].length,p),p=Math.max(d[j].length,p);continue}var U=[r[P],null,null,r[j]];r[P].y.cmp(r[j].y)===0?(U[1]=r[P].add(r[j]),U[2]=r[P].toJ().mixedAdd(r[j].neg())):r[P].y.cmp(r[j].y.redNeg())===0?(U[1]=r[P].toJ().mixedAdd(r[j]),U[2]=r[P].add(r[j].neg())):(U[1]=r[P].toJ().mixedAdd(r[j]),U[2]=r[P].toJ().mixedAdd(r[j].neg()));var O=[-3,-1,-5,-7,0,7,5,1,3],L=WF(n[P],n[j]);for(p=Math.max(L[0].length,p),d[P]=new Array(p),d[j]=new Array(p),x=0;x<p;x++){var z=L[0][x]|0,G=L[1][x]|0;d[P][x]=O[(z+1)*3+(G+1)],d[j][x]=0,u[P]=U}}var J=this.jpoint(null,null,null),ne=this._wnafT4;for(m=p;m>=0;m--){for(var ie=0;m>=0;){var re=!0;for(x=0;x<i;x++)ne[x]=d[x][m]|0,ne[x]!==0&&(re=!1);if(!re)break;ie++,m--}if(m>=0&&ie++,J=J.dblp(ie),m<0)break;for(x=0;x<i;x++){var ce=ne[x];ce!==0&&(ce>0?k=u[x][ce-1>>1]:ce<0&&(k=u[x][-ce-1>>1].neg()),k.type==="affine"?J=J.mixedAdd(k):J=J.add(k))}}for(m=0;m<i;m++)u[m]=null;return a?J:J.toP()};function ui(e,t){this.curve=e,this.type=t,this.precomputed=null}Qo.BasePoint=ui;ui.prototype.eq=function(){throw new Error("Not implemented")};ui.prototype.validate=function(){return this.curve.validate(this)};Qo.prototype.decodePoint=function(t,r){t=pd.toArray(t,r);var n=this.p.byteLength();if((t[0]===4||t[0]===6||t[0]===7)&&t.length-1===2*n){t[0]===6?J0(t[t.length-1]%2===0):t[0]===7&&J0(t[t.length-1]%2===1);var i=this.point(t.slice(1,1+n),t.slice(1+n,1+2*n));return i}else if((t[0]===2||t[0]===3)&&t.length-1===n)return this.pointFromX(t.slice(1,1+n),t[0]===3);throw new Error("Unknown point format")};ui.prototype.encodeCompressed=function(t){return this.encode(t,!0)};ui.prototype._encode=function(t){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return t?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};ui.prototype.encode=function(t,r){return pd.encode(this._encode(r),t)};ui.prototype.precompute=function(t){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,t),r.beta=this._getBeta(),this.precomputed=r,this};ui.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((t.bitLength()+1)/r.step):!1};ui.prototype._getDoubles=function(t,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,a=0;a<r;a+=t){for(var c=0;c<t;c++)i=i.dbl();n.push(i)}return{step:t,points:n}};ui.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<t)-1,i=n===1?null:this.dbl(),a=1;a<n;a++)r[a]=r[a-1].add(i);return{wnd:t,points:r}};ui.prototype._getBeta=function(){return null};ui.prototype.dblp=function(t){for(var r=this,n=0;n<t;n++)r=r.dbl();return r};var VF=jn,dr=wr,$2=dt,Rf=f1,ZF=VF.assert;function li(e){Rf.call(this,"short",e),this.a=new dr(e.a,16).toRed(this.red),this.b=new dr(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}$2(li,Rf);var GF=li;li.prototype._getEndomorphism=function(t){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(t.beta)r=new dr(t.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(t.lambda)n=new dr(t.lambda,16);else{var a=this._getEndoRoots(this.n);this.g.mul(a[0]).x.cmp(this.g.x.redMul(r))===0?n=a[0]:(n=a[1],ZF(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var c;return t.basis?c=t.basis.map(function(u){return{a:new dr(u.a,16),b:new dr(u.b,16)}}):c=this._getEndoBasis(n),{beta:r,lambda:n,basis:c}}};li.prototype._getEndoRoots=function(t){var r=t===this.p?this.red:dr.mont(t),n=new dr(2).toRed(r).redInvm(),i=n.redNeg(),a=new dr(3).toRed(r).redNeg().redSqrt().redMul(n),c=i.redAdd(a).fromRed(),u=i.redSub(a).fromRed();return[c,u]};li.prototype._getEndoBasis=function(t){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=t,i=this.n.clone(),a=new dr(1),c=new dr(0),u=new dr(0),d=new dr(1),p,m,x,k,S,P,j,U=0,O,L;n.cmpn(0)!==0;){var z=i.div(n);O=i.sub(z.mul(n)),L=u.sub(z.mul(a));var G=d.sub(z.mul(c));if(!x&&O.cmp(r)<0)p=j.neg(),m=a,x=O.neg(),k=L;else if(x&&++U===2)break;j=O,i=n,n=O,u=a,a=L,d=c,c=G}S=O.neg(),P=L;var J=x.sqr().add(k.sqr()),ne=S.sqr().add(P.sqr());return ne.cmp(J)>=0&&(S=p,P=m),x.negative&&(x=x.neg(),k=k.neg()),S.negative&&(S=S.neg(),P=P.neg()),[{a:x,b:k},{a:S,b:P}]};li.prototype._endoSplit=function(t){var r=this.endo.basis,n=r[0],i=r[1],a=i.b.mul(t).divRound(this.n),c=n.b.neg().mul(t).divRound(this.n),u=a.mul(n.a),d=c.mul(i.a),p=a.mul(n.b),m=c.mul(i.b),x=t.sub(u).sub(d),k=p.add(m).neg();return{k1:x,k2:k}};li.prototype.pointFromX=function(t,r){t=new dr(t,16),t.red||(t=t.toRed(this.red));var n=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var a=i.fromRed().isOdd();return(r&&!a||!r&&a)&&(i=i.redNeg()),this.point(t,i)};li.prototype.validate=function(t){if(t.inf)return!0;var r=t.x,n=t.y,i=this.a.redMul(r),a=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(a).cmpn(0)===0};li.prototype._endoWnafMulAdd=function(t,r,n){for(var i=this._endoWnafT1,a=this._endoWnafT2,c=0;c<t.length;c++){var u=this._endoSplit(r[c]),d=t[c],p=d._getBeta();u.k1.negative&&(u.k1.ineg(),d=d.neg(!0)),u.k2.negative&&(u.k2.ineg(),p=p.neg(!0)),i[c*2]=d,i[c*2+1]=p,a[c*2]=u.k1,a[c*2+1]=u.k2}for(var m=this._wnafMulAdd(1,i,a,c*2,n),x=0;x<c*2;x++)i[x]=null,a[x]=null;return m};function Pr(e,t,r,n){Rf.BasePoint.call(this,e,"affine"),t===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new dr(t,16),this.y=new dr(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}$2(Pr,Rf.BasePoint);li.prototype.point=function(t,r,n){return new Pr(this,t,r,n)};li.prototype.pointFromJSON=function(t,r){return Pr.fromJSON(this,t,r)};Pr.prototype._getBeta=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var n=this.curve,i=function(a){return n.point(a.x.redMul(n.endo.beta),a.y)};t.beta=r,r.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(i)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(i)}}}return r}};Pr.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Pr.fromJSON=function(t,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=t.point(r[0],r[1],n);if(!r[2])return i;function a(u){return t.point(u[0],u[1],n)}var c=r[2];return i.precomputed={beta:null,doubles:c.doubles&&{step:c.doubles.step,points:[i].concat(c.doubles.points.map(a))},naf:c.naf&&{wnd:c.naf.wnd,points:[i].concat(c.naf.points.map(a))}},i};Pr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Pr.prototype.isInfinity=function(){return this.inf};Pr.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(this.x.cmp(t.x)===0)return this.curve.point(null,null);var r=this.y.redSub(t.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(t.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(t.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};Pr.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(t.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=t.redInvm(),a=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),c=a.redSqr().redISub(this.x.redAdd(this.x)),u=a.redMul(this.x.redSub(c)).redISub(this.y);return this.curve.point(c,u)};Pr.prototype.getX=function(){return this.x.fromRed()};Pr.prototype.getY=function(){return this.y.fromRed()};Pr.prototype.mul=function(t){return t=new dr(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)};Pr.prototype.mulAdd=function(t,r,n){var i=[this,r],a=[t,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,a):this.curve._wnafMulAdd(1,i,a,2)};Pr.prototype.jmulAdd=function(t,r,n){var i=[this,r],a=[t,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,a,!0):this.curve._wnafMulAdd(1,i,a,2,!0)};Pr.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||this.x.cmp(t.x)===0&&this.y.cmp(t.y)===0)};Pr.prototype.neg=function(t){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var n=this.precomputed,i=function(a){return a.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};Pr.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var t=this.curve.jpoint(this.x,this.y,this.curve.one);return t};function Hr(e,t,r,n){Rf.BasePoint.call(this,e,"jacobian"),t===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new dr(0)):(this.x=new dr(t,16),this.y=new dr(r,16),this.z=new dr(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}$2(Hr,Rf.BasePoint);li.prototype.jpoint=function(t,r,n){return new Hr(this,t,r,n)};Hr.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),r=t.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(t);return this.curve.point(n,i)};Hr.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};Hr.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var r=t.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),a=t.x.redMul(n),c=this.y.redMul(r.redMul(t.z)),u=t.y.redMul(n.redMul(this.z)),d=i.redSub(a),p=c.redSub(u);if(d.cmpn(0)===0)return p.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var m=d.redSqr(),x=m.redMul(d),k=i.redMul(m),S=p.redSqr().redIAdd(x).redISub(k).redISub(k),P=p.redMul(k.redISub(S)).redISub(c.redMul(x)),j=this.z.redMul(t.z).redMul(d);return this.curve.jpoint(S,P,j)};Hr.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=t.x.redMul(r),a=this.y,c=t.y.redMul(r).redMul(this.z),u=n.redSub(i),d=a.redSub(c);if(u.cmpn(0)===0)return d.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var p=u.redSqr(),m=p.redMul(u),x=n.redMul(p),k=d.redSqr().redIAdd(m).redISub(x).redISub(x),S=d.redMul(x.redISub(k)).redISub(a.redMul(m)),P=this.z.redMul(u);return this.curve.jpoint(k,S,P)};Hr.prototype.dblp=function(t){if(t===0)return this;if(this.isInfinity())return this;if(!t)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<t;r++)n=n.dbl();return n}var i=this.curve.a,a=this.curve.tinv,c=this.x,u=this.y,d=this.z,p=d.redSqr().redSqr(),m=u.redAdd(u);for(r=0;r<t;r++){var x=c.redSqr(),k=m.redSqr(),S=k.redSqr(),P=x.redAdd(x).redIAdd(x).redIAdd(i.redMul(p)),j=c.redMul(k),U=P.redSqr().redISub(j.redAdd(j)),O=j.redISub(U),L=P.redMul(O);L=L.redIAdd(L).redISub(S);var z=m.redMul(d);r+1<t&&(p=p.redMul(S)),c=U,d=z,m=L}return this.curve.jpoint(c,m.redMul(a),d)};Hr.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};Hr.prototype._zeroDbl=function(){var t,r,n;if(this.zOne){var i=this.x.redSqr(),a=this.y.redSqr(),c=a.redSqr(),u=this.x.redAdd(a).redSqr().redISub(i).redISub(c);u=u.redIAdd(u);var d=i.redAdd(i).redIAdd(i),p=d.redSqr().redISub(u).redISub(u),m=c.redIAdd(c);m=m.redIAdd(m),m=m.redIAdd(m),t=p,r=d.redMul(u.redISub(p)).redISub(m),n=this.y.redAdd(this.y)}else{var x=this.x.redSqr(),k=this.y.redSqr(),S=k.redSqr(),P=this.x.redAdd(k).redSqr().redISub(x).redISub(S);P=P.redIAdd(P);var j=x.redAdd(x).redIAdd(x),U=j.redSqr(),O=S.redIAdd(S);O=O.redIAdd(O),O=O.redIAdd(O),t=U.redISub(P).redISub(P),r=j.redMul(P.redISub(t)).redISub(O),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(t,r,n)};Hr.prototype._threeDbl=function(){var t,r,n;if(this.zOne){var i=this.x.redSqr(),a=this.y.redSqr(),c=a.redSqr(),u=this.x.redAdd(a).redSqr().redISub(i).redISub(c);u=u.redIAdd(u);var d=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),p=d.redSqr().redISub(u).redISub(u);t=p;var m=c.redIAdd(c);m=m.redIAdd(m),m=m.redIAdd(m),r=d.redMul(u.redISub(p)).redISub(m),n=this.y.redAdd(this.y)}else{var x=this.z.redSqr(),k=this.y.redSqr(),S=this.x.redMul(k),P=this.x.redSub(x).redMul(this.x.redAdd(x));P=P.redAdd(P).redIAdd(P);var j=S.redIAdd(S);j=j.redIAdd(j);var U=j.redAdd(j);t=P.redSqr().redISub(U),n=this.y.redAdd(this.z).redSqr().redISub(k).redISub(x);var O=k.redSqr();O=O.redIAdd(O),O=O.redIAdd(O),O=O.redIAdd(O),r=P.redMul(j.redISub(t)).redISub(O)}return this.curve.jpoint(t,r,n)};Hr.prototype._dbl=function(){var t=this.curve.a,r=this.x,n=this.y,i=this.z,a=i.redSqr().redSqr(),c=r.redSqr(),u=n.redSqr(),d=c.redAdd(c).redIAdd(c).redIAdd(t.redMul(a)),p=r.redAdd(r);p=p.redIAdd(p);var m=p.redMul(u),x=d.redSqr().redISub(m.redAdd(m)),k=m.redISub(x),S=u.redSqr();S=S.redIAdd(S),S=S.redIAdd(S),S=S.redIAdd(S);var P=d.redMul(k).redISub(S),j=n.redAdd(n).redMul(i);return this.curve.jpoint(x,P,j)};Hr.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),a=t.redAdd(t).redIAdd(t),c=a.redSqr(),u=this.x.redAdd(r).redSqr().redISub(t).redISub(i);u=u.redIAdd(u),u=u.redAdd(u).redIAdd(u),u=u.redISub(c);var d=u.redSqr(),p=i.redIAdd(i);p=p.redIAdd(p),p=p.redIAdd(p),p=p.redIAdd(p);var m=a.redIAdd(u).redSqr().redISub(c).redISub(d).redISub(p),x=r.redMul(m);x=x.redIAdd(x),x=x.redIAdd(x);var k=this.x.redMul(d).redISub(x);k=k.redIAdd(k),k=k.redIAdd(k);var S=this.y.redMul(m.redMul(p.redISub(m)).redISub(u.redMul(d)));S=S.redIAdd(S),S=S.redIAdd(S),S=S.redIAdd(S);var P=this.z.redAdd(u).redSqr().redISub(n).redISub(d);return this.curve.jpoint(k,S,P)};Hr.prototype.mul=function(t,r){return t=new dr(t,r),this.curve._wnafMul(this,t)};Hr.prototype.eq=function(t){if(t.type==="affine")return this.eq(t.toJ());if(this===t)return!0;var r=this.z.redSqr(),n=t.z.redSqr();if(this.x.redMul(n).redISub(t.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),a=n.redMul(t.z);return this.y.redMul(a).redISub(t.y.redMul(i)).cmpn(0)===0};Hr.prototype.eqXToP=function(t){var r=this.z.redSqr(),n=t.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=t.clone(),a=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(a),this.x.cmp(n)===0)return!0}};Hr.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};Hr.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var Uc=wr,vE=dt,u1=f1,JF=jn;function Tf(e){u1.call(this,"mont",e),this.a=new Uc(e.a,16).toRed(this.red),this.b=new Uc(e.b,16).toRed(this.red),this.i4=new Uc(4).toRed(this.red).redInvm(),this.two=new Uc(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}vE(Tf,u1);var YF=Tf;Tf.prototype.validate=function(t){var r=t.normalize().x,n=r.redSqr(),i=n.redMul(r).redAdd(n.redMul(this.a)).redAdd(r),a=i.redSqrt();return a.redSqr().cmp(i)===0};function Tr(e,t,r){u1.BasePoint.call(this,e,"projective"),t===null&&r===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new Uc(t,16),this.z=new Uc(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}vE(Tr,u1.BasePoint);Tf.prototype.decodePoint=function(t,r){return this.point(JF.toArray(t,r),1)};Tf.prototype.point=function(t,r){return new Tr(this,t,r)};Tf.prototype.pointFromJSON=function(t){return Tr.fromJSON(this,t)};Tr.prototype.precompute=function(){};Tr.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};Tr.fromJSON=function(t,r){return new Tr(t,r[0],r[1]||t.one)};Tr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Tr.prototype.isInfinity=function(){return this.z.cmpn(0)===0};Tr.prototype.dbl=function(){var t=this.x.redAdd(this.z),r=t.redSqr(),n=this.x.redSub(this.z),i=n.redSqr(),a=r.redSub(i),c=r.redMul(i),u=a.redMul(i.redAdd(this.curve.a24.redMul(a)));return this.curve.point(c,u)};Tr.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};Tr.prototype.diffAdd=function(t,r){var n=this.x.redAdd(this.z),i=this.x.redSub(this.z),a=t.x.redAdd(t.z),c=t.x.redSub(t.z),u=c.redMul(n),d=a.redMul(i),p=r.z.redMul(u.redAdd(d).redSqr()),m=r.x.redMul(u.redISub(d).redSqr());return this.curve.point(p,m)};Tr.prototype.mul=function(t){for(var r=t.clone(),n=this,i=this.curve.point(null,null),a=this,c=[];r.cmpn(0)!==0;r.iushrn(1))c.push(r.andln(1));for(var u=c.length-1;u>=0;u--)c[u]===0?(n=n.diffAdd(i,a),i=i.dbl()):(i=n.diffAdd(i,a),n=n.dbl());return i};Tr.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};Tr.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};Tr.prototype.eq=function(t){return this.getX().cmp(t.getX())===0};Tr.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};Tr.prototype.getX=function(){return this.normalize(),this.x.fromRed()};var XF=jn,za=wr,mE=dt,l1=f1,QF=XF.assert;function va(e){this.twisted=(e.a|0)!==1,this.mOneA=this.twisted&&(e.a|0)===-1,this.extended=this.mOneA,l1.call(this,"edwards",e),this.a=new za(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new za(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new za(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),QF(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(e.c|0)===1}mE(va,l1);var ez=va;va.prototype._mulA=function(t){return this.mOneA?t.redNeg():this.a.redMul(t)};va.prototype._mulC=function(t){return this.oneC?t:this.c.redMul(t)};va.prototype.jpoint=function(t,r,n,i){return this.point(t,r,n,i)};va.prototype.pointFromX=function(t,r){t=new za(t,16),t.red||(t=t.toRed(this.red));var n=t.redSqr(),i=this.c2.redSub(this.a.redMul(n)),a=this.one.redSub(this.c2.redMul(this.d).redMul(n)),c=i.redMul(a.redInvm()),u=c.redSqrt();if(u.redSqr().redSub(c).cmp(this.zero)!==0)throw new Error("invalid point");var d=u.fromRed().isOdd();return(r&&!d||!r&&d)&&(u=u.redNeg()),this.point(t,u)};va.prototype.pointFromY=function(t,r){t=new za(t,16),t.red||(t=t.toRed(this.red));var n=t.redSqr(),i=n.redSub(this.c2),a=n.redMul(this.d).redMul(this.c2).redSub(this.a),c=i.redMul(a.redInvm());if(c.cmp(this.zero)===0){if(r)throw new Error("invalid point");return this.point(this.zero,t)}var u=c.redSqrt();if(u.redSqr().redSub(c).cmp(this.zero)!==0)throw new Error("invalid point");return u.fromRed().isOdd()!==r&&(u=u.redNeg()),this.point(u,t)};va.prototype.validate=function(t){if(t.isInfinity())return!0;t.normalize();var r=t.x.redSqr(),n=t.y.redSqr(),i=r.redMul(this.a).redAdd(n),a=this.c2.redMul(this.one.redAdd(this.d.redMul(r).redMul(n)));return i.cmp(a)===0};function tr(e,t,r,n,i){l1.BasePoint.call(this,e,"projective"),t===null&&r===null&&n===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new za(t,16),this.y=new za(r,16),this.z=n?new za(n,16):this.curve.one,this.t=i&&new za(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}mE(tr,l1.BasePoint);va.prototype.pointFromJSON=function(t){return tr.fromJSON(this,t)};va.prototype.point=function(t,r,n,i){return new tr(this,t,r,n,i)};tr.fromJSON=function(t,r){return new tr(t,r[0],r[1],r[2])};tr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};tr.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};tr.prototype._extDbl=function(){var t=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var i=this.curve._mulA(t),a=this.x.redAdd(this.y).redSqr().redISub(t).redISub(r),c=i.redAdd(r),u=c.redSub(n),d=i.redSub(r),p=a.redMul(u),m=c.redMul(d),x=a.redMul(d),k=u.redMul(c);return this.curve.point(p,m,k,x)};tr.prototype._projDbl=function(){var t=this.x.redAdd(this.y).redSqr(),r=this.x.redSqr(),n=this.y.redSqr(),i,a,c,u,d,p;if(this.curve.twisted){u=this.curve._mulA(r);var m=u.redAdd(n);this.zOne?(i=t.redSub(r).redSub(n).redMul(m.redSub(this.curve.two)),a=m.redMul(u.redSub(n)),c=m.redSqr().redSub(m).redSub(m)):(d=this.z.redSqr(),p=m.redSub(d).redISub(d),i=t.redSub(r).redISub(n).redMul(p),a=m.redMul(u.redSub(n)),c=m.redMul(p))}else u=r.redAdd(n),d=this.curve._mulC(this.z).redSqr(),p=u.redSub(d).redSub(d),i=this.curve._mulC(t.redISub(u)).redMul(p),a=this.curve._mulC(u).redMul(r.redISub(n)),c=u.redMul(p);return this.curve.point(i,a,c)};tr.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};tr.prototype._extAdd=function(t){var r=this.y.redSub(this.x).redMul(t.y.redSub(t.x)),n=this.y.redAdd(this.x).redMul(t.y.redAdd(t.x)),i=this.t.redMul(this.curve.dd).redMul(t.t),a=this.z.redMul(t.z.redAdd(t.z)),c=n.redSub(r),u=a.redSub(i),d=a.redAdd(i),p=n.redAdd(r),m=c.redMul(u),x=d.redMul(p),k=c.redMul(p),S=u.redMul(d);return this.curve.point(m,x,S,k)};tr.prototype._projAdd=function(t){var r=this.z.redMul(t.z),n=r.redSqr(),i=this.x.redMul(t.x),a=this.y.redMul(t.y),c=this.curve.d.redMul(i).redMul(a),u=n.redSub(c),d=n.redAdd(c),p=this.x.redAdd(this.y).redMul(t.x.redAdd(t.y)).redISub(i).redISub(a),m=r.redMul(u).redMul(p),x,k;return this.curve.twisted?(x=r.redMul(d).redMul(a.redSub(this.curve._mulA(i))),k=u.redMul(d)):(x=r.redMul(d).redMul(a.redSub(i)),k=this.curve._mulC(u).redMul(d)),this.curve.point(m,x,k)};tr.prototype.add=function(t){return this.isInfinity()?t:t.isInfinity()?this:this.curve.extended?this._extAdd(t):this._projAdd(t)};tr.prototype.mul=function(t){return this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve._wnafMul(this,t)};tr.prototype.mulAdd=function(t,r,n){return this.curve._wnafMulAdd(1,[this,r],[t,n],2,!1)};tr.prototype.jmulAdd=function(t,r,n){return this.curve._wnafMulAdd(1,[this,r],[t,n],2,!0)};tr.prototype.normalize=function(){if(this.zOne)return this;var t=this.z.redInvm();return this.x=this.x.redMul(t),this.y=this.y.redMul(t),this.t&&(this.t=this.t.redMul(t)),this.z=this.curve.one,this.zOne=!0,this};tr.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};tr.prototype.getX=function(){return this.normalize(),this.x.fromRed()};tr.prototype.getY=function(){return this.normalize(),this.y.fromRed()};tr.prototype.eq=function(t){return this===t||this.getX().cmp(t.getX())===0&&this.getY().cmp(t.getY())===0};tr.prototype.eqXToP=function(t){var r=t.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(r)===0)return!0;for(var n=t.clone(),i=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),this.x.cmp(r)===0)return!0}};tr.prototype.toP=tr.prototype.normalize;tr.prototype.mixedAdd=tr.prototype.add;(function(e){var t=e;t.base=f1,t.short=GF,t.mont=YF,t.edwards=ez})(P2);var d1={},h1={},Mt={},tz=ci,rz=dt;Mt.inherits=rz;function nz(e,t){return(e.charCodeAt(t)&64512)!==55296||t<0||t+1>=e.length?!1:(e.charCodeAt(t+1)&64512)===56320}function iz(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if(typeof e=="string")if(t){if(t==="hex")for(e=e.replace(/[^a-z0-9]+/ig,""),e.length%2!==0&&(e="0"+e),i=0;i<e.length;i+=2)r.push(parseInt(e[i]+e[i+1],16))}else for(var n=0,i=0;i<e.length;i++){var a=e.charCodeAt(i);a<128?r[n++]=a:a<2048?(r[n++]=a>>6|192,r[n++]=a&63|128):nz(e,i)?(a=65536+((a&1023)<<10)+(e.charCodeAt(++i)&1023),r[n++]=a>>18|240,r[n++]=a>>12&63|128,r[n++]=a>>6&63|128,r[n++]=a&63|128):(r[n++]=a>>12|224,r[n++]=a>>6&63|128,r[n++]=a&63|128)}else for(i=0;i<e.length;i++)r[i]=e[i]|0;return r}Mt.toArray=iz;function az(e){for(var t="",r=0;r<e.length;r++)t+=bE(e[r].toString(16));return t}Mt.toHex=az;function gE(e){var t=e>>>24|e>>>8&65280|e<<8&16711680|(e&255)<<24;return t>>>0}Mt.htonl=gE;function oz(e,t){for(var r="",n=0;n<e.length;n++){var i=e[n];t==="little"&&(i=gE(i)),r+=wE(i.toString(16))}return r}Mt.toHex32=oz;function bE(e){return e.length===1?"0"+e:e}Mt.zero2=bE;function wE(e){return e.length===7?"0"+e:e.length===6?"00"+e:e.length===5?"000"+e:e.length===4?"0000"+e:e.length===3?"00000"+e:e.length===2?"000000"+e:e.length===1?"0000000"+e:e}Mt.zero8=wE;function sz(e,t,r,n){var i=r-t;tz(i%4===0);for(var a=new Array(i/4),c=0,u=t;c<a.length;c++,u+=4){var d;n==="big"?d=e[u]<<24|e[u+1]<<16|e[u+2]<<8|e[u+3]:d=e[u+3]<<24|e[u+2]<<16|e[u+1]<<8|e[u],a[c]=d>>>0}return a}Mt.join32=sz;function cz(e,t){for(var r=new Array(e.length*4),n=0,i=0;n<e.length;n++,i+=4){var a=e[n];t==="big"?(r[i]=a>>>24,r[i+1]=a>>>16&255,r[i+2]=a>>>8&255,r[i+3]=a&255):(r[i+3]=a>>>24,r[i+2]=a>>>16&255,r[i+1]=a>>>8&255,r[i]=a&255)}return r}Mt.split32=cz;function fz(e,t){return e>>>t|e<<32-t}Mt.rotr32=fz;function uz(e,t){return e<<t|e>>>32-t}Mt.rotl32=uz;function lz(e,t){return e+t>>>0}Mt.sum32=lz;function dz(e,t,r){return e+t+r>>>0}Mt.sum32_3=dz;function hz(e,t,r,n){return e+t+r+n>>>0}Mt.sum32_4=hz;function pz(e,t,r,n,i){return e+t+r+n+i>>>0}Mt.sum32_5=pz;function yz(e,t,r,n){var i=e[t],a=e[t+1],c=n+a>>>0,u=(c<n?1:0)+r+i;e[t]=u>>>0,e[t+1]=c}Mt.sum64=yz;function vz(e,t,r,n){var i=t+n>>>0,a=(i<t?1:0)+e+r;return a>>>0}Mt.sum64_hi=vz;function mz(e,t,r,n){var i=t+n;return i>>>0}Mt.sum64_lo=mz;function gz(e,t,r,n,i,a,c,u){var d=0,p=t;p=p+n>>>0,d+=p<t?1:0,p=p+a>>>0,d+=p<a?1:0,p=p+u>>>0,d+=p<u?1:0;var m=e+r+i+c+d;return m>>>0}Mt.sum64_4_hi=gz;function bz(e,t,r,n,i,a,c,u){var d=t+n+a+u;return d>>>0}Mt.sum64_4_lo=bz;function wz(e,t,r,n,i,a,c,u,d,p){var m=0,x=t;x=x+n>>>0,m+=x<t?1:0,x=x+a>>>0,m+=x<a?1:0,x=x+u>>>0,m+=x<u?1:0,x=x+p>>>0,m+=x<p?1:0;var k=e+r+i+c+d+m;return k>>>0}Mt.sum64_5_hi=wz;function _z(e,t,r,n,i,a,c,u,d,p){var m=t+n+a+u+p;return m>>>0}Mt.sum64_5_lo=_z;function xz(e,t,r){var n=t<<32-r|e>>>r;return n>>>0}Mt.rotr64_hi=xz;function Sz(e,t,r){var n=e<<32-r|t>>>r;return n>>>0}Mt.rotr64_lo=Sz;function Ez(e,t,r){return e>>>r}Mt.shr64_hi=Ez;function kz(e,t,r){var n=e<<32-r|t>>>r;return n>>>0}Mt.shr64_lo=kz;var Nf={},L5=Mt,Mz=ci;function p1(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}Nf.BlockHash=p1;p1.prototype.update=function(t,r){if(t=L5.toArray(t,r),this.pending?this.pending=this.pending.concat(t):this.pending=t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){t=this.pending;var n=t.length%this._delta8;this.pending=t.slice(t.length-n,t.length),this.pending.length===0&&(this.pending=null),t=L5.join32(t,0,t.length-n,this.endian);for(var i=0;i<t.length;i+=this._delta32)this._update(t,i,i+this._delta32)}return this};p1.prototype.digest=function(t){return this.update(this._pad()),Mz(this.pending===null),this._digest(t)};p1.prototype._pad=function(){var t=this.pendingTotal,r=this._delta8,n=r-(t+this.padLength)%r,i=new Array(n+this.padLength);i[0]=128;for(var a=1;a<n;a++)i[a]=0;if(t<<=3,this.endian==="big"){for(var c=8;c<this.padLength;c++)i[a++]=0;i[a++]=0,i[a++]=0,i[a++]=0,i[a++]=0,i[a++]=t>>>24&255,i[a++]=t>>>16&255,i[a++]=t>>>8&255,i[a++]=t&255}else for(i[a++]=t&255,i[a++]=t>>>8&255,i[a++]=t>>>16&255,i[a++]=t>>>24&255,i[a++]=0,i[a++]=0,i[a++]=0,i[a++]=0,c=8;c<this.padLength;c++)i[a++]=0;return i};var Pf={},ma={},Az=Mt,fa=Az.rotr32;function Cz(e,t,r,n){if(e===0)return _E(t,r,n);if(e===1||e===3)return SE(t,r,n);if(e===2)return xE(t,r,n)}ma.ft_1=Cz;function _E(e,t,r){return e&t^~e&r}ma.ch32=_E;function xE(e,t,r){return e&t^e&r^t&r}ma.maj32=xE;function SE(e,t,r){return e^t^r}ma.p32=SE;function Bz(e){return fa(e,2)^fa(e,13)^fa(e,22)}ma.s0_256=Bz;function Iz(e){return fa(e,6)^fa(e,11)^fa(e,25)}ma.s1_256=Iz;function Rz(e){return fa(e,7)^fa(e,18)^e>>>3}ma.g0_256=Rz;function Tz(e){return fa(e,17)^fa(e,19)^e>>>10}ma.g1_256=Tz;var bf=Mt,Nz=Nf,Pz=ma,rm=bf.rotl32,Fu=bf.sum32,$z=bf.sum32_5,Lz=Pz.ft_1,EE=Nz.BlockHash,Oz=[1518500249,1859775393,2400959708,3395469782];function ha(){if(!(this instanceof ha))return new ha;EE.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}bf.inherits(ha,EE);var Dz=ha;ha.blockSize=512;ha.outSize=160;ha.hmacStrength=80;ha.padLength=64;ha.prototype._update=function(t,r){for(var n=this.W,i=0;i<16;i++)n[i]=t[r+i];for(;i<n.length;i++)n[i]=rm(n[i-3]^n[i-8]^n[i-14]^n[i-16],1);var a=this.h[0],c=this.h[1],u=this.h[2],d=this.h[3],p=this.h[4];for(i=0;i<n.length;i++){var m=~~(i/20),x=$z(rm(a,5),Lz(m,c,u,d),p,n[i],Oz[m]);p=d,d=u,u=rm(c,30),c=a,a=x}this.h[0]=Fu(this.h[0],a),this.h[1]=Fu(this.h[1],c),this.h[2]=Fu(this.h[2],u),this.h[3]=Fu(this.h[3],d),this.h[4]=Fu(this.h[4],p)};ha.prototype._digest=function(t){return t==="hex"?bf.toHex32(this.h,"big"):bf.split32(this.h,"big")};var wf=Mt,Uz=Nf,$f=ma,jz=ci,bi=wf.sum32,Fz=wf.sum32_4,zz=wf.sum32_5,Kz=$f.ch32,qz=$f.maj32,Hz=$f.s0_256,Wz=$f.s1_256,Vz=$f.g0_256,Zz=$f.g1_256,kE=Uz.BlockHash,Gz=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function pa(){if(!(this instanceof pa))return new pa;kE.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=Gz,this.W=new Array(64)}wf.inherits(pa,kE);var ME=pa;pa.blockSize=512;pa.outSize=256;pa.hmacStrength=192;pa.padLength=64;pa.prototype._update=function(t,r){for(var n=this.W,i=0;i<16;i++)n[i]=t[r+i];for(;i<n.length;i++)n[i]=Fz(Zz(n[i-2]),n[i-7],Vz(n[i-15]),n[i-16]);var a=this.h[0],c=this.h[1],u=this.h[2],d=this.h[3],p=this.h[4],m=this.h[5],x=this.h[6],k=this.h[7];for(jz(this.k.length===n.length),i=0;i<n.length;i++){var S=zz(k,Wz(p),Kz(p,m,x),this.k[i],n[i]),P=bi(Hz(a),qz(a,c,u));k=x,x=m,m=p,p=bi(d,S),d=u,u=c,c=a,a=bi(S,P)}this.h[0]=bi(this.h[0],a),this.h[1]=bi(this.h[1],c),this.h[2]=bi(this.h[2],u),this.h[3]=bi(this.h[3],d),this.h[4]=bi(this.h[4],p),this.h[5]=bi(this.h[5],m),this.h[6]=bi(this.h[6],x),this.h[7]=bi(this.h[7],k)};pa.prototype._digest=function(t){return t==="hex"?wf.toHex32(this.h,"big"):wf.split32(this.h,"big")};var $g=Mt,AE=ME;function Qa(){if(!(this instanceof Qa))return new Qa;AE.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}$g.inherits(Qa,AE);var Jz=Qa;Qa.blockSize=512;Qa.outSize=224;Qa.hmacStrength=192;Qa.padLength=64;Qa.prototype._digest=function(t){return t==="hex"?$g.toHex32(this.h.slice(0,7),"big"):$g.split32(this.h.slice(0,7),"big")};var Mn=Mt,Yz=Nf,Xz=ci,ua=Mn.rotr64_hi,la=Mn.rotr64_lo,CE=Mn.shr64_hi,BE=Mn.shr64_lo,go=Mn.sum64,nm=Mn.sum64_hi,im=Mn.sum64_lo,Qz=Mn.sum64_4_hi,eK=Mn.sum64_4_lo,tK=Mn.sum64_5_hi,rK=Mn.sum64_5_lo,IE=Yz.BlockHash,nK=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Ri(){if(!(this instanceof Ri))return new Ri;IE.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=nK,this.W=new Array(160)}Mn.inherits(Ri,IE);var RE=Ri;Ri.blockSize=1024;Ri.outSize=512;Ri.hmacStrength=192;Ri.padLength=128;Ri.prototype._prepareBlock=function(t,r){for(var n=this.W,i=0;i<32;i++)n[i]=t[r+i];for(;i<n.length;i+=2){var a=pK(n[i-4],n[i-3]),c=yK(n[i-4],n[i-3]),u=n[i-14],d=n[i-13],p=dK(n[i-30],n[i-29]),m=hK(n[i-30],n[i-29]),x=n[i-32],k=n[i-31];n[i]=Qz(a,c,u,d,p,m,x,k),n[i+1]=eK(a,c,u,d,p,m,x,k)}};Ri.prototype._update=function(t,r){this._prepareBlock(t,r);var n=this.W,i=this.h[0],a=this.h[1],c=this.h[2],u=this.h[3],d=this.h[4],p=this.h[5],m=this.h[6],x=this.h[7],k=this.h[8],S=this.h[9],P=this.h[10],j=this.h[11],U=this.h[12],O=this.h[13],L=this.h[14],z=this.h[15];Xz(this.k.length===n.length);for(var G=0;G<n.length;G+=2){var J=L,ne=z,ie=uK(k,S),re=lK(k,S),ce=iK(k,S,P,j,U),Se=aK(k,S,P,j,U,O),W=this.k[G],_=this.k[G+1],w=n[G],h=n[G+1],g=tK(J,ne,ie,re,ce,Se,W,_,w,h),M=rK(J,ne,ie,re,ce,Se,W,_,w,h);J=cK(i,a),ne=fK(i,a),ie=oK(i,a,c,u,d),re=sK(i,a,c,u,d,p);var N=nm(J,ne,ie,re),T=im(J,ne,ie,re);L=U,z=O,U=P,O=j,P=k,j=S,k=nm(m,x,g,M),S=im(x,x,g,M),m=d,x=p,d=c,p=u,c=i,u=a,i=nm(g,M,N,T),a=im(g,M,N,T)}go(this.h,0,i,a),go(this.h,2,c,u),go(this.h,4,d,p),go(this.h,6,m,x),go(this.h,8,k,S),go(this.h,10,P,j),go(this.h,12,U,O),go(this.h,14,L,z)};Ri.prototype._digest=function(t){return t==="hex"?Mn.toHex32(this.h,"big"):Mn.split32(this.h,"big")};function iK(e,t,r,n,i){var a=e&r^~e&i;return a<0&&(a+=4294967296),a}function aK(e,t,r,n,i,a){var c=t&n^~t&a;return c<0&&(c+=4294967296),c}function oK(e,t,r,n,i){var a=e&r^e&i^r&i;return a<0&&(a+=4294967296),a}function sK(e,t,r,n,i,a){var c=t&n^t&a^n&a;return c<0&&(c+=4294967296),c}function cK(e,t){var r=ua(e,t,28),n=ua(t,e,2),i=ua(t,e,7),a=r^n^i;return a<0&&(a+=4294967296),a}function fK(e,t){var r=la(e,t,28),n=la(t,e,2),i=la(t,e,7),a=r^n^i;return a<0&&(a+=4294967296),a}function uK(e,t){var r=ua(e,t,14),n=ua(e,t,18),i=ua(t,e,9),a=r^n^i;return a<0&&(a+=4294967296),a}function lK(e,t){var r=la(e,t,14),n=la(e,t,18),i=la(t,e,9),a=r^n^i;return a<0&&(a+=4294967296),a}function dK(e,t){var r=ua(e,t,1),n=ua(e,t,8),i=CE(e,t,7),a=r^n^i;return a<0&&(a+=4294967296),a}function hK(e,t){var r=la(e,t,1),n=la(e,t,8),i=BE(e,t,7),a=r^n^i;return a<0&&(a+=4294967296),a}function pK(e,t){var r=ua(e,t,19),n=ua(t,e,29),i=CE(e,t,6),a=r^n^i;return a<0&&(a+=4294967296),a}function yK(e,t){var r=la(e,t,19),n=la(t,e,29),i=BE(e,t,6),a=r^n^i;return a<0&&(a+=4294967296),a}var Lg=Mt,TE=RE;function eo(){if(!(this instanceof eo))return new eo;TE.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}Lg.inherits(eo,TE);var vK=eo;eo.blockSize=1024;eo.outSize=384;eo.hmacStrength=192;eo.padLength=128;eo.prototype._digest=function(t){return t==="hex"?Lg.toHex32(this.h.slice(0,12),"big"):Lg.split32(this.h.slice(0,12),"big")};Pf.sha1=Dz;Pf.sha224=Jz;Pf.sha256=ME;Pf.sha384=vK;Pf.sha512=RE;var NE={},zs=Mt,mK=Nf,Nh=zs.rotl32,O5=zs.sum32,zu=zs.sum32_3,D5=zs.sum32_4,PE=mK.BlockHash;function ya(){if(!(this instanceof ya))return new ya;PE.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}zs.inherits(ya,PE);NE.ripemd160=ya;ya.blockSize=512;ya.outSize=160;ya.hmacStrength=192;ya.padLength=64;ya.prototype._update=function(t,r){for(var n=this.h[0],i=this.h[1],a=this.h[2],c=this.h[3],u=this.h[4],d=n,p=i,m=a,x=c,k=u,S=0;S<80;S++){var P=O5(Nh(D5(n,U5(S,i,a,c),t[wK[S]+r],gK(S)),xK[S]),u);n=u,u=c,c=Nh(a,10),a=i,i=P,P=O5(Nh(D5(d,U5(79-S,p,m,x),t[_K[S]+r],bK(S)),SK[S]),k),d=k,k=x,x=Nh(m,10),m=p,p=P}P=zu(this.h[1],a,x),this.h[1]=zu(this.h[2],c,k),this.h[2]=zu(this.h[3],u,d),this.h[3]=zu(this.h[4],n,p),this.h[4]=zu(this.h[0],i,m),this.h[0]=P};ya.prototype._digest=function(t){return t==="hex"?zs.toHex32(this.h,"little"):zs.split32(this.h,"little")};function U5(e,t,r,n){return e<=15?t^r^n:e<=31?t&r|~t&n:e<=47?(t|~r)^n:e<=63?t&n|r&~n:t^(r|~n)}function gK(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function bK(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}var wK=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],_K=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],xK=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],SK=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],EK=Mt,kK=ci;function _f(e,t,r){if(!(this instanceof _f))return new _f(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(EK.toArray(t,r))}var MK=_f;_f.prototype._init=function(t){t.length>this.blockSize&&(t=new this.Hash().update(t).digest()),kK(t.length<=this.blockSize);for(var r=t.length;r<this.blockSize;r++)t.push(0);for(r=0;r<t.length;r++)t[r]^=54;for(this.inner=new this.Hash().update(t),r=0;r<t.length;r++)t[r]^=106;this.outer=new this.Hash().update(t)};_f.prototype.update=function(t,r){return this.inner.update(t,r),this};_f.prototype.digest=function(t){return this.outer.update(this.inner.digest()),this.outer.digest(t)};(function(e){var t=e;t.utils=Mt,t.common=Nf,t.sha=Pf,t.ripemd=NE,t.hmac=MK,t.sha1=t.sha.sha1,t.sha256=t.sha.sha256,t.sha224=t.sha.sha224,t.sha384=t.sha.sha384,t.sha512=t.sha.sha512,t.ripemd160=t.ripemd.ripemd160})(h1);var am,j5;function AK(){return j5||(j5=1,am={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),am}(function(e){var t=e,r=h1,n=P2,i=jn,a=i.assert;function c(p){p.type==="short"?this.curve=new n.short(p):p.type==="edwards"?this.curve=new n.edwards(p):this.curve=new n.mont(p),this.g=this.curve.g,this.n=this.curve.n,this.hash=p.hash,a(this.g.validate(),"Invalid curve"),a(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}t.PresetCurve=c;function u(p,m){Object.defineProperty(t,p,{configurable:!0,enumerable:!0,get:function(){var x=new c(m);return Object.defineProperty(t,p,{configurable:!0,enumerable:!0,value:x}),x}})}u("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:r.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),u("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:r.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),u("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:r.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),u("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:r.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),u("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:r.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),u("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["9"]}),u("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var d;try{d=AK()}catch{d=void 0}u("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:r.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",d]})})(d1);var CK=h1,Ts=N2,$E=ci;function qo(e){if(!(this instanceof qo))return new qo(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=Ts.toArray(e.entropy,e.entropyEnc||"hex"),r=Ts.toArray(e.nonce,e.nonceEnc||"hex"),n=Ts.toArray(e.pers,e.persEnc||"hex");$E(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,n)}var BK=qo;qo.prototype._init=function(t,r,n){var i=t.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var a=0;a<this.V.length;a++)this.K[a]=0,this.V[a]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};qo.prototype._hmac=function(){return new CK.hmac(this.hash,this.K)};qo.prototype._update=function(t){var r=this._hmac().update(this.V).update([0]);t&&(r=r.update(t)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())};qo.prototype.reseed=function(t,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),t=Ts.toArray(t,r),n=Ts.toArray(n,i),$E(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(n||[])),this._reseed=1};qo.prototype.generate=function(t,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=Ts.toArray(n,i||"hex"),this._update(n));for(var a=[];a.length<t;)this.V=this._hmac().update(this.V).digest(),a=a.concat(this.V);var c=a.slice(0,t);return this._update(n),this._reseed++,Ts.encode(c,r)};var IK=wr,RK=jn,Og=RK.assert;function on(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var TK=on;on.fromPublic=function(t,r,n){return r instanceof on?r:new on(t,{pub:r,pubEnc:n})};on.fromPrivate=function(t,r,n){return r instanceof on?r:new on(t,{priv:r,privEnc:n})};on.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};on.prototype.getPublic=function(t,r){return typeof t=="string"&&(r=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,t):this.pub};on.prototype.getPrivate=function(t){return t==="hex"?this.priv.toString(16,2):this.priv};on.prototype._importPrivate=function(t,r){this.priv=new IK(t,r||16),this.priv=this.priv.umod(this.ec.curve.n)};on.prototype._importPublic=function(t,r){if(t.x||t.y){this.ec.curve.type==="mont"?Og(t.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&Og(t.x&&t.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(t.x,t.y);return}this.pub=this.ec.curve.decodePoint(t,r)};on.prototype.derive=function(t){return t.validate()||Og(t.validate(),"public point not validated"),t.mul(this.priv).getX()};on.prototype.sign=function(t,r,n){return this.ec.sign(t,this,r,n)};on.prototype.verify=function(t,r){return this.ec.verify(t,r,this)};on.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var Y0=wr,L2=jn,NK=L2.assert;function y1(e,t){if(e instanceof y1)return e;this._importDER(e,t)||(NK(e.r&&e.s,"Signature without r or s"),this.r=new Y0(e.r,16),this.s=new Y0(e.s,16),e.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}var PK=y1;function $K(){this.place=0}function om(e,t){var r=e[t.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4)return!1;for(var i=0,a=0,c=t.place;a<n;a++,c++)i<<=8,i|=e[c],i>>>=0;return i<=127?!1:(t.place=c,i)}function F5(e){for(var t=0,r=e.length-1;!e[t]&&!(e[t+1]&128)&&t<r;)t++;return t===0?e:e.slice(t)}y1.prototype._importDER=function(t,r){t=L2.toArray(t,r);var n=new $K;if(t[n.place++]!==48)return!1;var i=om(t,n);if(i===!1||i+n.place!==t.length||t[n.place++]!==2)return!1;var a=om(t,n);if(a===!1)return!1;var c=t.slice(n.place,a+n.place);if(n.place+=a,t[n.place++]!==2)return!1;var u=om(t,n);if(u===!1||t.length!==u+n.place)return!1;var d=t.slice(n.place,u+n.place);if(c[0]===0)if(c[1]&128)c=c.slice(1);else return!1;if(d[0]===0)if(d[1]&128)d=d.slice(1);else return!1;return this.r=new Y0(c),this.s=new Y0(d),this.recoveryParam=null,!0};function sm(e,t){if(t<128){e.push(t);return}var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(r|128);--r;)e.push(t>>>(r<<3)&255);e.push(t)}y1.prototype.toDER=function(t){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=F5(r),n=F5(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];sm(i,r.length),i=i.concat(r),i.push(2),sm(i,n.length);var a=i.concat(n),c=[48];return sm(c,a.length),c=c.concat(a),L2.encode(c,t)};var cm,z5;function LK(){if(z5)return cm;z5=1;var e=wr,t=BK,r=jn,n=d1,i=R2(),a=r.assert,c=TK,u=PK;function d(p){if(!(this instanceof d))return new d(p);typeof p=="string"&&(a(Object.prototype.hasOwnProperty.call(n,p),"Unknown curve "+p),p=n[p]),p instanceof n.PresetCurve&&(p={curve:p}),this.curve=p.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=p.curve.g,this.g.precompute(p.curve.n.bitLength()+1),this.hash=p.hash||p.curve.hash}return cm=d,d.prototype.keyPair=function(m){return new c(this,m)},d.prototype.keyFromPrivate=function(m,x){return c.fromPrivate(this,m,x)},d.prototype.keyFromPublic=function(m,x){return c.fromPublic(this,m,x)},d.prototype.genKeyPair=function(m){m||(m={});for(var x=new t({hash:this.hash,pers:m.pers,persEnc:m.persEnc||"utf8",entropy:m.entropy||i(this.hash.hmacStrength),entropyEnc:m.entropy&&m.entropyEnc||"utf8",nonce:this.n.toArray()}),k=this.n.byteLength(),S=this.n.sub(new e(2));;){var P=new e(x.generate(k));if(!(P.cmp(S)>0))return P.iaddn(1),this.keyFromPrivate(P)}},d.prototype._truncateToN=function(m,x){var k=m.byteLength()*8-this.n.bitLength();return k>0&&(m=m.ushrn(k)),!x&&m.cmp(this.n)>=0?m.sub(this.n):m},d.prototype.sign=function(m,x,k,S){typeof k=="object"&&(S=k,k=null),S||(S={}),x=this.keyFromPrivate(x,k),m=this._truncateToN(new e(m,16));for(var P=this.n.byteLength(),j=x.getPrivate().toArray("be",P),U=m.toArray("be",P),O=new t({hash:this.hash,entropy:j,nonce:U,pers:S.pers,persEnc:S.persEnc||"utf8"}),L=this.n.sub(new e(1)),z=0;;z++){var G=S.k?S.k(z):new e(O.generate(this.n.byteLength()));if(G=this._truncateToN(G,!0),!(G.cmpn(1)<=0||G.cmp(L)>=0)){var J=this.g.mul(G);if(!J.isInfinity()){var ne=J.getX(),ie=ne.umod(this.n);if(ie.cmpn(0)!==0){var re=G.invm(this.n).mul(ie.mul(x.getPrivate()).iadd(m));if(re=re.umod(this.n),re.cmpn(0)!==0){var ce=(J.getY().isOdd()?1:0)|(ne.cmp(ie)!==0?2:0);return S.canonical&&re.cmp(this.nh)>0&&(re=this.n.sub(re),ce^=1),new u({r:ie,s:re,recoveryParam:ce})}}}}}},d.prototype.verify=function(m,x,k,S){m=this._truncateToN(new e(m,16)),k=this.keyFromPublic(k,S),x=new u(x,"hex");var P=x.r,j=x.s;if(P.cmpn(1)<0||P.cmp(this.n)>=0||j.cmpn(1)<0||j.cmp(this.n)>=0)return!1;var U=j.invm(this.n),O=U.mul(m).umod(this.n),L=U.mul(P).umod(this.n),z;return this.curve._maxwellTrick?(z=this.g.jmulAdd(O,k.getPublic(),L),z.isInfinity()?!1:z.eqXToP(P)):(z=this.g.mulAdd(O,k.getPublic(),L),z.isInfinity()?!1:z.getX().umod(this.n).cmp(P)===0)},d.prototype.recoverPubKey=function(p,m,x,k){a((3&x)===x,"The recovery param is more than two bits"),m=new u(m,k);var S=this.n,P=new e(p),j=m.r,U=m.s,O=x&1,L=x>>1;if(j.cmp(this.curve.p.umod(this.curve.n))>=0&&L)throw new Error("Unable to find sencond key candinate");L?j=this.curve.pointFromX(j.add(this.curve.n),O):j=this.curve.pointFromX(j,O);var z=m.r.invm(S),G=S.sub(P).mul(z).umod(S),J=U.mul(z).umod(S);return this.g.mulAdd(G,j,J)},d.prototype.getKeyRecoveryParam=function(p,m,x,k){if(m=new u(m,k),m.recoveryParam!==null)return m.recoveryParam;for(var S=0;S<4;S++){var P;try{P=this.recoverPubKey(p,m,S)}catch{continue}if(P.eq(x))return S}throw new Error("Unable to find valid recovery factor")},cm}var yd=jn,LE=yd.assert,K5=yd.parseBytes,Lf=yd.cachedProperty;function Rr(e,t){this.eddsa=e,this._secret=K5(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=K5(t.pub)}Rr.fromPublic=function(t,r){return r instanceof Rr?r:new Rr(t,{pub:r})};Rr.fromSecret=function(t,r){return r instanceof Rr?r:new Rr(t,{secret:r})};Rr.prototype.secret=function(){return this._secret};Lf(Rr,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});Lf(Rr,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});Lf(Rr,"privBytes",function(){var t=this.eddsa,r=this.hash(),n=t.encodingLength-1,i=r.slice(0,t.encodingLength);return i[0]&=248,i[n]&=127,i[n]|=64,i});Lf(Rr,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});Lf(Rr,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});Lf(Rr,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});Rr.prototype.sign=function(t){return LE(this._secret,"KeyPair can only verify"),this.eddsa.sign(t,this)};Rr.prototype.verify=function(t,r){return this.eddsa.verify(t,r,this)};Rr.prototype.getSecret=function(t){return LE(this._secret,"KeyPair is public only"),yd.encode(this.secret(),t)};Rr.prototype.getPublic=function(t){return yd.encode(this.pubBytes(),t)};var OK=Rr,DK=wr,v1=jn,UK=v1.assert,m1=v1.cachedProperty,jK=v1.parseBytes;function Gs(e,t){this.eddsa=e,typeof t!="object"&&(t=jK(t)),Array.isArray(t)&&(t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),UK(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof DK&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}m1(Gs,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});m1(Gs,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});m1(Gs,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});m1(Gs,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});Gs.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};Gs.prototype.toHex=function(){return v1.encode(this.toBytes(),"hex").toUpperCase()};var FK=Gs,zK=h1,KK=d1,xf=jn,qK=xf.assert,OE=xf.parseBytes,DE=OK,q5=FK;function An(e){if(qK(e==="ed25519","only tested with ed25519 so far"),!(this instanceof An))return new An(e);e=KK[e].curve,this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=zK.sha512}var HK=An;An.prototype.sign=function(t,r){t=OE(t);var n=this.keyFromSecret(r),i=this.hashInt(n.messagePrefix(),t),a=this.g.mul(i),c=this.encodePoint(a),u=this.hashInt(c,n.pubBytes(),t).mul(n.priv()),d=i.add(u).umod(this.curve.n);return this.makeSignature({R:a,S:d,Rencoded:c})};An.prototype.verify=function(t,r,n){t=OE(t),r=this.makeSignature(r);var i=this.keyFromPublic(n),a=this.hashInt(r.Rencoded(),i.pubBytes(),t),c=this.g.mul(r.S()),u=r.R().add(i.pub().mul(a));return u.eq(c)};An.prototype.hashInt=function(){for(var t=this.hash(),r=0;r<arguments.length;r++)t.update(arguments[r]);return xf.intFromLE(t.digest()).umod(this.curve.n)};An.prototype.keyFromPublic=function(t){return DE.fromPublic(this,t)};An.prototype.keyFromSecret=function(t){return DE.fromSecret(this,t)};An.prototype.makeSignature=function(t){return t instanceof q5?t:new q5(this,t)};An.prototype.encodePoint=function(t){var r=t.getY().toArray("le",this.encodingLength);return r[this.encodingLength-1]|=t.getX().isOdd()?128:0,r};An.prototype.decodePoint=function(t){t=xf.parseBytes(t);var r=t.length-1,n=t.slice(0,r).concat(t[r]&-129),i=(t[r]&128)!==0,a=xf.intFromLE(n);return this.curve.pointFromY(a,i)};An.prototype.encodeInt=function(t){return t.toArray("le",this.encodingLength)};An.prototype.decodeInt=function(t){return xf.intFromLE(t)};An.prototype.isPoint=function(t){return t instanceof this.pointClass};var H5;function O2(){return H5||(H5=1,function(e){var t=e;t.version=HF.version,t.utils=jn,t.rand=R2(),t.curve=P2,t.curves=d1,t.ec=LK(),t.eddsa=HK}(tm)),tm}var Ni={},D2={},UE={},U2={},u0=ft,Yc=u0.Buffer,Yn={},Xn;for(Xn in u0)u0.hasOwnProperty(Xn)&&(Xn==="SlowBuffer"||Xn==="Buffer"||(Yn[Xn]=u0[Xn]));var Xc=Yn.Buffer={};for(Xn in Yc)Yc.hasOwnProperty(Xn)&&(Xn==="allocUnsafe"||Xn==="allocUnsafeSlow"||(Xc[Xn]=Yc[Xn]));Yn.Buffer.prototype=Yc.prototype;(!Xc.from||Xc.from===Uint8Array.from)&&(Xc.from=function(e,t,r){if(typeof e=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof e);if(e&&typeof e.length>"u")throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);return Yc(e,t,r)});Xc.alloc||(Xc.alloc=function(e,t,r){if(typeof e!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof e);if(e<0||e>=2*(1<<30))throw new RangeError('The value "'+e+'" is invalid for option "size"');var n=Yc(e);return!t||t.length===0?n.fill(0):typeof r=="string"?n.fill(t,r):n.fill(t),n});if(!Yn.kStringMaxLength)try{Yn.kStringMaxLength=at.binding("buffer").kStringMaxLength}catch{}Yn.constants||(Yn.constants={MAX_LENGTH:Yn.kMaxLength},Yn.kStringMaxLength&&(Yn.constants.MAX_STRING_LENGTH=Yn.kStringMaxLength));var j2=Yn,g1={};const WK=dt;function di(e){this._reporterState={obj:null,path:[],options:e||{},errors:[]}}g1.Reporter=di;di.prototype.isError=function(t){return t instanceof Sf};di.prototype.save=function(){const t=this._reporterState;return{obj:t.obj,pathLen:t.path.length}};di.prototype.restore=function(t){const r=this._reporterState;r.obj=t.obj,r.path=r.path.slice(0,t.pathLen)};di.prototype.enterKey=function(t){return this._reporterState.path.push(t)};di.prototype.exitKey=function(t){const r=this._reporterState;r.path=r.path.slice(0,t-1)};di.prototype.leaveKey=function(t,r,n){const i=this._reporterState;this.exitKey(t),i.obj!==null&&(i.obj[r]=n)};di.prototype.path=function(){return this._reporterState.path.join("/")};di.prototype.enterObject=function(){const t=this._reporterState,r=t.obj;return t.obj={},r};di.prototype.leaveObject=function(t){const r=this._reporterState,n=r.obj;return r.obj=t,n};di.prototype.error=function(t){let r;const n=this._reporterState,i=t instanceof Sf;if(i?r=t:r=new Sf(n.path.map(function(a){return"["+JSON.stringify(a)+"]"}).join(""),t.message||t,t.stack),!n.options.partial)throw r;return i||n.errors.push(r),r};di.prototype.wrapResult=function(t){const r=this._reporterState;return r.options.partial?{result:this.isError(t)?null:t,errors:r.errors}:t};function Sf(e,t){this.path=e,this.rethrow(t)}WK(Sf,Error);Sf.prototype.rethrow=function(t){if(this.message=t+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,Sf),!this.stack)try{throw new Error(this.message)}catch(r){this.stack=r.stack}return this};var Ks={};const VK=dt,b1=g1.Reporter,Ef=j2.Buffer;function ai(e,t){if(b1.call(this,t),!Ef.isBuffer(e)){this.error("Input not Buffer");return}this.base=e,this.offset=0,this.length=e.length}VK(ai,b1);Ks.DecoderBuffer=ai;ai.isDecoderBuffer=function(t){return t instanceof ai?!0:typeof t=="object"&&Ef.isBuffer(t.base)&&t.constructor.name==="DecoderBuffer"&&typeof t.offset=="number"&&typeof t.length=="number"&&typeof t.save=="function"&&typeof t.restore=="function"&&typeof t.isEmpty=="function"&&typeof t.readUInt8=="function"&&typeof t.skip=="function"&&typeof t.raw=="function"};ai.prototype.save=function(){return{offset:this.offset,reporter:b1.prototype.save.call(this)}};ai.prototype.restore=function(t){const r=new ai(this.base);return r.offset=t.offset,r.length=this.offset,this.offset=t.offset,b1.prototype.restore.call(this,t.reporter),r};ai.prototype.isEmpty=function(){return this.offset===this.length};ai.prototype.readUInt8=function(t){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(t||"DecoderBuffer overrun")};ai.prototype.skip=function(t,r){if(!(this.offset+t<=this.length))return this.error(r||"DecoderBuffer overrun");const n=new ai(this.base);return n._reporterState=this._reporterState,n.offset=this.offset,n.length=this.offset+t,this.offset+=t,n};ai.prototype.raw=function(t){return this.base.slice(t?t.offset:this.offset,this.length)};function kf(e,t){if(Array.isArray(e))this.length=0,this.value=e.map(function(r){return kf.isEncoderBuffer(r)||(r=new kf(r,t)),this.length+=r.length,r},this);else if(typeof e=="number"){if(!(0<=e&&e<=255))return t.error("non-byte EncoderBuffer value");this.value=e,this.length=1}else if(typeof e=="string")this.value=e,this.length=Ef.byteLength(e);else if(Ef.isBuffer(e))this.value=e,this.length=e.length;else return t.error("Unsupported type: "+typeof e)}Ks.EncoderBuffer=kf;kf.isEncoderBuffer=function(t){return t instanceof kf?!0:typeof t=="object"&&t.constructor.name==="EncoderBuffer"&&typeof t.length=="number"&&typeof t.join=="function"};kf.prototype.join=function(t,r){return t||(t=Ef.alloc(this.length)),r||(r=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(n){n.join(t,r),r+=n.length}):(typeof this.value=="number"?t[r]=this.value:typeof this.value=="string"?t.write(this.value,r):Ef.isBuffer(this.value)&&this.value.copy(t,r),r+=this.length)),t};const ZK=g1.Reporter,GK=Ks.EncoderBuffer,JK=Ks.DecoderBuffer,hn=ci,jE=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],YK=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(jE),XK=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function Vt(e,t,r){const n={};this._baseState=n,n.name=r,n.enc=e,n.parent=t||null,n.children=null,n.tag=null,n.args=null,n.reverseArgs=null,n.choice=null,n.optional=!1,n.any=!1,n.obj=!1,n.use=null,n.useDecoder=null,n.key=null,n.default=null,n.explicit=null,n.implicit=null,n.contains=null,n.parent||(n.children=[],this._wrap())}var F2=Vt;const QK=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];Vt.prototype.clone=function(){const t=this._baseState,r={};QK.forEach(function(i){r[i]=t[i]});const n=new this.constructor(r.parent);return n._baseState=r,n};Vt.prototype._wrap=function(){const t=this._baseState;YK.forEach(function(r){this[r]=function(){const i=new this.constructor(this);return t.children.push(i),i[r].apply(i,arguments)}},this)};Vt.prototype._init=function(t){const r=this._baseState;hn(r.parent===null),t.call(this),r.children=r.children.filter(function(n){return n._baseState.parent===this},this),hn.equal(r.children.length,1,"Root node can have only one child")};Vt.prototype._useArgs=function(t){const r=this._baseState,n=t.filter(function(i){return i instanceof this.constructor},this);t=t.filter(function(i){return!(i instanceof this.constructor)},this),n.length!==0&&(hn(r.children===null),r.children=n,n.forEach(function(i){i._baseState.parent=this},this)),t.length!==0&&(hn(r.args===null),r.args=t,r.reverseArgs=t.map(function(i){if(typeof i!="object"||i.constructor!==Object)return i;const a={};return Object.keys(i).forEach(function(c){c==(c|0)&&(c|=0);const u=i[c];a[u]=c}),a}))};XK.forEach(function(e){Vt.prototype[e]=function(){const r=this._baseState;throw new Error(e+" not implemented for encoding: "+r.enc)}});jE.forEach(function(e){Vt.prototype[e]=function(){const r=this._baseState,n=Array.prototype.slice.call(arguments);return hn(r.tag===null),r.tag=e,this._useArgs(n),this}});Vt.prototype.use=function(t){hn(t);const r=this._baseState;return hn(r.use===null),r.use=t,this};Vt.prototype.optional=function(){const t=this._baseState;return t.optional=!0,this};Vt.prototype.def=function(t){const r=this._baseState;return hn(r.default===null),r.default=t,r.optional=!0,this};Vt.prototype.explicit=function(t){const r=this._baseState;return hn(r.explicit===null&&r.implicit===null),r.explicit=t,this};Vt.prototype.implicit=function(t){const r=this._baseState;return hn(r.explicit===null&&r.implicit===null),r.implicit=t,this};Vt.prototype.obj=function(){const t=this._baseState,r=Array.prototype.slice.call(arguments);return t.obj=!0,r.length!==0&&this._useArgs(r),this};Vt.prototype.key=function(t){const r=this._baseState;return hn(r.key===null),r.key=t,this};Vt.prototype.any=function(){const t=this._baseState;return t.any=!0,this};Vt.prototype.choice=function(t){const r=this._baseState;return hn(r.choice===null),r.choice=t,this._useArgs(Object.keys(t).map(function(n){return t[n]})),this};Vt.prototype.contains=function(t){const r=this._baseState;return hn(r.use===null),r.contains=t,this};Vt.prototype._decode=function(t,r){const n=this._baseState;if(n.parent===null)return t.wrapResult(n.children[0]._decode(t,r));let i=n.default,a=!0,c=null;if(n.key!==null&&(c=t.enterKey(n.key)),n.optional){let d=null;if(n.explicit!==null?d=n.explicit:n.implicit!==null?d=n.implicit:n.tag!==null&&(d=n.tag),d===null&&!n.any){const p=t.save();try{n.choice===null?this._decodeGeneric(n.tag,t,r):this._decodeChoice(t,r),a=!0}catch{a=!1}t.restore(p)}else if(a=this._peekTag(t,d,n.any),t.isError(a))return a}let u;if(n.obj&&a&&(u=t.enterObject()),a){if(n.explicit!==null){const p=this._decodeTag(t,n.explicit);if(t.isError(p))return p;t=p}const d=t.offset;if(n.use===null&&n.choice===null){let p;n.any&&(p=t.save());const m=this._decodeTag(t,n.implicit!==null?n.implicit:n.tag,n.any);if(t.isError(m))return m;n.any?i=t.raw(p):t=m}if(r&&r.track&&n.tag!==null&&r.track(t.path(),d,t.length,"tagged"),r&&r.track&&n.tag!==null&&r.track(t.path(),t.offset,t.length,"content"),n.any||(n.choice===null?i=this._decodeGeneric(n.tag,t,r):i=this._decodeChoice(t,r)),t.isError(i))return i;if(!n.any&&n.choice===null&&n.children!==null&&n.children.forEach(function(m){m._decode(t,r)}),n.contains&&(n.tag==="octstr"||n.tag==="bitstr")){const p=new JK(i);i=this._getUse(n.contains,t._reporterState.obj)._decode(p,r)}}return n.obj&&a&&(i=t.leaveObject(u)),n.key!==null&&(i!==null||a===!0)?t.leaveKey(c,n.key,i):c!==null&&t.exitKey(c),i};Vt.prototype._decodeGeneric=function(t,r,n){const i=this._baseState;return t==="seq"||t==="set"?null:t==="seqof"||t==="setof"?this._decodeList(r,t,i.args[0],n):/str$/.test(t)?this._decodeStr(r,t,n):t==="objid"&&i.args?this._decodeObjid(r,i.args[0],i.args[1],n):t==="objid"?this._decodeObjid(r,null,null,n):t==="gentime"||t==="utctime"?this._decodeTime(r,t,n):t==="null_"?this._decodeNull(r,n):t==="bool"?this._decodeBool(r,n):t==="objDesc"?this._decodeStr(r,t,n):t==="int"||t==="enum"?this._decodeInt(r,i.args&&i.args[0],n):i.use!==null?this._getUse(i.use,r._reporterState.obj)._decode(r,n):r.error("unknown tag: "+t)};Vt.prototype._getUse=function(t,r){const n=this._baseState;return n.useDecoder=this._use(t,r),hn(n.useDecoder._baseState.parent===null),n.useDecoder=n.useDecoder._baseState.children[0],n.implicit!==n.useDecoder._baseState.implicit&&(n.useDecoder=n.useDecoder.clone(),n.useDecoder._baseState.implicit=n.implicit),n.useDecoder};Vt.prototype._decodeChoice=function(t,r){const n=this._baseState;let i=null,a=!1;return Object.keys(n.choice).some(function(c){const u=t.save(),d=n.choice[c];try{const p=d._decode(t,r);if(t.isError(p))return!1;i={type:c,value:p},a=!0}catch{return t.restore(u),!1}return!0},this),a?i:t.error("Choice not matched")};Vt.prototype._createEncoderBuffer=function(t){return new GK(t,this.reporter)};Vt.prototype._encode=function(t,r,n){const i=this._baseState;if(i.default!==null&&i.default===t)return;const a=this._encodeValue(t,r,n);if(a!==void 0&&!this._skipDefault(a,r,n))return a};Vt.prototype._encodeValue=function(t,r,n){const i=this._baseState;if(i.parent===null)return i.children[0]._encode(t,r||new ZK);let a=null;if(this.reporter=r,i.optional&&t===void 0)if(i.default!==null)t=i.default;else return;let c=null,u=!1;if(i.any)a=this._createEncoderBuffer(t);else if(i.choice)a=this._encodeChoice(t,r);else if(i.contains)c=this._getUse(i.contains,n)._encode(t,r),u=!0;else if(i.children)c=i.children.map(function(d){if(d._baseState.tag==="null_")return d._encode(null,r,t);if(d._baseState.key===null)return r.error("Child should have a key");const p=r.enterKey(d._baseState.key);if(typeof t!="object")return r.error("Child expected, but input is not object");const m=d._encode(t[d._baseState.key],r,t);return r.leaveKey(p),m},this).filter(function(d){return d}),c=this._createEncoderBuffer(c);else if(i.tag==="seqof"||i.tag==="setof"){if(!(i.args&&i.args.length===1))return r.error("Too many args for : "+i.tag);if(!Array.isArray(t))return r.error("seqof/setof, but data is not Array");const d=this.clone();d._baseState.implicit=null,c=this._createEncoderBuffer(t.map(function(p){const m=this._baseState;return this._getUse(m.args[0],t)._encode(p,r)},d))}else i.use!==null?a=this._getUse(i.use,n)._encode(t,r):(c=this._encodePrimitive(i.tag,t),u=!0);if(!i.any&&i.choice===null){const d=i.implicit!==null?i.implicit:i.tag,p=i.implicit===null?"universal":"context";d===null?i.use===null&&r.error("Tag could be omitted only for .use()"):i.use===null&&(a=this._encodeComposite(d,u,p,c))}return i.explicit!==null&&(a=this._encodeComposite(i.explicit,!1,"context",a)),a};Vt.prototype._encodeChoice=function(t,r){const n=this._baseState,i=n.choice[t.type];return i||hn(!1,t.type+" not found in "+JSON.stringify(Object.keys(n.choice))),i._encode(t.value,r)};Vt.prototype._encodePrimitive=function(t,r){const n=this._baseState;if(/str$/.test(t))return this._encodeStr(r,t);if(t==="objid"&&n.args)return this._encodeObjid(r,n.reverseArgs[0],n.args[1]);if(t==="objid")return this._encodeObjid(r,null,null);if(t==="gentime"||t==="utctime")return this._encodeTime(r,t);if(t==="null_")return this._encodeNull();if(t==="int"||t==="enum")return this._encodeInt(r,n.args&&n.reverseArgs[0]);if(t==="bool")return this._encodeBool(r);if(t==="objDesc")return this._encodeStr(r,t);throw new Error("Unsupported tag: "+t)};Vt.prototype._isNumstr=function(t){return/^[0-9 ]*$/.test(t)};Vt.prototype._isPrintstr=function(t){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(t)};var w1={};(function(e){function t(r){const n={};return Object.keys(r).forEach(function(i){(i|0)==i&&(i=i|0);const a=r[i];n[a]=i}),n}e.tagClass={0:"universal",1:"application",2:"context",3:"private"},e.tagClassByName=t(e.tagClass),e.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},e.tagByName=t(e.tag)})(w1);const eq=dt,Da=j2.Buffer,FE=F2,fm=w1;function zE(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new Pi,this.tree._init(e.body)}var KE=zE;zE.prototype.encode=function(t,r){return this.tree._encode(t,r).join()};function Pi(e){FE.call(this,"der",e)}eq(Pi,FE);Pi.prototype._encodeComposite=function(t,r,n,i){const a=tq(t,r,n,this.reporter);if(i.length<128){const d=Da.alloc(2);return d[0]=a,d[1]=i.length,this._createEncoderBuffer([d,i])}let c=1;for(let d=i.length;d>=256;d>>=8)c++;const u=Da.alloc(1+1+c);u[0]=a,u[1]=128|c;for(let d=1+c,p=i.length;p>0;d--,p>>=8)u[d]=p&255;return this._createEncoderBuffer([u,i])};Pi.prototype._encodeStr=function(t,r){if(r==="bitstr")return this._createEncoderBuffer([t.unused|0,t.data]);if(r==="bmpstr"){const n=Da.alloc(t.length*2);for(let i=0;i<t.length;i++)n.writeUInt16BE(t.charCodeAt(i),i*2);return this._createEncoderBuffer(n)}else return r==="numstr"?this._isNumstr(t)?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: numstr supports only digits and space"):r==="printstr"?this._isPrintstr(t)?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(r)?this._createEncoderBuffer(t):r==="objDesc"?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: "+r+" unsupported")};Pi.prototype._encodeObjid=function(t,r,n){if(typeof t=="string"){if(!r)return this.reporter.error("string objid given, but no values map found");if(!r.hasOwnProperty(t))return this.reporter.error("objid not found in values map");t=r[t].split(/[\s.]+/g);for(let u=0;u<t.length;u++)t[u]|=0}else if(Array.isArray(t)){t=t.slice();for(let u=0;u<t.length;u++)t[u]|=0}if(!Array.isArray(t))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(t));if(!n){if(t[1]>=40)return this.reporter.error("Second objid identifier OOB");t.splice(0,2,t[0]*40+t[1])}let i=0;for(let u=0;u<t.length;u++){let d=t[u];for(i++;d>=128;d>>=7)i++}const a=Da.alloc(i);let c=a.length-1;for(let u=t.length-1;u>=0;u--){let d=t[u];for(a[c--]=d&127;(d>>=7)>0;)a[c--]=128|d&127}return this._createEncoderBuffer(a)};function Wn(e){return e<10?"0"+e:e}Pi.prototype._encodeTime=function(t,r){let n;const i=new Date(t);return r==="gentime"?n=[Wn(i.getUTCFullYear()),Wn(i.getUTCMonth()+1),Wn(i.getUTCDate()),Wn(i.getUTCHours()),Wn(i.getUTCMinutes()),Wn(i.getUTCSeconds()),"Z"].join(""):r==="utctime"?n=[Wn(i.getUTCFullYear()%100),Wn(i.getUTCMonth()+1),Wn(i.getUTCDate()),Wn(i.getUTCHours()),Wn(i.getUTCMinutes()),Wn(i.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+r+" time is not supported yet"),this._encodeStr(n,"octstr")};Pi.prototype._encodeNull=function(){return this._createEncoderBuffer("")};Pi.prototype._encodeInt=function(t,r){if(typeof t=="string"){if(!r)return this.reporter.error("String int or enum given, but no values map");if(!r.hasOwnProperty(t))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(t));t=r[t]}if(typeof t!="number"&&!Da.isBuffer(t)){const a=t.toArray();!t.sign&&a[0]&128&&a.unshift(0),t=Da.from(a)}if(Da.isBuffer(t)){let a=t.length;t.length===0&&a++;const c=Da.alloc(a);return t.copy(c),t.length===0&&(c[0]=0),this._createEncoderBuffer(c)}if(t<128)return this._createEncoderBuffer(t);if(t<256)return this._createEncoderBuffer([0,t]);let n=1;for(let a=t;a>=256;a>>=8)n++;const i=new Array(n);for(let a=i.length-1;a>=0;a--)i[a]=t&255,t>>=8;return i[0]&128&&i.unshift(0),this._createEncoderBuffer(Da.from(i))};Pi.prototype._encodeBool=function(t){return this._createEncoderBuffer(t?255:0)};Pi.prototype._use=function(t,r){return typeof t=="function"&&(t=t(r)),t._getEncoder("der").tree};Pi.prototype._skipDefault=function(t,r,n){const i=this._baseState;let a;if(i.default===null)return!1;const c=t.join();if(i.defaultBuffer===void 0&&(i.defaultBuffer=this._encodeValue(i.default,r,n).join()),c.length!==i.defaultBuffer.length)return!1;for(a=0;a<c.length;a++)if(c[a]!==i.defaultBuffer[a])return!1;return!0};function tq(e,t,r,n){let i;if(e==="seqof"?e="seq":e==="setof"&&(e="set"),fm.tagByName.hasOwnProperty(e))i=fm.tagByName[e];else if(typeof e=="number"&&(e|0)===e)i=e;else return n.error("Unknown tag: "+e);return i>=31?n.error("Multi-octet tag encoding unsupported"):(t||(i|=32),i|=fm.tagClassByName[r||"universal"]<<6,i)}const rq=dt,z2=KE;function K2(e){z2.call(this,e),this.enc="pem"}rq(K2,z2);var nq=K2;K2.prototype.encode=function(t,r){const i=z2.prototype.encode.call(this,t).toString("base64"),a=["-----BEGIN "+r.label+"-----"];for(let c=0;c<i.length;c+=64)a.push(i.slice(c,c+64));return a.push("-----END "+r.label+"-----"),a.join(`
`)};(function(e){const t=e;t.der=KE,t.pem=nq})(U2);var q2={};const iq=dt,aq=wr,W5=Ks.DecoderBuffer,qE=F2,V5=w1;function HE(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new Fn,this.tree._init(e.body)}var WE=HE;HE.prototype.decode=function(t,r){return W5.isDecoderBuffer(t)||(t=new W5(t,r)),this.tree._decode(t,r)};function Fn(e){qE.call(this,"der",e)}iq(Fn,qE);Fn.prototype._peekTag=function(t,r,n){if(t.isEmpty())return!1;const i=t.save(),a=H2(t,'Failed to peek tag: "'+r+'"');return t.isError(a)?a:(t.restore(i),a.tag===r||a.tagStr===r||a.tagStr+"of"===r||n)};Fn.prototype._decodeTag=function(t,r,n){const i=H2(t,'Failed to decode tag of "'+r+'"');if(t.isError(i))return i;let a=VE(t,i.primitive,'Failed to get length of "'+r+'"');if(t.isError(a))return a;if(!n&&i.tag!==r&&i.tagStr!==r&&i.tagStr+"of"!==r)return t.error('Failed to match tag: "'+r+'"');if(i.primitive||a!==null)return t.skip(a,'Failed to match body of: "'+r+'"');const c=t.save(),u=this._skipUntilEnd(t,'Failed to skip indefinite length body: "'+this.tag+'"');return t.isError(u)?u:(a=t.offset-c.offset,t.restore(c),t.skip(a,'Failed to match body of: "'+r+'"'))};Fn.prototype._skipUntilEnd=function(t,r){for(;;){const n=H2(t,r);if(t.isError(n))return n;const i=VE(t,n.primitive,r);if(t.isError(i))return i;let a;if(n.primitive||i!==null?a=t.skip(i):a=this._skipUntilEnd(t,r),t.isError(a))return a;if(n.tagStr==="end")break}};Fn.prototype._decodeList=function(t,r,n,i){const a=[];for(;!t.isEmpty();){const c=this._peekTag(t,"end");if(t.isError(c))return c;const u=n.decode(t,"der",i);if(t.isError(u)&&c)break;a.push(u)}return a};Fn.prototype._decodeStr=function(t,r){if(r==="bitstr"){const n=t.readUInt8();return t.isError(n)?n:{unused:n,data:t.raw()}}else if(r==="bmpstr"){const n=t.raw();if(n.length%2===1)return t.error("Decoding of string type: bmpstr length mismatch");let i="";for(let a=0;a<n.length/2;a++)i+=String.fromCharCode(n.readUInt16BE(a*2));return i}else if(r==="numstr"){const n=t.raw().toString("ascii");return this._isNumstr(n)?n:t.error("Decoding of string type: numstr unsupported characters")}else{if(r==="octstr")return t.raw();if(r==="objDesc")return t.raw();if(r==="printstr"){const n=t.raw().toString("ascii");return this._isPrintstr(n)?n:t.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(r)?t.raw().toString():t.error("Decoding of string type: "+r+" unsupported")}};Fn.prototype._decodeObjid=function(t,r,n){let i;const a=[];let c=0,u=0;for(;!t.isEmpty();)u=t.readUInt8(),c<<=7,c|=u&127,u&128||(a.push(c),c=0);u&128&&a.push(c);const d=a[0]/40|0,p=a[0]%40;if(n?i=a:i=[d,p].concat(a.slice(1)),r){let m=r[i.join(" ")];m===void 0&&(m=r[i.join(".")]),m!==void 0&&(i=m)}return i};Fn.prototype._decodeTime=function(t,r){const n=t.raw().toString();let i,a,c,u,d,p;if(r==="gentime")i=n.slice(0,4)|0,a=n.slice(4,6)|0,c=n.slice(6,8)|0,u=n.slice(8,10)|0,d=n.slice(10,12)|0,p=n.slice(12,14)|0;else if(r==="utctime")i=n.slice(0,2)|0,a=n.slice(2,4)|0,c=n.slice(4,6)|0,u=n.slice(6,8)|0,d=n.slice(8,10)|0,p=n.slice(10,12)|0,i<70?i=2e3+i:i=1900+i;else return t.error("Decoding "+r+" time is not supported yet");return Date.UTC(i,a-1,c,u,d,p,0)};Fn.prototype._decodeNull=function(){return null};Fn.prototype._decodeBool=function(t){const r=t.readUInt8();return t.isError(r)?r:r!==0};Fn.prototype._decodeInt=function(t,r){const n=t.raw();let i=new aq(n);return r&&(i=r[i.toString(10)]||i),i};Fn.prototype._use=function(t,r){return typeof t=="function"&&(t=t(r)),t._getDecoder("der").tree};function H2(e,t){let r=e.readUInt8(t);if(e.isError(r))return r;const n=V5.tagClass[r>>6],i=(r&32)===0;if((r&31)===31){let c=r;for(r=0;(c&128)===128;){if(c=e.readUInt8(t),e.isError(c))return c;r<<=7,r|=c&127}}else r&=31;const a=V5.tag[r];return{cls:n,primitive:i,tag:r,tagStr:a}}function VE(e,t,r){let n=e.readUInt8(r);if(e.isError(n))return n;if(!t&&n===128)return null;if(!(n&128))return n;const i=n&127;if(i>4)return e.error("length octect is too long");n=0;for(let a=0;a<i;a++){n<<=8;const c=e.readUInt8(r);if(e.isError(c))return c;n|=c}return n}const oq=dt,sq=j2.Buffer,W2=WE;function V2(e){W2.call(this,e),this.enc="pem"}oq(V2,W2);var cq=V2;V2.prototype.decode=function(t,r){const n=t.toString().split(/[\r\n]+/g),i=r.label.toUpperCase(),a=/^-----(BEGIN|END) ([^-]+)-----$/;let c=-1,u=-1;for(let m=0;m<n.length;m++){const x=n[m].match(a);if(x!==null&&x[2]===i)if(c===-1){if(x[1]!=="BEGIN")break;c=m}else{if(x[1]!=="END")break;u=m;break}}if(c===-1||u===-1)throw new Error("PEM section not found for: "+i);const d=n.slice(c+1,u).join("");d.replace(/[^a-z0-9+/=]+/gi,"");const p=sq.from(d,"base64");return W2.prototype.decode.call(this,p,r)};(function(e){const t=e;t.der=WE,t.pem=cq})(q2);(function(e){const t=U2,r=q2,n=dt,i=e;i.define=function(u,d){return new a(u,d)};function a(c,u){this.name=c,this.body=u,this.decoders={},this.encoders={}}a.prototype._createNamed=function(u){const d=this.name;function p(m){this._initNamed(m,d)}return n(p,u),p.prototype._initNamed=function(x,k){u.call(this,x,k)},new p(this)},a.prototype._getDecoder=function(u){return u=u||"der",this.decoders.hasOwnProperty(u)||(this.decoders[u]=this._createNamed(r[u])),this.decoders[u]},a.prototype.decode=function(u,d,p){return this._getDecoder(d).decode(u,p)},a.prototype._getEncoder=function(u){return u=u||"der",this.encoders.hasOwnProperty(u)||(this.encoders[u]=this._createNamed(t[u])),this.encoders[u]},a.prototype.encode=function(u,d,p){return this._getEncoder(d).encode(u,p)}})(UE);var ZE={};(function(e){const t=e;t.Reporter=g1.Reporter,t.DecoderBuffer=Ks.DecoderBuffer,t.EncoderBuffer=Ks.EncoderBuffer,t.Node=F2})(ZE);var GE={};(function(e){const t=e;t._reverse=function(n){const i={};return Object.keys(n).forEach(function(a){(a|0)==a&&(a=a|0);const c=n[a];i[c]=a}),i},t.der=w1})(GE);(function(e){const t=e;t.bignum=wr,t.define=UE.define,t.base=ZE,t.constants=GE,t.decoders=q2,t.encoders=U2})(D2);var $i=D2,Z5=$i.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),fq=$i.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),Z2=$i.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),uq=$i.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(Z2),this.key("subjectPublicKey").bitstr())}),lq=$i.define("RelativeDistinguishedName",function(){this.setof(fq)}),dq=$i.define("RDNSequence",function(){this.seqof(lq)}),G5=$i.define("Name",function(){this.choice({rdnSequence:this.use(dq)})}),hq=$i.define("Validity",function(){this.seq().obj(this.key("notBefore").use(Z5),this.key("notAfter").use(Z5))}),pq=$i.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),yq=$i.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(Z2),this.key("issuer").use(G5),this.key("validity").use(hq),this.key("subject").use(G5),this.key("subjectPublicKeyInfo").use(uq),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(pq).optional())}),vq=$i.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(yq),this.key("signatureAlgorithm").use(Z2),this.key("signatureValue").bitstr())}),mq=vq,Li=D2;Ni.certificate=mq;var gq=Li.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});Ni.RSAPrivateKey=gq;var bq=Li.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});Ni.RSAPublicKey=bq;var wq=Li.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(JE),this.key("subjectPublicKey").bitstr())});Ni.PublicKey=wq;var JE=Li.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),_q=Li.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(JE),this.key("subjectPrivateKey").octstr())});Ni.PrivateKey=_q;var xq=Li.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});Ni.EncryptedPrivateKey=xq;var Sq=Li.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});Ni.DSAPrivateKey=Sq;Ni.DSAparam=Li.define("DSAparam",function(){this.int()});var Eq=Li.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(kq),this.key("publicKey").optional().explicit(1).bitstr())});Ni.ECPrivateKey=Eq;var kq=Li.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});Ni.signature=Li.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())});const Mq={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"};var Aq=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,Cq=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,Bq=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,Iq=o1,Rq=Ln,Ph=lt.Buffer,Tq=function(e,t){var r=e.toString(),n=r.match(Aq),i;if(n){var c="aes"+n[1],u=Ph.from(n[2],"hex"),d=Ph.from(n[3].replace(/[\r\n]/g,""),"base64"),p=Iq(t,u.slice(0,8),parseInt(n[1],10)).key,m=[],x=Rq.createDecipheriv(c,p,u);m.push(x.update(d)),m.push(x.final()),i=Ph.concat(m)}else{var a=r.match(Bq);i=Ph.from(a[2].replace(/[\r\n]/g,""),"base64")}var k=r.match(Cq)[1];return{tag:k,data:i}},gn=Ni,Nq=Mq,Pq=Tq,$q=Ln,Lq=n1,Dg=lt.Buffer,_1=YE;function YE(e){var t;typeof e=="object"&&!Dg.isBuffer(e)&&(t=e.passphrase,e=e.key),typeof e=="string"&&(e=Dg.from(e));var r=Pq(e,t),n=r.tag,i=r.data,a,c;switch(n){case"CERTIFICATE":c=gn.certificate.decode(i,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(c||(c=gn.PublicKey.decode(i,"der")),a=c.algorithm.algorithm.join("."),a){case"1.2.840.113549.1.1.1":return gn.RSAPublicKey.decode(c.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return c.subjectPrivateKey=c.subjectPublicKey,{type:"ec",data:c};case"1.2.840.10040.4.1":return c.algorithm.params.pub_key=gn.DSAparam.decode(c.subjectPublicKey.data,"der"),{type:"dsa",data:c.algorithm.params};default:throw new Error("unknown key id "+a)}case"ENCRYPTED PRIVATE KEY":i=gn.EncryptedPrivateKey.decode(i,"der"),i=Oq(i,t);case"PRIVATE KEY":switch(c=gn.PrivateKey.decode(i,"der"),a=c.algorithm.algorithm.join("."),a){case"1.2.840.113549.1.1.1":return gn.RSAPrivateKey.decode(c.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:c.algorithm.curve,privateKey:gn.ECPrivateKey.decode(c.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return c.algorithm.params.priv_key=gn.DSAparam.decode(c.subjectPrivateKey,"der"),{type:"dsa",params:c.algorithm.params};default:throw new Error("unknown key id "+a)}case"RSA PUBLIC KEY":return gn.RSAPublicKey.decode(i,"der");case"RSA PRIVATE KEY":return gn.RSAPrivateKey.decode(i,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:gn.DSAPrivateKey.decode(i,"der")};case"EC PRIVATE KEY":return i=gn.ECPrivateKey.decode(i,"der"),{curve:i.parameters.value,privateKey:i.privateKey};default:throw new Error("unknown key type "+n)}}YE.signature=gn.signature;function Oq(e,t){var r=e.algorithm.decrypt.kde.kdeparams.salt,n=parseInt(e.algorithm.decrypt.kde.kdeparams.iters.toString(),10),i=Nq[e.algorithm.decrypt.cipher.algo.join(".")],a=e.algorithm.decrypt.cipher.iv,c=e.subjectPrivateKey,u=parseInt(i.split("-")[1],10)/8,d=Lq.pbkdf2Sync(t,r,n,u,"sha1"),p=$q.createDecipheriv(i,d,a),m=[];return m.push(p.update(c)),m.push(p.final()),Dg.concat(m)}const XE={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"};var J5;function Dq(){if(J5)return Dc;J5=1;var e=lt.Buffer,t=SS,r=T2,n=O2().ec,i=Ul,a=_1,c=XE;function u(U,O,L,z,G){var J=a(O);if(J.curve){if(z!=="ecdsa"&&z!=="ecdsa/rsa")throw new Error("wrong private key type");return d(U,J)}else if(J.type==="dsa"){if(z!=="dsa")throw new Error("wrong private key type");return p(U,J,L)}else if(z!=="rsa"&&z!=="ecdsa/rsa")throw new Error("wrong private key type");U=e.concat([G,U]);for(var ne=J.modulus.byteLength(),ie=[0,1];U.length+ie.length+1<ne;)ie.push(255);ie.push(0);for(var re=-1;++re<U.length;)ie.push(U[re]);var ce=r(ie,J);return ce}function d(U,O){var L=c[O.curve.join(".")];if(!L)throw new Error("unknown curve "+O.curve.join("."));var z=new n(L),G=z.keyFromPrivate(O.privateKey),J=G.sign(U);return e.from(J.toDER())}function p(U,O,L){for(var z=O.params.priv_key,G=O.params.p,J=O.params.q,ne=O.params.g,ie=new i(0),re,ce=k(U,J).mod(J),Se=!1,W=x(z,J,U,L);Se===!1;)re=P(J,W,L),ie=j(ne,re,G,J),Se=re.invm(J).imul(ce.add(z.mul(ie))).mod(J),Se.cmpn(0)===0&&(Se=!1,ie=new i(0));return m(ie,Se)}function m(U,O){U=U.toArray(),O=O.toArray(),U[0]&128&&(U=[0].concat(U)),O[0]&128&&(O=[0].concat(O));var L=U.length+O.length+4,z=[48,L,2,U.length];return z=z.concat(U,[2,O.length],O),e.from(z)}function x(U,O,L,z){if(U=e.from(U.toArray()),U.length<O.byteLength()){var G=e.alloc(O.byteLength()-U.length);U=e.concat([G,U])}var J=L.length,ne=S(L,O),ie=e.alloc(J);ie.fill(1);var re=e.alloc(J);return re=t(z,re).update(ie).update(e.from([0])).update(U).update(ne).digest(),ie=t(z,re).update(ie).digest(),re=t(z,re).update(ie).update(e.from([1])).update(U).update(ne).digest(),ie=t(z,re).update(ie).digest(),{k:re,v:ie}}function k(U,O){var L=new i(U),z=(U.length<<3)-O.bitLength();return z>0&&L.ishrn(z),L}function S(U,O){U=k(U,O),U=U.mod(O);var L=e.from(U.toArray());if(L.length<O.byteLength()){var z=e.alloc(O.byteLength()-L.length);L=e.concat([z,L])}return L}function P(U,O,L){var z,G;do{for(z=e.alloc(0);z.length*8<U.bitLength();)O.v=t(L,O.k).update(O.v).digest(),z=e.concat([z,O.v]);G=k(z,U),O.k=t(L,O.k).update(O.v).update(e.from([0])).digest(),O.v=t(L,O.k).update(O.v).digest()}while(G.cmp(U)!==-1);return G}function j(U,O,L,z){return U.toRed(i.mont(L)).redPow(O).fromRed().mod(z)}return AF.exports=u,Dc.getKey=x,Dc.makeKey=P,Dc}var um,Y5;function Uq(){if(Y5)return um;Y5=1;var e=lt.Buffer,t=Ul,r=O2().ec,n=_1,i=XE;function a(p,m,x,k,S){var P=n(x);if(P.type==="ec"){if(k!=="ecdsa"&&k!=="ecdsa/rsa")throw new Error("wrong public key type");return c(p,m,P)}else if(P.type==="dsa"){if(k!=="dsa")throw new Error("wrong public key type");return u(p,m,P)}else if(k!=="rsa"&&k!=="ecdsa/rsa")throw new Error("wrong public key type");m=e.concat([S,m]);for(var j=P.modulus.byteLength(),U=[1],O=0;m.length+U.length+2<j;)U.push(255),O++;U.push(0);for(var L=-1;++L<m.length;)U.push(m[L]);U=e.from(U);var z=t.mont(P.modulus);p=new t(p).toRed(z),p=p.redPow(new t(P.publicExponent)),p=e.from(p.fromRed().toArray());var G=O<8?1:0;for(j=Math.min(p.length,U.length),p.length!==U.length&&(G=1),L=-1;++L<j;)G|=p[L]^U[L];return G===0}function c(p,m,x){var k=i[x.data.algorithm.curve.join(".")];if(!k)throw new Error("unknown curve "+x.data.algorithm.curve.join("."));var S=new r(k),P=x.data.subjectPrivateKey.data;return S.verify(m,p,P)}function u(p,m,x){var k=x.data.p,S=x.data.q,P=x.data.g,j=x.data.pub_key,U=n.signature.decode(p,"der"),O=U.s,L=U.r;d(O,S),d(L,S);var z=t.mont(k),G=O.invm(S),J=P.toRed(z).redPow(new t(m).mul(G).mod(S)).fromRed().mul(j.toRed(z).redPow(L.mul(G).mod(S)).fromRed()).mod(k).mod(S);return J.cmp(L)===0}function d(p,m){if(p.cmpn(0)<=0)throw new Error("invalid sig");if(p.cmp(m)>=m)throw new Error("invalid sig")}return um=a,um}var lm,X5;function jq(){if(X5)return lm;X5=1;var e=lt.Buffer,t=cd,r=Pl,n=dt,i=Dq(),a=Uq(),c=ES;Object.keys(c).forEach(function(x){c[x].id=e.from(c[x].id,"hex"),c[x.toLowerCase()]=c[x]});function u(x){r.Writable.call(this);var k=c[x];if(!k)throw new Error("Unknown message digest");this._hashType=k.hash,this._hash=t(k.hash),this._tag=k.id,this._signType=k.sign}n(u,r.Writable),u.prototype._write=function(k,S,P){this._hash.update(k),P()},u.prototype.update=function(k,S){return typeof k=="string"&&(k=e.from(k,S)),this._hash.update(k),this},u.prototype.sign=function(k,S){this.end();var P=this._hash.digest(),j=i(P,k,this._hashType,this._signType,this._tag);return S?j.toString(S):j};function d(x){r.Writable.call(this);var k=c[x];if(!k)throw new Error("Unknown message digest");this._hash=t(k.hash),this._tag=k.id,this._signType=k.sign}n(d,r.Writable),d.prototype._write=function(k,S,P){this._hash.update(k),P()},d.prototype.update=function(k,S){return typeof k=="string"&&(k=e.from(k,S)),this._hash.update(k),this},d.prototype.verify=function(k,S,P){typeof S=="string"&&(S=e.from(S,P)),this.end();var j=this._hash.digest();return a(S,j,k,this._signType,this._tag)};function p(x){return new u(x)}function m(x){return new d(x)}return lm={Sign:p,Verify:m,createSign:p,createVerify:m},lm}var dm,Q5;function Fq(){if(Q5)return dm;Q5=1;var e=O2(),t=wr;dm=function(c){return new n(c)};var r={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};r.p224=r.secp224r1,r.p256=r.secp256r1=r.prime256v1,r.p192=r.secp192r1=r.prime192v1,r.p384=r.secp384r1,r.p521=r.secp521r1;function n(a){this.curveType=r[a],this.curveType||(this.curveType={name:a}),this.curve=new e.ec(this.curveType.name),this.keys=void 0}n.prototype.generateKeys=function(a,c){return this.keys=this.curve.genKeyPair(),this.getPublicKey(a,c)},n.prototype.computeSecret=function(a,c,u){c=c||"utf8",ft.Buffer.isBuffer(a)||(a=new ft.Buffer(a,c));var d=this.curve.keyFromPublic(a).getPublic(),p=d.mul(this.keys.getPrivate()).getX();return i(p,u,this.curveType.byteLength)},n.prototype.getPublicKey=function(a,c){var u=this.keys.getPublic(c==="compressed",!0);return c==="hybrid"&&(u[u.length-1]%2?u[0]=7:u[0]=6),i(u,a)},n.prototype.getPrivateKey=function(a){return i(this.keys.getPrivate(),a)},n.prototype.setPublicKey=function(a,c){return c=c||"utf8",ft.Buffer.isBuffer(a)||(a=new ft.Buffer(a,c)),this.keys._importPublic(a),this},n.prototype.setPrivateKey=function(a,c){c=c||"utf8",ft.Buffer.isBuffer(a)||(a=new ft.Buffer(a,c));var u=new t(a);return u=u.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(u),this};function i(a,c,u){Array.isArray(a)||(a=a.toArray());var d=new ft.Buffer(a);if(u&&d.length<u){var p=new ft.Buffer(u-d.length);p.fill(0),d=ft.Buffer.concat([p,d])}return c?d.toString(c):d}return dm}var QE={},zq=cd,Ug=lt.Buffer,ek=function(e,t){for(var r=Ug.alloc(0),n=0,i;r.length<t;)i=Kq(n++),r=Ug.concat([r,zq("sha1").update(e).update(i).digest()]);return r.slice(0,t)};function Kq(e){var t=Ug.allocUnsafe(4);return t.writeUInt32BE(e,0),t}var tk=function(t,r){for(var n=t.length,i=-1;++i<n;)t[i]^=r[i];return t},e_=wr,qq=lt.Buffer;function Hq(e,t){return qq.from(e.toRed(e_.mont(t.modulus)).redPow(new e_(t.publicExponent)).fromRed().toArray())}var rk=Hq,Wq=_1,jg=Ko,Vq=cd,t_=ek,r_=tk,G2=wr,Zq=rk,Gq=T2,Ei=lt.Buffer,Jq=function(t,r,n){var i;t.padding?i=t.padding:n?i=1:i=4;var a=Wq(t),c;if(i===4)c=Yq(a,r);else if(i===1)c=Xq(a,r,n);else if(i===3){if(c=new G2(r),c.cmp(a.modulus)>=0)throw new Error("data too long for modulus")}else throw new Error("unknown padding");return n?Gq(c,a):Zq(c,a)};function Yq(e,t){var r=e.modulus.byteLength(),n=t.length,i=Vq("sha1").update(Ei.alloc(0)).digest(),a=i.length,c=2*a;if(n>r-c-2)throw new Error("message too long");var u=Ei.alloc(r-n-c-2),d=r-a-1,p=jg(a),m=r_(Ei.concat([i,u,Ei.alloc(1,1),t],d),t_(p,d)),x=r_(p,t_(m,a));return new G2(Ei.concat([Ei.alloc(1),x,m],r))}function Xq(e,t,r){var n=t.length,i=e.modulus.byteLength();if(n>i-11)throw new Error("message too long");var a;return r?a=Ei.alloc(i-n-3,255):a=Qq(i-n-3),new G2(Ei.concat([Ei.from([0,r?1:2]),a,Ei.alloc(1),t],i))}function Qq(e){for(var t=Ei.allocUnsafe(e),r=0,n=jg(e*2),i=0,a;r<e;)i===n.length&&(n=jg(e*2),i=0),a=n[i++],a&&(t[r++]=a);return t}var eH=_1,n_=ek,i_=tk,a_=wr,tH=T2,rH=cd,nH=rk,jl=lt.Buffer,iH=function(t,r,n){var i;t.padding?i=t.padding:n?i=1:i=4;var a=eH(t),c=a.modulus.byteLength();if(r.length>c||new a_(r).cmp(a.modulus)>=0)throw new Error("decryption error");var u;n?u=nH(new a_(r),a):u=tH(r,a);var d=jl.alloc(c-u.length);if(u=jl.concat([d,u],c),i===4)return aH(a,u);if(i===1)return oH(a,u,n);if(i===3)return u;throw new Error("unknown padding")};function aH(e,t){var r=e.modulus.byteLength(),n=rH("sha1").update(jl.alloc(0)).digest(),i=n.length;if(t[0]!==0)throw new Error("decryption error");var a=t.slice(1,i+1),c=t.slice(i+1),u=i_(a,n_(c,i)),d=i_(c,n_(u,r-i-1));if(sH(n,d.slice(0,i)))throw new Error("decryption error");for(var p=i;d[p]===0;)p++;if(d[p++]!==1)throw new Error("decryption error");return d.slice(p)}function oH(e,t,r){for(var n=t.slice(0,2),i=2,a=0;t[i++]!==0;)if(i>=t.length){a++;break}var c=t.slice(2,i-1);if((n.toString("hex")!=="0002"&&!r||n.toString("hex")!=="0001"&&r)&&a++,c.length<8&&a++,a)throw new Error("decryption error");return t.slice(i)}function sH(e,t){e=jl.from(e),t=jl.from(t);var r=0,n=e.length;e.length!==t.length&&(r++,n=Math.min(e.length,t.length));for(var i=-1;++i<n;)r+=e[i]^t[i];return r}(function(e){e.publicEncrypt=Jq,e.privateDecrypt=iH,e.privateEncrypt=function(r,n){return e.publicEncrypt(r,n,!0)},e.publicDecrypt=function(r,n){return e.privateDecrypt(r,n,!0)}})(QE);var Yu={};function o_(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var nk=lt,s_=Ko,ik=nk.Buffer,ak=nk.kMaxLength,Fg=He.crypto||He.msCrypto,ok=Math.pow(2,32)-1;function sk(e,t){if(typeof e!="number"||e!==e)throw new TypeError("offset must be a number");if(e>ok||e<0)throw new TypeError("offset must be a uint32");if(e>ak||e>t)throw new RangeError("offset out of range")}function ck(e,t,r){if(typeof e!="number"||e!==e)throw new TypeError("size must be a number");if(e>ok||e<0)throw new TypeError("size must be a uint32");if(e+t>r||e>ak)throw new RangeError("buffer too small")}Fg&&Fg.getRandomValues||!at.browser?(Yu.randomFill=cH,Yu.randomFillSync=fH):(Yu.randomFill=o_,Yu.randomFillSync=o_);function cH(e,t,r,n){if(!ik.isBuffer(e)&&!(e instanceof He.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof t=="function")n=t,t=0,r=e.length;else if(typeof r=="function")n=r,r=e.length-t;else if(typeof n!="function")throw new TypeError('"cb" argument must be a function');return sk(t,e.length),ck(r,t,e.length),fk(e,t,r,n)}function fk(e,t,r,n){if(at.browser){var i=e.buffer,a=new Uint8Array(i,t,r);if(Fg.getRandomValues(a),n){at.nextTick(function(){n(null,e)});return}return e}if(n){s_(r,function(u,d){if(u)return n(u);d.copy(e,t),n(null,e)});return}var c=s_(r);return c.copy(e,t),e}function fH(e,t,r){if(typeof t>"u"&&(t=0),!ik.isBuffer(e)&&!(e instanceof He.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return sk(t,e.length),r===void 0&&(r=e.length-t),ck(r,t,e.length),fk(e,t,r)}var c_;function J2(){if(c_)return pt;c_=1,pt.randomBytes=pt.rng=pt.pseudoRandomBytes=pt.prng=Ko,pt.createHash=pt.Hash=cd,pt.createHmac=pt.Hmac=SS;var e=Rg,t=Object.keys(e),r=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(t);pt.getHashes=function(){return r};var n=n1;pt.pbkdf2=n.pbkdf2,pt.pbkdf2Sync=n.pbkdf2Sync;var i=Ii;pt.Cipher=i.Cipher,pt.createCipher=i.createCipher,pt.Cipheriv=i.Cipheriv,pt.createCipheriv=i.createCipheriv,pt.Decipher=i.Decipher,pt.createDecipher=i.createDecipher,pt.Decipheriv=i.Decipheriv,pt.createDecipheriv=i.createDecipheriv,pt.getCiphers=i.getCiphers,pt.listCiphers=i.listCiphers;var a=MF();pt.DiffieHellmanGroup=a.DiffieHellmanGroup,pt.createDiffieHellmanGroup=a.createDiffieHellmanGroup,pt.getDiffieHellman=a.getDiffieHellman,pt.createDiffieHellman=a.createDiffieHellman,pt.DiffieHellman=a.DiffieHellman;var c=jq();pt.createSign=c.createSign,pt.Sign=c.Sign,pt.createVerify=c.createVerify,pt.Verify=c.Verify,pt.createECDH=Fq();var u=QE;pt.publicEncrypt=u.publicEncrypt,pt.privateEncrypt=u.privateEncrypt,pt.publicDecrypt=u.publicDecrypt,pt.privateDecrypt=u.privateDecrypt;var d=Yu;return pt.randomFill=d.randomFill,pt.randomFillSync=d.randomFillSync,pt.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},pt.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6},pt}var uk=J2(),uH=lk,f_=128,lH=127,dH=~lH,hH=Math.pow(2,31);function lk(e,t,r){t=t||[],r=r||0;for(var n=r;e>=hH;)t[r++]=e&255|f_,e/=128;for(;e&dH;)t[r++]=e&255|f_,e>>>=7;return t[r]=e|0,lk.bytes=r-n+1,t}var pH=zg,yH=128,u_=127;function zg(e,n){var r=0,n=n||0,i=0,a=n,c,u=e.length;do{if(a>=u)throw zg.bytes=0,new RangeError("Could not decode varint");c=e[a++],r+=i<28?(c&u_)<<i:(c&u_)*Math.pow(2,i),i+=7}while(c>=yH);return zg.bytes=a-n,r}var vH=Math.pow(2,7),mH=Math.pow(2,14),gH=Math.pow(2,21),bH=Math.pow(2,28),wH=Math.pow(2,35),_H=Math.pow(2,42),xH=Math.pow(2,49),SH=Math.pow(2,56),EH=Math.pow(2,63),kH=function(e){return e<vH?1:e<mH?2:e<gH?3:e<bH?4:e<wH?5:e<_H?6:e<xH?7:e<SH?8:e<EH?9:10},MH={encode:uH,decode:pH,encodingLength:kH},X0=MH;const Kg=(e,t=0)=>[X0.decode(e,t),X0.decode.bytes],Q0=(e,t,r=0)=>(X0.encode(e,t,r),t),ep=e=>X0.encodingLength(e),dk=(e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0},vd=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},qg=(e,t)=>{const r=t.byteLength,n=ep(e),i=n+ep(r),a=new Uint8Array(i+r);return Q0(e,a,0),Q0(r,a,n),a.set(t,i),new Y2(e,r,t,a)},Hg=e=>{const t=vd(e),[r,n]=Kg(t),[i,a]=Kg(t.subarray(n)),c=t.subarray(n+a);if(c.byteLength!==i)throw new Error("Incorrect length");return new Y2(r,i,c,t)},AH=(e,t)=>{if(e===t)return!0;{const r=t;return e.code===r.code&&e.size===r.size&&r.bytes instanceof Uint8Array&&dk(e.bytes,r.bytes)}};let Y2=class{constructor(t,r,n,i){this.code=t,this.size=r,this.digest=n,this.bytes=i}};function CH(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var a=e.charAt(i),c=a.charCodeAt(0);if(r[c]!==255)throw new TypeError(a+" is ambiguous");r[c]=i}var u=e.length,d=e.charAt(0),p=Math.log(u)/Math.log(256),m=Math.log(256)/Math.log(u);function x(P){if(P instanceof Uint8Array||(ArrayBuffer.isView(P)?P=new Uint8Array(P.buffer,P.byteOffset,P.byteLength):Array.isArray(P)&&(P=Uint8Array.from(P))),!(P instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(P.length===0)return"";for(var j=0,U=0,O=0,L=P.length;O!==L&&P[O]===0;)O++,j++;for(var z=(L-O)*m+1>>>0,G=new Uint8Array(z);O!==L;){for(var J=P[O],ne=0,ie=z-1;(J!==0||ne<U)&&ie!==-1;ie--,ne++)J+=256*G[ie]>>>0,G[ie]=J%u>>>0,J=J/u>>>0;if(J!==0)throw new Error("Non-zero carry");U=ne,O++}for(var re=z-U;re!==z&&G[re]===0;)re++;for(var ce=d.repeat(j);re<z;++re)ce+=e.charAt(G[re]);return ce}function k(P){if(typeof P!="string")throw new TypeError("Expected String");if(P.length===0)return new Uint8Array;var j=0;if(P[j]!==" "){for(var U=0,O=0;P[j]===d;)U++,j++;for(var L=(P.length-j)*p+1>>>0,z=new Uint8Array(L);P[j];){var G=r[P.charCodeAt(j)];if(G===255)return;for(var J=0,ne=L-1;(G!==0||J<O)&&ne!==-1;ne--,J++)G+=u*z[ne]>>>0,z[ne]=G%256>>>0,G=G/256>>>0;if(G!==0)throw new Error("Non-zero carry");O=J,j++}if(P[j]!==" "){for(var ie=L-O;ie!==L&&z[ie]===0;)ie++;for(var re=new Uint8Array(U+(L-ie)),ce=U;ie!==L;)re[ce++]=z[ie++];return re}}}function S(P){var j=k(P);if(j)return j;throw new Error(`Non-${t} character`)}return{encode:x,decodeUnsafe:k,decode:S}}var BH=CH,IH=BH;let RH=class{constructor(t,r,n){this.name=t,this.prefix=r,this.baseEncode=n}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}},TH=class{constructor(t,r,n){if(this.name=t,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return hk(this,t)}},NH=class{constructor(t){this.decoders=t}or(t){return hk(this,t)}decode(t){const r=t[0],n=this.decoders[r];if(n)return n.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const hk=(e,t)=>new NH({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});let PH=class{constructor(t,r,n,i){this.name=t,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new RH(t,r,n),this.decoder=new TH(t,r,i)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}};const pk=({name:e,prefix:t,encode:r,decode:n})=>new PH(e,t,r,n),yk=({prefix:e,name:t,alphabet:r})=>{const{encode:n,decode:i}=IH(r,t);return pk({prefix:e,name:t,encode:n,decode:a=>vd(i(a))})},$H=(e,t,r,n)=>{const i={};for(let m=0;m<t.length;++m)i[t[m]]=m;let a=e.length;for(;e[a-1]==="=";)--a;const c=new Uint8Array(a*r/8|0);let u=0,d=0,p=0;for(let m=0;m<a;++m){const x=i[e[m]];if(x===void 0)throw new SyntaxError(`Non-${n} character`);d=d<<r|x,u+=r,u>=8&&(u-=8,c[p++]=255&d>>u)}if(u>=r||255&d<<8-u)throw new SyntaxError("Unexpected end of data");return c},LH=(e,t,r)=>{const n=t[t.length-1]==="=",i=(1<<r)-1;let a="",c=0,u=0;for(let d=0;d<e.length;++d)for(u=u<<8|e[d],c+=8;c>r;)c-=r,a+=t[i&u>>c];if(c&&(a+=t[i&u<<r-c]),n)for(;a.length*r&7;)a+="=";return a},io=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>pk({prefix:t,name:e,encode(i){return LH(i,n,r)},decode(i){return $H(i,n,r,e)}}),So=yk({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"});yk({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});const l0=io({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5});io({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5});io({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5});io({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5});io({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5});io({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5});io({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5});io({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5});io({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});const l_=(e,t)=>{const{bytes:r,version:n}=e;switch(n){case 0:return DH(r,Wg(e),t||So.encoder);default:return UH(r,Wg(e),t||l0.encoder)}},d_=new WeakMap,Wg=e=>{const t=d_.get(e);if(t==null){const r=new Map;return d_.set(e,r),r}return t};let Nr=class tn{constructor(t,r,n,i){this.code=r,this.version=t,this.multihash=n,this.bytes=i,this["/"]=i}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:t,multihash:r}=this;if(t!==Ku)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(r.code!==jH)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return tn.createV0(r)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:t,digest:r}=this.multihash,n=qg(t,r);return tn.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(t){return tn.equals(this,t)}static equals(t,r){const n=r;return n&&t.code===n.code&&t.version===n.version&&AH(t.multihash,n.multihash)}toString(t){return l_(this,t)}toJSON(){return{"/":l_(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(t){if(t==null)return null;const r=t;if(r instanceof tn)return r;if(r["/"]!=null&&r["/"]===r.bytes||r.asCID===r){const{version:n,code:i,multihash:a,bytes:c}=r;return new tn(n,i,a,c||h_(n,i,a.bytes))}else if(r[FH]===!0){const{version:n,multihash:i,code:a}=r,c=Hg(i);return tn.create(n,a,c)}else return null}static create(t,r,n){if(typeof r!="number")throw new Error("String codecs are no longer supported");if(!(n.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(t){case 0:{if(r!==Ku)throw new Error(`Version 0 CID must use dag-pb (code: ${Ku}) block encoding`);return new tn(t,r,n,n.bytes)}case 1:{const i=h_(t,r,n.bytes);return new tn(t,r,n,i)}default:throw new Error("Invalid version")}}static createV0(t){return tn.create(0,Ku,t)}static createV1(t,r){return tn.create(1,t,r)}static decode(t){const[r,n]=tn.decodeFirst(t);if(n.length)throw new Error("Incorrect length");return r}static decodeFirst(t){const r=tn.inspectBytes(t),n=r.size-r.multihashSize,i=vd(t.subarray(n,n+r.multihashSize));if(i.byteLength!==r.multihashSize)throw new Error("Incorrect length");const a=i.subarray(r.multihashSize-r.digestSize),c=new Y2(r.multihashCode,r.digestSize,a,i);return[r.version===0?tn.createV0(c):tn.createV1(r.codec,c),t.subarray(r.size)]}static inspectBytes(t){let r=0;const n=()=>{const[x,k]=Kg(t.subarray(r));return r+=k,x};let i=n(),a=Ku;if(i===18?(i=0,r=0):a=n(),i!==0&&i!==1)throw new RangeError(`Invalid CID version ${i}`);const c=r,u=n(),d=n(),p=r+d,m=p-c;return{version:i,codec:a,multihashCode:u,digestSize:d,multihashSize:m,size:p}}static parse(t,r){const[n,i]=OH(t,r),a=tn.decode(i);if(a.version===0&&t[0]!=="Q")throw Error("Version 0 CID string must not include multibase prefix");return Wg(a).set(n,t),a}};const OH=(e,t)=>{switch(e[0]){case"Q":{const r=t||So;return[So.prefix,r.decode(`${So.prefix}${e}`)]}case So.prefix:{const r=t||So;return[So.prefix,r.decode(e)]}case l0.prefix:{const r=t||l0;return[l0.prefix,r.decode(e)]}default:{if(t==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}}},DH=(e,t,r)=>{const{prefix:n}=r;if(n!==So.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);const i=t.get(n);if(i==null){const a=r.encode(e).slice(1);return t.set(n,a),a}else return i},UH=(e,t,r)=>{const{prefix:n}=r,i=t.get(n);if(i==null){const a=r.encode(e);return t.set(n,a),a}else return i},Ku=112,jH=18,h_=(e,t,r)=>{const n=ep(e),i=n+ep(t),a=new Uint8Array(i+r.byteLength);return Q0(e,a,0),Q0(t,a,n),a.set(r,i),a},FH=Symbol.for("@ipld/js-cid/CID"),zH=({name:e,code:t,encode:r})=>new KH(e,t,r);class KH{constructor(t,r,n){this.name=t,this.code=r,this.encode=n}digest(t){if(t instanceof Uint8Array){const r=this.encode(t);return r instanceof Uint8Array?qg(this.code,r):r.then(n=>qg(this.code,n))}else throw Error("Unknown type, must be binary type")}}function $h({enumerable:e=!0,configurable:t=!1}={}){return{enumerable:e,configurable:t,writable:!1}}function*qH(e,t){if(t!=null&&typeof t=="object")if(Array.isArray(t))for(const[r,n]of t.entries()){const i=[...e,r],a=Nr.asCID(n);a?yield[i.join("/"),a]:typeof n=="object"&&(yield*Vg(n,i))}else{const r=Nr.asCID(t);r?yield[e.join("/"),r]:yield*Vg(t,e)}}function*Vg(e,t){if(e==null||e instanceof Uint8Array)return;const r=Nr.asCID(e);r&&(yield[t.join("/"),r]);for(const[n,i]of Object.entries(e)){const a=[...t,n];yield*qH(a,i)}}function*HH(e,t){if(Array.isArray(t))for(const[r,n]of t.entries()){const i=[...e,r];yield i.join("/"),typeof n=="object"&&!Nr.asCID(n)&&(yield*Zg(n,i))}else yield*Zg(t,e)}function*Zg(e,t){if(!(e==null||typeof e!="object"))for(const[r,n]of Object.entries(e)){const i=[...t,r];yield i.join("/"),n!=null&&!(n instanceof Uint8Array)&&typeof n=="object"&&!Nr.asCID(n)&&(yield*HH(i,n))}}function WH(e,t){let r=e;for(const[n,i]of t.entries()){if(r=r[i],r==null)throw new Error(`Object has no property at ${t.slice(0,n+1).map(c=>`[${JSON.stringify(c)}]`).join("")}`);const a=Nr.asCID(r);if(a)return{value:a,remaining:t.slice(n+1).join("/")}}return{value:r}}class Of{constructor({cid:t,bytes:r,value:n}){if(!t||!r||typeof n>"u")throw new Error("Missing required argument");this.cid=t,this.bytes=r,this.value=n,this.asBlock=this,Object.defineProperties(this,{cid:$h(),bytes:$h(),value:$h(),asBlock:$h()})}links(){return Vg(this.value,[])}tree(){return Zg(this.value,[])}get(t="/"){return WH(this.value,t.split("/").filter(Boolean))}}async function Fl({value:e,codec:t,hasher:r}){if(typeof e>"u")throw new Error('Missing required argument "value"');if(!t||!r)throw new Error("Missing required argument: codec or hasher");const n=t.encode(e),i=await r.digest(n),a=Nr.create(1,t.code,i);return new Of({value:e,bytes:n,cid:a})}async function X2({bytes:e,codec:t,hasher:r}){if(!e)throw new Error('Missing required argument "bytes"');if(!t||!r)throw new Error("Missing required argument: codec or hasher");const n=t.decode(e),i=await r.digest(e),a=Nr.create(1,t.code,i);return new Of({value:n,bytes:e,cid:a})}function VH({bytes:e,cid:t,value:r,codec:n}){const i=r!==void 0?r:n&&n.decode(e);if(i===void 0)throw new Error('Missing required argument, must either provide "value" or "codec"');return new Of({cid:t,bytes:e,value:i})}async function vk({bytes:e,cid:t,hasher:r,codec:n}){if(!e)throw new Error('Missing required argument "bytes"');if(!r)throw new Error('Missing required argument "hasher"');const i=n.decode(e),a=await r.digest(e);if(!dk(t.multihash.bytes,a.bytes))throw new Error("CID hash does not match bytes");return VH({bytes:e,cid:t,value:i,codec:n})}const ZH=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),Oi=zH({name:"sha2-256",code:18,encode:ZH("SHA-256")}),GH=["string","number","bigint","symbol"],JH=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function YH(e){if(e===null)return"null";if(e===void 0)return"undefined";if(e===!0||e===!1)return"boolean";const t=typeof e;if(GH.includes(t))return t;if(t==="function")return"Function";if(Array.isArray(e))return"Array";if(XH(e))return"Buffer";const r=QH(e);return r||"Object"}function XH(e){return e&&e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer.call(null,e)}function QH(e){const t=Object.prototype.toString.call(e).slice(8,-1);if(JH.includes(t))return t}class ve{constructor(t,r,n){this.major=t,this.majorEncoded=t<<5,this.name=r,this.terminal=n}toString(){return`Type[${this.major}].${this.name}`}compare(t){return this.major<t.major?-1:this.major>t.major?1:0}}ve.uint=new ve(0,"uint",!0);ve.negint=new ve(1,"negint",!0);ve.bytes=new ve(2,"bytes",!0);ve.string=new ve(3,"string",!0);ve.array=new ve(4,"array",!1);ve.map=new ve(5,"map",!1);ve.tag=new ve(6,"tag",!1);ve.float=new ve(7,"float",!0);ve.false=new ve(7,"false",!0);ve.true=new ve(7,"true",!0);ve.null=new ve(7,"null",!0);ve.undefined=new ve(7,"undefined",!0);ve.break=new ve(7,"break",!0);class Ke{constructor(t,r,n){this.type=t,this.value=r,this.encodedLength=n,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}}const Df=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&typeof globalThis.Buffer.isBuffer=="function",eW=new TextDecoder,tW=new TextEncoder;function tp(e){return Df&&globalThis.Buffer.isBuffer(e)}function mk(e){return e instanceof Uint8Array?tp(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e:Uint8Array.from(e)}const rW=Df?(e,t,r)=>r-t>64?globalThis.Buffer.from(e.subarray(t,r)).toString("utf8"):y_(e,t,r):(e,t,r)=>r-t>64?eW.decode(e.subarray(t,r)):y_(e,t,r),nW=Df?e=>e.length>64?globalThis.Buffer.from(e):p_(e):e=>e.length>64?tW.encode(e):p_(e),Na=e=>Uint8Array.from(e),Q2=Df?(e,t,r)=>tp(e)?new Uint8Array(e.subarray(t,r)):e.slice(t,r):(e,t,r)=>e.slice(t,r),iW=Df?(e,t)=>(e=e.map(r=>r instanceof Uint8Array?r:globalThis.Buffer.from(r)),mk(globalThis.Buffer.concat(e,t))):(e,t)=>{const r=new Uint8Array(t);let n=0;for(let i of e)n+i.length>r.length&&(i=i.subarray(0,r.length-n)),r.set(i,n),n+=i.length;return r},aW=Df?e=>globalThis.Buffer.allocUnsafe(e):e=>new Uint8Array(e);function oW(e,t){if(tp(e)&&tp(t))return e.compare(t);for(let r=0;r<e.length;r++)if(e[r]!==t[r])return e[r]<t[r]?-1:1;return 0}function p_(e,t=1/0){let r;const n=e.length;let i=null;const a=[];for(let c=0;c<n;++c){if(r=e.charCodeAt(c),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&a.push(239,191,189);continue}else if(c+1===n){(t-=3)>-1&&a.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&a.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;a.push(r)}else if(r<2048){if((t-=2)<0)break;a.push(r>>6|192,r&63|128)}else if(r<65536){if((t-=3)<0)break;a.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((t-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return a}function y_(e,t,r){const n=[];for(;t<r;){const i=e[t];let a=null,c=i>239?4:i>223?3:i>191?2:1;if(t+c<=r){let u,d,p,m;switch(c){case 1:i<128&&(a=i);break;case 2:u=e[t+1],(u&192)===128&&(m=(i&31)<<6|u&63,m>127&&(a=m));break;case 3:u=e[t+1],d=e[t+2],(u&192)===128&&(d&192)===128&&(m=(i&15)<<12|(u&63)<<6|d&63,m>2047&&(m<55296||m>57343)&&(a=m));break;case 4:u=e[t+1],d=e[t+2],p=e[t+3],(u&192)===128&&(d&192)===128&&(p&192)===128&&(m=(i&15)<<18|(u&63)<<12|(d&63)<<6|p&63,m>65535&&m<1114112&&(a=m))}}a===null?(a=65533,c=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|a&1023),n.push(a),t+=c}return sW(n)}const v_=4096;function sW(e){const t=e.length;if(t<=v_)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=v_));return r}const cW=256;class gk{constructor(t=cW){this.chunkSize=t,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),this._initReuseChunk!==null&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(t){let r=this.chunks[this.chunks.length-1];if(this.cursor+t.length<=this.maxCursor+1){const i=r.length-(this.maxCursor-this.cursor)-1;r.set(t,i)}else{if(r){const i=r.length-(this.maxCursor-this.cursor)-1;i<r.length&&(this.chunks[this.chunks.length-1]=r.subarray(0,i),this.maxCursor=this.cursor-1)}t.length<64&&t.length<this.chunkSize?(r=aW(this.chunkSize),this.chunks.push(r),this.maxCursor+=r.length,this._initReuseChunk===null&&(this._initReuseChunk=r),r.set(t,0)):(this.chunks.push(t),this.maxCursor+=t.length)}this.cursor+=t.length}toBytes(t=!1){let r;if(this.chunks.length===1){const n=this.chunks[0];t&&this.cursor>n.length/2?(r=this.cursor===n.length?n:n.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):r=Q2(n,0,this.cursor)}else r=iW(this.chunks,this.cursor);return t&&this.reset(),r}}const Et="CBOR decode error:",bk="CBOR encode error:";function Uf(e,t,r){if(e.length-t<r)throw new Error(`${Et} not enough data for type`)}const Fr=[24,256,65536,4294967296,BigInt("18446744073709551616")];function Js(e,t,r){Uf(e,t,1);const n=e[t];if(r.strict===!0&&n<Fr[0])throw new Error(`${Et} integer encoded in more bytes than necessary (strict decode)`);return n}function Ys(e,t,r){Uf(e,t,2);const n=e[t]<<8|e[t+1];if(r.strict===!0&&n<Fr[1])throw new Error(`${Et} integer encoded in more bytes than necessary (strict decode)`);return n}function Xs(e,t,r){Uf(e,t,4);const n=e[t]*16777216+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3];if(r.strict===!0&&n<Fr[2])throw new Error(`${Et} integer encoded in more bytes than necessary (strict decode)`);return n}function Qs(e,t,r){Uf(e,t,8);const n=e[t]*16777216+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3],i=e[t+4]*16777216+(e[t+5]<<16)+(e[t+6]<<8)+e[t+7],a=(BigInt(n)<<BigInt(32))+BigInt(i);if(r.strict===!0&&a<Fr[3])throw new Error(`${Et} integer encoded in more bytes than necessary (strict decode)`);if(a<=Number.MAX_SAFE_INTEGER)return Number(a);if(r.allowBigInt===!0)return a;throw new Error(`${Et} integers outside of the safe integer range are not supported`)}function fW(e,t,r,n){return new Ke(ve.uint,Js(e,t+1,n),2)}function uW(e,t,r,n){return new Ke(ve.uint,Ys(e,t+1,n),3)}function lW(e,t,r,n){return new Ke(ve.uint,Xs(e,t+1,n),5)}function dW(e,t,r,n){return new Ke(ve.uint,Qs(e,t+1,n),9)}function ec(e,t){return hi(e,0,t.value)}function hi(e,t,r){if(r<Fr[0]){const n=Number(r);e.push([t|n])}else if(r<Fr[1]){const n=Number(r);e.push([t|24,n])}else if(r<Fr[2]){const n=Number(r);e.push([t|25,n>>>8,n&255])}else if(r<Fr[3]){const n=Number(r);e.push([t|26,n>>>24&255,n>>>16&255,n>>>8&255,n&255])}else{const n=BigInt(r);if(n<Fr[4]){const i=[t|27,0,0,0,0,0,0,0];let a=Number(n&BigInt(4294967295)),c=Number(n>>BigInt(32)&BigInt(4294967295));i[8]=a&255,a=a>>8,i[7]=a&255,a=a>>8,i[6]=a&255,a=a>>8,i[5]=a&255,i[4]=c&255,c=c>>8,i[3]=c&255,c=c>>8,i[2]=c&255,c=c>>8,i[1]=c&255,e.push(i)}else throw new Error(`${Et} encountered BigInt larger than allowable range`)}}ec.encodedSize=function(t){return hi.encodedSize(t.value)};hi.encodedSize=function(t){return t<Fr[0]?1:t<Fr[1]?2:t<Fr[2]?3:t<Fr[3]?5:9};ec.compareTokens=function(t,r){return t.value<r.value?-1:t.value>r.value?1:0};function hW(e,t,r,n){return new Ke(ve.negint,-1-Js(e,t+1,n),2)}function pW(e,t,r,n){return new Ke(ve.negint,-1-Ys(e,t+1,n),3)}function yW(e,t,r,n){return new Ke(ve.negint,-1-Xs(e,t+1,n),5)}const ew=BigInt(-1),wk=BigInt(1);function vW(e,t,r,n){const i=Qs(e,t+1,n);if(typeof i!="bigint"){const a=-1-i;if(a>=Number.MIN_SAFE_INTEGER)return new Ke(ve.negint,a,9)}if(n.allowBigInt!==!0)throw new Error(`${Et} integers outside of the safe integer range are not supported`);return new Ke(ve.negint,ew-BigInt(i),9)}function tw(e,t){const r=t.value,n=typeof r=="bigint"?r*ew-wk:r*-1-1;hi(e,t.type.majorEncoded,n)}tw.encodedSize=function(t){const r=t.value,n=typeof r=="bigint"?r*ew-wk:r*-1-1;return n<Fr[0]?1:n<Fr[1]?2:n<Fr[2]?3:n<Fr[3]?5:9};tw.compareTokens=function(t,r){return t.value<r.value?1:t.value>r.value?-1:0};function md(e,t,r,n){Uf(e,t,r+n);const i=Q2(e,t+r,t+r+n);return new Ke(ve.bytes,i,r+n)}function mW(e,t,r,n){return md(e,t,1,r)}function gW(e,t,r,n){return md(e,t,2,Js(e,t+1,n))}function bW(e,t,r,n){return md(e,t,3,Ys(e,t+1,n))}function wW(e,t,r,n){return md(e,t,5,Xs(e,t+1,n))}function _W(e,t,r,n){const i=Qs(e,t+1,n);if(typeof i=="bigint")throw new Error(`${Et} 64-bit integer bytes lengths not supported`);return md(e,t,9,i)}function rp(e){return e.encodedBytes===void 0&&(e.encodedBytes=e.type===ve.string?nW(e.value):e.value),e.encodedBytes}function x1(e,t){const r=rp(t);hi(e,t.type.majorEncoded,r.length),e.push(r)}x1.encodedSize=function(t){const r=rp(t);return hi.encodedSize(r.length)+r.length};x1.compareTokens=function(t,r){return xW(rp(t),rp(r))};function xW(e,t){return e.length<t.length?-1:e.length>t.length?1:oW(e,t)}function gd(e,t,r,n,i){const a=r+n;Uf(e,t,a);const c=new Ke(ve.string,rW(e,t+r,t+a),a);return i.retainStringBytes===!0&&(c.byteValue=Q2(e,t+r,t+a)),c}function SW(e,t,r,n){return gd(e,t,1,r,n)}function EW(e,t,r,n){return gd(e,t,2,Js(e,t+1,n),n)}function kW(e,t,r,n){return gd(e,t,3,Ys(e,t+1,n),n)}function MW(e,t,r,n){return gd(e,t,5,Xs(e,t+1,n),n)}function AW(e,t,r,n){const i=Qs(e,t+1,n);if(typeof i=="bigint")throw new Error(`${Et} 64-bit integer string lengths not supported`);return gd(e,t,9,i,n)}const CW=x1;function jf(e,t,r,n){return new Ke(ve.array,n,r)}function BW(e,t,r,n){return jf(e,t,1,r)}function IW(e,t,r,n){return jf(e,t,2,Js(e,t+1,n))}function RW(e,t,r,n){return jf(e,t,3,Ys(e,t+1,n))}function TW(e,t,r,n){return jf(e,t,5,Xs(e,t+1,n))}function NW(e,t,r,n){const i=Qs(e,t+1,n);if(typeof i=="bigint")throw new Error(`${Et} 64-bit integer array lengths not supported`);return jf(e,t,9,i)}function PW(e,t,r,n){if(n.allowIndefinite===!1)throw new Error(`${Et} indefinite length items not allowed`);return jf(e,t,1,1/0)}function rw(e,t){hi(e,ve.array.majorEncoded,t.value)}rw.compareTokens=ec.compareTokens;rw.encodedSize=function(t){return hi.encodedSize(t.value)};function Ff(e,t,r,n){return new Ke(ve.map,n,r)}function $W(e,t,r,n){return Ff(e,t,1,r)}function LW(e,t,r,n){return Ff(e,t,2,Js(e,t+1,n))}function OW(e,t,r,n){return Ff(e,t,3,Ys(e,t+1,n))}function DW(e,t,r,n){return Ff(e,t,5,Xs(e,t+1,n))}function UW(e,t,r,n){const i=Qs(e,t+1,n);if(typeof i=="bigint")throw new Error(`${Et} 64-bit integer map lengths not supported`);return Ff(e,t,9,i)}function jW(e,t,r,n){if(n.allowIndefinite===!1)throw new Error(`${Et} indefinite length items not allowed`);return Ff(e,t,1,1/0)}function nw(e,t){hi(e,ve.map.majorEncoded,t.value)}nw.compareTokens=ec.compareTokens;nw.encodedSize=function(t){return hi.encodedSize(t.value)};function FW(e,t,r,n){return new Ke(ve.tag,r,1)}function zW(e,t,r,n){return new Ke(ve.tag,Js(e,t+1,n),2)}function KW(e,t,r,n){return new Ke(ve.tag,Ys(e,t+1,n),3)}function qW(e,t,r,n){return new Ke(ve.tag,Xs(e,t+1,n),5)}function HW(e,t,r,n){return new Ke(ve.tag,Qs(e,t+1,n),9)}function iw(e,t){hi(e,ve.tag.majorEncoded,t.value)}iw.compareTokens=ec.compareTokens;iw.encodedSize=function(t){return hi.encodedSize(t.value)};const WW=20,VW=21,ZW=22,GW=23;function JW(e,t,r,n){if(n.allowUndefined===!1)throw new Error(`${Et} undefined values are not supported`);return n.coerceUndefinedToNull===!0?new Ke(ve.null,null,1):new Ke(ve.undefined,void 0,1)}function YW(e,t,r,n){if(n.allowIndefinite===!1)throw new Error(`${Et} indefinite length items not allowed`);return new Ke(ve.break,void 0,1)}function aw(e,t,r){if(r){if(r.allowNaN===!1&&Number.isNaN(e))throw new Error(`${Et} NaN values are not supported`);if(r.allowInfinity===!1&&(e===1/0||e===-1/0))throw new Error(`${Et} Infinity values are not supported`)}return new Ke(ve.float,e,t)}function XW(e,t,r,n){return aw(sw(e,t+1),3,n)}function QW(e,t,r,n){return aw(cw(e,t+1),5,n)}function eV(e,t,r,n){return aw(Ek(e,t+1),9,n)}function ow(e,t,r){const n=t.value;if(n===!1)e.push([ve.float.majorEncoded|WW]);else if(n===!0)e.push([ve.float.majorEncoded|VW]);else if(n===null)e.push([ve.float.majorEncoded|ZW]);else if(n===void 0)e.push([ve.float.majorEncoded|GW]);else{let i,a=!1;(!r||r.float64!==!0)&&(xk(n),i=sw(wi,1),n===i||Number.isNaN(n)?(wi[0]=249,e.push(wi.slice(0,3)),a=!0):(Sk(n),i=cw(wi,1),n===i&&(wi[0]=250,e.push(wi.slice(0,5)),a=!0))),a||(tV(n),i=Ek(wi,1),wi[0]=251,e.push(wi.slice(0,9)))}}ow.encodedSize=function(t,r){const n=t.value;if(n===!1||n===!0||n===null||n===void 0)return 1;if(!r||r.float64!==!0){xk(n);let i=sw(wi,1);if(n===i||Number.isNaN(n))return 3;if(Sk(n),i=cw(wi,1),n===i)return 5}return 9};const _k=new ArrayBuffer(9),Vn=new DataView(_k,1),wi=new Uint8Array(_k,0);function xk(e){if(e===1/0)Vn.setUint16(0,31744,!1);else if(e===-1/0)Vn.setUint16(0,64512,!1);else if(Number.isNaN(e))Vn.setUint16(0,32256,!1);else{Vn.setFloat32(0,e);const t=Vn.getUint32(0),r=(t&2139095040)>>23,n=t&8388607;if(r===255)Vn.setUint16(0,31744,!1);else if(r===0)Vn.setUint16(0,(e&2147483648)>>16|n>>13,!1);else{const i=r-127;i<-24?Vn.setUint16(0,0):i<-14?Vn.setUint16(0,(t&2147483648)>>16|1<<24+i,!1):Vn.setUint16(0,(t&2147483648)>>16|i+15<<10|n>>13,!1)}}}function sw(e,t){if(e.length-t<2)throw new Error(`${Et} not enough data for float16`);const r=(e[t]<<8)+e[t+1];if(r===31744)return 1/0;if(r===64512)return-1/0;if(r===32256)return NaN;const n=r>>10&31,i=r&1023;let a;return n===0?a=i*2**-24:n!==31?a=(i+1024)*2**(n-25):a=i===0?1/0:NaN,r&32768?-a:a}function Sk(e){Vn.setFloat32(0,e,!1)}function cw(e,t){if(e.length-t<4)throw new Error(`${Et} not enough data for float32`);const r=(e.byteOffset||0)+t;return new DataView(e.buffer,r,4).getFloat32(0,!1)}function tV(e){Vn.setFloat64(0,e,!1)}function Ek(e,t){if(e.length-t<8)throw new Error(`${Et} not enough data for float64`);const r=(e.byteOffset||0)+t;return new DataView(e.buffer,r,8).getFloat64(0,!1)}ow.compareTokens=ec.compareTokens;function $t(e,t,r){throw new Error(`${Et} encountered invalid minor (${r}) for major ${e[t]>>>5}`)}function S1(e){return()=>{throw new Error(`${Et} ${e}`)}}const Te=[];for(let e=0;e<=23;e++)Te[e]=$t;Te[24]=fW;Te[25]=uW;Te[26]=lW;Te[27]=dW;Te[28]=$t;Te[29]=$t;Te[30]=$t;Te[31]=$t;for(let e=32;e<=55;e++)Te[e]=$t;Te[56]=hW;Te[57]=pW;Te[58]=yW;Te[59]=vW;Te[60]=$t;Te[61]=$t;Te[62]=$t;Te[63]=$t;for(let e=64;e<=87;e++)Te[e]=mW;Te[88]=gW;Te[89]=bW;Te[90]=wW;Te[91]=_W;Te[92]=$t;Te[93]=$t;Te[94]=$t;Te[95]=S1("indefinite length bytes/strings are not supported");for(let e=96;e<=119;e++)Te[e]=SW;Te[120]=EW;Te[121]=kW;Te[122]=MW;Te[123]=AW;Te[124]=$t;Te[125]=$t;Te[126]=$t;Te[127]=S1("indefinite length bytes/strings are not supported");for(let e=128;e<=151;e++)Te[e]=BW;Te[152]=IW;Te[153]=RW;Te[154]=TW;Te[155]=NW;Te[156]=$t;Te[157]=$t;Te[158]=$t;Te[159]=PW;for(let e=160;e<=183;e++)Te[e]=$W;Te[184]=LW;Te[185]=OW;Te[186]=DW;Te[187]=UW;Te[188]=$t;Te[189]=$t;Te[190]=$t;Te[191]=jW;for(let e=192;e<=215;e++)Te[e]=FW;Te[216]=zW;Te[217]=KW;Te[218]=qW;Te[219]=HW;Te[220]=$t;Te[221]=$t;Te[222]=$t;Te[223]=$t;for(let e=224;e<=243;e++)Te[e]=S1("simple values are not supported");Te[244]=$t;Te[245]=$t;Te[246]=$t;Te[247]=JW;Te[248]=S1("simple values are not supported");Te[249]=XW;Te[250]=QW;Te[251]=eV;Te[252]=$t;Te[253]=$t;Te[254]=$t;Te[255]=YW;const ga=[];for(let e=0;e<24;e++)ga[e]=new Ke(ve.uint,e,1);for(let e=-1;e>=-24;e--)ga[31-e]=new Ke(ve.negint,e,1);ga[64]=new Ke(ve.bytes,new Uint8Array(0),1);ga[96]=new Ke(ve.string,"",1);ga[128]=new Ke(ve.array,0,1);ga[160]=new Ke(ve.map,0,1);ga[244]=new Ke(ve.false,!1,1);ga[245]=new Ke(ve.true,!0,1);ga[246]=new Ke(ve.null,null,1);function kk(e){switch(e.type){case ve.false:return Na([244]);case ve.true:return Na([245]);case ve.null:return Na([246]);case ve.bytes:return e.value.length?void 0:Na([64]);case ve.string:return e.value===""?Na([96]):void 0;case ve.array:return e.value===0?Na([128]):void 0;case ve.map:return e.value===0?Na([160]):void 0;case ve.uint:return e.value<24?Na([Number(e.value)]):void 0;case ve.negint:if(e.value>=-24)return Na([31-Number(e.value)])}}const rV={float64:!1,mapSorter:iV,quickEncodeToken:kk};function Mk(){const e=[];return e[ve.uint.major]=ec,e[ve.negint.major]=tw,e[ve.bytes.major]=x1,e[ve.string.major]=CW,e[ve.array.major]=rw,e[ve.map.major]=nw,e[ve.tag.major]=iw,e[ve.float.major]=ow,e}const Ak=Mk(),hm=new gk;class np{constructor(t,r){this.obj=t,this.parent=r}includes(t){let r=this;do if(r.obj===t)return!0;while(r=r.parent);return!1}static createCheck(t,r){if(t&&t.includes(r))throw new Error(`${bk} object contains circular references`);return new np(r,t)}}const bo={null:new Ke(ve.null,null),undefined:new Ke(ve.undefined,void 0),true:new Ke(ve.true,!0),false:new Ke(ve.false,!1),emptyArray:new Ke(ve.array,0),emptyMap:new Ke(ve.map,0)},Ho={number(e,t,r,n){return!Number.isInteger(e)||!Number.isSafeInteger(e)?new Ke(ve.float,e):e>=0?new Ke(ve.uint,e):new Ke(ve.negint,e)},bigint(e,t,r,n){return e>=BigInt(0)?new Ke(ve.uint,e):new Ke(ve.negint,e)},Uint8Array(e,t,r,n){return new Ke(ve.bytes,e)},string(e,t,r,n){return new Ke(ve.string,e)},boolean(e,t,r,n){return e?bo.true:bo.false},null(e,t,r,n){return bo.null},undefined(e,t,r,n){return bo.undefined},ArrayBuffer(e,t,r,n){return new Ke(ve.bytes,new Uint8Array(e))},DataView(e,t,r,n){return new Ke(ve.bytes,new Uint8Array(e.buffer,e.byteOffset,e.byteLength))},Array(e,t,r,n){if(!e.length)return r.addBreakTokens===!0?[bo.emptyArray,new Ke(ve.break)]:bo.emptyArray;n=np.createCheck(n,e);const i=[];let a=0;for(const c of e)i[a++]=d0(c,r,n);return r.addBreakTokens?[new Ke(ve.array,e.length),i,new Ke(ve.break)]:[new Ke(ve.array,e.length),i]},Object(e,t,r,n){const i=t!=="Object",a=i?e.keys():Object.keys(e),c=i?e.size:a.length;if(!c)return r.addBreakTokens===!0?[bo.emptyMap,new Ke(ve.break)]:bo.emptyMap;n=np.createCheck(n,e);const u=[];let d=0;for(const p of a)u[d++]=[d0(p,r,n),d0(i?e.get(p):e[p],r,n)];return nV(u,r),r.addBreakTokens?[new Ke(ve.map,c),u,new Ke(ve.break)]:[new Ke(ve.map,c),u]}};Ho.Map=Ho.Object;Ho.Buffer=Ho.Uint8Array;for(const e of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))Ho[`${e}Array`]=Ho.DataView;function d0(e,t={},r){const n=YH(e),i=t&&t.typeEncoders&&t.typeEncoders[n]||Ho[n];if(typeof i=="function"){const c=i(e,n,t,r);if(c!=null)return c}const a=Ho[n];if(!a)throw new Error(`${bk} unsupported type: ${n}`);return a(e,n,t,r)}function nV(e,t){t.mapSorter&&e.sort(t.mapSorter)}function iV(e,t){const r=Array.isArray(e[0])?e[0][0]:e[0],n=Array.isArray(t[0])?t[0][0]:t[0];if(r.type!==n.type)return r.type.compare(n.type);const i=r.type.major,a=Ak[i].compareTokens(r,n);return a===0&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone"),a}function Ck(e,t,r,n){if(Array.isArray(t))for(const i of t)Ck(e,i,r,n);else r[t.type.major](e,t,n)}function aV(e,t,r){const n=d0(e,r);if(!Array.isArray(n)&&r.quickEncodeToken){const i=r.quickEncodeToken(n);if(i)return i;const a=t[n.type.major];if(a.encodedSize){const c=a.encodedSize(n,r),u=new gk(c);if(a(u,n,r),u.chunks.length!==1)throw new Error(`Unexpected error: pre-calculated length for ${n} was wrong`);return mk(u.chunks[0])}}return hm.reset(),Ck(hm,n,t,r),hm.toBytes(!0)}function oV(e,t){return t=Object.assign({},rV,t),aV(e,Ak,t)}const sV={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0};class cV{constructor(t,r={}){this.pos=0,this.data=t,this.options=r}done(){return this.pos>=this.data.length}next(){const t=this.data[this.pos];let r=ga[t];if(r===void 0){const n=Te[t];if(!n)throw new Error(`${Et} no decoder for major type ${t>>>5} (byte 0x${t.toString(16).padStart(2,"0")})`);const i=t&31;r=n(this.data,this.pos,i,this.options)}return this.pos+=r.encodedLength,r}}const zl=Symbol.for("DONE"),E1=Symbol.for("BREAK");function fV(e,t,r){const n=[];for(let i=0;i<e.value;i++){const a=Kl(t,r);if(a===E1){if(e.value===1/0)break;throw new Error(`${Et} got unexpected break to lengthed array`)}if(a===zl)throw new Error(`${Et} found array but not enough entries (got ${i}, expected ${e.value})`);n[i]=a}return n}function uV(e,t,r){const n=r.useMaps===!0,i=n?void 0:{},a=n?new Map:void 0;for(let c=0;c<e.value;c++){const u=Kl(t,r);if(u===E1){if(e.value===1/0)break;throw new Error(`${Et} got unexpected break to lengthed map`)}if(u===zl)throw new Error(`${Et} found map but not enough entries (got ${c} [no key], expected ${e.value})`);if(n!==!0&&typeof u!="string")throw new Error(`${Et} non-string keys not supported (got ${typeof u})`);if(r.rejectDuplicateMapKeys===!0&&(n&&a.has(u)||!n&&u in i))throw new Error(`${Et} found repeat map key "${u}"`);const d=Kl(t,r);if(d===zl)throw new Error(`${Et} found map but not enough entries (got ${c} [no value], expected ${e.value})`);n?a.set(u,d):i[u]=d}return n?a:i}function Kl(e,t){if(e.done())return zl;const r=e.next();if(r.type===ve.break)return E1;if(r.type.terminal)return r.value;if(r.type===ve.array)return fV(r,e,t);if(r.type===ve.map)return uV(r,e,t);if(r.type===ve.tag){if(t.tags&&typeof t.tags[r.value]=="function"){const n=Kl(e,t);return t.tags[r.value](n)}throw new Error(`${Et} tag not supported (${r.value})`)}throw new Error("unsupported")}function lV(e,t){if(!(e instanceof Uint8Array))throw new Error(`${Et} data to decode must be a Uint8Array`);t=Object.assign({},sV,t);const r=t.tokenizer||new cV(e,t),n=Kl(r,t);if(n===zl)throw new Error(`${Et} did not find any content to decode`);if(n===E1)throw new Error(`${Et} got unexpected break`);if(!r.done())throw new Error(`${Et} too many terminals, data makes no sense`);return n}const Bk=42;function dV(e){if(e.asCID!==e&&e["/"]!==e.bytes)return null;const t=Nr.asCID(e);if(!t)return null;const r=new Uint8Array(t.bytes.byteLength+1);return r.set(t.bytes,1),[new Ke(ve.tag,Bk),new Ke(ve.bytes,r)]}function hV(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")}function pV(e){if(Number.isNaN(e))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(e===1/0||e===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}const yV={float64:!0,typeEncoders:{Object:dV,undefined:hV,number:pV}};function vV(e){if(e[0]!==0)throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return Nr.decode(e.subarray(1))}const Ik={allowIndefinite:!1,coerceUndefinedToNull:!0,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,rejectDuplicateMapKeys:!0,tags:[]};Ik.tags[Bk]=vV;const mV="dag-cbor",gV=113,Rk=e=>oV(e,yV),Tk=e=>lV(e,Ik),oi=Object.freeze(Object.defineProperty({__proto__:null,code:gV,decode:Tk,encode:Rk,name:mV},Symbol.toStringTag,{value:"Module"})),fw=e=>{const t=e.byteLength-4;return(e[t]|e[t+1]<<8|e[t+2]<<16)+e[t+3]*16777216},bV=4294967295,k1=e=>{const t=Math.floor(bV/e);return async r=>{const n=await r.identity();if(typeof n!="number")throw new Error("Identity must be a number");return n<=t}},zf=(e,t)=>e===t?0:e>t?1:-1,wV=(e,t)=>{for(let r=0;r<e.byteLength;r++){if(t.byteLength===r)return 1;const n=e[r],i=t[r];if(n!==i)return n>i?1:-1}return t.byteLength>e.byteLength?-1:0};class na{constructor(){this._cids=new Set}add(t){if(!t.address)throw new Error("Cannot add node without address");if(t.address.then){const r=t.address.then(n=>this._cids.add(n.toString()));this._cids.add(r),r.then(()=>this._cids.delete(r))}else this._cids.add(t.address.toString())}async all(){return await Promise.all([...this._cids]),this._cids}}async function _V(e,t,r){const n=new bd(e),i=new Map(t.map(c=>[c.toString(),c]));if(i.has(r.toString()))return{head:t,cids:n.cids};let a=!1;for(const c of t)await Gg(n,r,c)&&(i.delete(c.toString()),i.set(r.toString(),r),a=!0);if(a)return{head:[...i.values()],cids:n.cids};for(const c of t)if(await Gg(n,c,r))return{head:t,cids:n.cids};return{head:t.concat(r),cids:n.cids}}class xV extends Of{constructor({cid:t,value:r,bytes:n}){super({cid:t,value:r,bytes:n})}static create(t,r){return SV({data:t,parents:r??[]})}}class bd{constructor(t){this._blocks=t,this._cids=new na,this._cache=new Map}async get(t){const r=t.toString();if(this._cache.has(r))return this._cache.get(r);const n=await this._blocks.get(t);if(this._cids.add({address:t}),!n)throw new Error(`missing block: ${t}`);const i=EV(n.bytes);return this._cache.set(r,i),i}async all(){return await Promise.all([...this._cids]),this._cids}}async function SV(e){const{cid:t,bytes:r}=await Fl({value:e,codec:oi,hasher:Oi});return new Of({cid:t,value:e,bytes:r})}async function EV(e){const{cid:t,value:r}=await X2({bytes:e,codec:oi,hasher:Oi});return new Of({cid:t,value:r,bytes:e})}async function Gg(e,t,r){if(t.toString()===r.toString())return!0;const[{value:n},{value:i}]=await Promise.all([e.get(t),e.get(r)]),a=[...n.parents];for(;a.length;){const c=a.shift();if(!c)break;if(c.toString()===r.toString())return!0;if(i.parents.some(d=>c.toString()===d.toString()))continue;const{value:u}=await e.get(c);a.push(...u.parents)}return!1}async function*kV(e,t,r={}){const n=r.renderNodeLabel??(d=>d.value.data.value),i=new bd(e);yield"digraph clock {",yield'  node [shape=point fontname="Courier"]; head;';const a=await Promise.all(t.map(d=>i.get(d))),c=[],u=new Set;for(const d of a){u.add(d.cid.toString()),yield`  node [shape=oval fontname="Courier"]; ${d.cid} [label="${n(d)}"];`,yield`  head -> ${d.cid};`;for(const p of d.value.parents)yield`  ${d.cid} -> ${p};`;c.push(...d.value.parents)}for(;c.length;){const d=c.shift();if(!d)break;if(u.has(d.toString()))continue;u.add(d.toString());const p=await i.get(d);yield`  node [shape=oval]; ${d} [label="${n(p)}" fontname="Courier"];`;for(const m of p.value.parents)yield`  ${d} -> ${m};`;c.push(...p.value.parents)}yield"}"}async function MV(e,t){const r=new bd(e),{ancestor:n,sorted:i}=await uw(r,t),a=await AV(i,async c=>!await Gg(r,n,c.cid));return{cids:r.cids,events:a}}const AV=async(e,t)=>Promise.all(e.map(t)).then(r=>e.filter((n,i)=>r[i]));async function uw(e,t){const r=await Nk(e,t);if(!r)throw new Error("failed to find common ancestor event");const n=await IV(e,t,r);return{ancestor:r,sorted:n}}async function Nk(e,t){if(!t.length)return;const r=t.map(n=>[n]);for(;;){let n=!1;for(const i of r){const a=await CV(e,i[i.length-1]);if(!a)continue;n=!0,i.push(a);const c=BV(r);if(c)return c}if(!n)return}}async function CV(e,t){const{value:r}=await e.get(t);return r.parents.length?r.parents.length===1?r.parents[0]:Nk(e,r.parents):t}function BV(e){e=e.map(t=>[...t]);for(const t of e)for(const r of t){let n=!0;for(const i of e)if(t!==i&&(n=i.some(a=>String(a)===String(r)),!n))break;if(n)return r}}async function IV(e,t,r){const n=new Map,i=await Promise.all(t.map(u=>Pk(e,u,r)));for(const u of i)for(const{event:d,depth:p}of u){const m=n.get(d.cid.toString());m?m.weight+=p:n.set(d.cid.toString(),{event:d,weight:p})}const a=new Map;for(const{event:u,weight:d}of n.values()){const p=a.get(d);p?p.push(u):a.set(d,[u])}return Array.from(a).sort((u,d)=>d[0]-u[0]).flatMap(([,u])=>u.sort((d,p)=>String(d.cid)<String(p.cid)?-1:1))}async function Pk(e,t,r,n=0){const i=await e.get(t),a=[{event:i,depth:n}],{parents:c}=i.value;if(c.length===1&&String(c[0])===String(r))return a;const u=await Promise.all(c.map(d=>Pk(e,d,r,n+1)));return a.concat(...u)}class lw{constructor({key:t,address:r},n={}){this.key=t,this.address=r,this.codec=n.codec,this.hasher=n.hasher}get isEntry(){return!0}}class ip{constructor({entries:t,closed:r}){if(typeof r!="boolean")throw new Error('Missing required argument "closed"');this.entries=t,this.closed=r,this.startKey=t[0].key}find(t,r){const{entries:n}=this;for(let i=n.length-1;i>-1;i--){const a=n[i];if(r(t,a.key)>-1)return[i,a]}return null}findMany(t,r,n=!1,i=!1){const{entries:a}=this,c=new Map;n?t=[...t]:t=t.sort(r);for(let u=a.length-1;u>-1&&t.length;u--){const d=a[u],p=[];for(;t.length;){let m=t[t.length-1];m=m.key?m.key:m;const x=r(m,d.key);if(i)if(x===0)p.push(t.pop());else if(x>0)t.pop();else break;else if(x>-1)p.push(t.pop());else break}p.length&&c.set(u,[d,p])}return c}findRange(t,r,n){const{entries:i}=this;let a,c=0;for(let u=i.length-1;u>-1;u--){const d=i[u];if(n(r,d.key)>0){a=u;break}}for(let u=0;u<i.length;u++){const d=i[u],p=n(t,d.key);if(p===0){c=u;break}else if(p<0)break;c=u}return{first:c,last:a,entries:i.slice(c,a+1)}}}const m_=e=>typeof e=="string"?e:JSON.stringify(e);function RV(e,t){return e.sort(({key:r},{key:n})=>t.compare(r,n))}async function TV(e,t,r){const n=[];for(const i of t){const{key:a,del:c}=i;if(r(a,e)<0)c||n.push(i);else break}return n}async function NV(e,t,{chunker:r,compare:n}){return await wn.from({entries:e.map(i=>new t.LeafEntryClass(i,t)).sort((i,a)=>n(i.key,a.key)),chunker:r,NodeClass:t.LeafClass,distance:0,opts:t})}async function PV(e,t,r,n){return await Promise.all(t.map(async i=>{const a=await i.encode();return r.blocks.push({block:a,node:i}),e.cache.set(i),new n.BranchEntryClass({key:i.key,address:await i.address},n)}))}async function $V(e,t,r,n){const i=t.root;t.blocks.push({block:await i.encode(),node:i}),e.cache.set(i);const a=n.opts,c=i.distance,u=i.entryList.startKey,d=await TV(u,r,e.compare);if(d.length){const p=await NV(d,a,e),m=await PV(e,p,t,a),k=[new a.BranchEntryClass({key:i.entryList.startKey,address:await i.address},a),...m].sort(({key:j},{key:U})=>a.compare(j,U));let S=await wn.from({...n,entries:k,chunker:e.chunker,NodeClass:a.BranchClass,distance:c+1}),P=[...S];for(;S.length>1;){const j=await Promise.all(S.map(async U=>new a.BranchEntryClass({key:U.key,address:await U.address},a)));S=await wn.from({...n,entries:j.sort(({key:U},{key:O})=>a.compare(U,O)),chunker:e.chunker,NodeClass:a.BranchClass,distance:c+1}),P=[...P,...S]}await Promise.all(P.map(async j=>{const U=await j.encode();e.cache.set(j),t.blocks.push({block:U,node:j})})),t.root=S[0],t.nodes=[...t.nodes,...P]}}class wn{constructor({entryList:t,chunker:r,distance:n,getNode:i,compare:a,cache:c}){this.entryList=t,this.chunker=r,this.distance=n,this.getNode=i,this.compare=a,this.cache=c}get closed(){return this.entryList.closed}get key(){return this.entryList.startKey}async getEntry(t,r=new na){return{result:await this._getEntry(t,r),cids:r}}async _getEntry(t,r){r.add(this);let n=this;for(;!n.isLeaf;){const c=n.entryList.find(t,this.compare);if(c===null)throw new Error("Not found");const[,u]=c;n=await this.getNode(await u.address),r.add(n)}const i=n.entryList.find(t,this.compare);if(i===null||i[1].key.toString()!==t.toString())throw new Error("Not found");const[,a]=i;return a}async getAllEntries(t=new na){return{result:await this._getAllEntries(t),cids:t}}_getAllEntries(t){if(t.add(this),this.isLeaf)return this.entryList.entries;{const{entries:r}=this.entryList,n=async i=>this.getNode(await i.address).then(a=>a._getAllEntries(t)).catch(async a=>{throw a});return Promise.all(r.map(n)).then(i=>i.flat())}}async*vis(t=new Set){const r=async a=>a.isLeaf?`Leaf [${a.entryList.entries.map(u=>`[${u.key},${JSON.stringify(u.value).replace(/"/g,"'")}]`).join(", ")}]`:`Branch [${a.entryList.entries.map(u=>`[${u.key}]`).join(", ")}]`,n=a=>a.toString().slice(0,4)+a.toString().slice(-4),i=async function*(a,c,u){const d=await a.address;if(!u.has(d)){u.add(d);const p=await r(a);yield`  node [shape=ellipse fontname="Courier"]; ${n(d)} [label="${p}"];`,yield`  ${n(c)} -> ${n(d)};`;for(const m of a.entryList.entries)if(m.address){const x=await m.address;try{const k=await a.getNode(x);yield*await i(k,d,u)}catch(k){yield`  ${n(d)} -> ${n(x)};`,yield`  node [shape=ellipse fontname="Courier"]; ${n(x)} [label="Error: ${k.message}"];`}}}};yield"digraph tree {",yield'  node [shape=ellipse fontname="Courier"]; rootnode;';for await(const a of i(this,"rootnode",t))yield a;yield"}"}async getEntries(t,r=!1,n=new na){return{result:await this._getEntries(t,r,n),cids:n}}async _getEntries(t,r,n){n.add(this),r||(t=t.sort(this.compare));const i=this.entryList.findMany(t,this.compare,!0,this.isLeaf);if(this.isLeaf)return[...i.values()].map(([c])=>c);let a=[];for(const[c,u]of[...i.values()].reverse()){const d=this.getNode(await c.address);a.push(d.then(p=>p._getEntries(u.reverse(),!0,n)))}return a=await Promise.all(a),a.flat()}async getRangeEntries(t,r,n=new na){return{result:await this._getRangeEntries(t,r,n),cids:n}}_getRangeEntries(t,r,n){n.add(this);const{entries:i}=this.entryList.findRange(t,r,this.compare);if(this.isLeaf)return i.filter(d=>{const p=this.compare(t,d.key),m=this.compare(r,d.key);return p<=0&&m>=0});if(!i.length)return[];const a=async d=>this.getNode(await d.address).then(p=>p._getRangeEntries(t,r,n)),c=[a(i.shift())];if(!i.length)return c[0];const u=a(i.pop());for(;i.length;){const d=async p=>this.getNode(await p.address).then(async m=>m._getAllEntries(n));c.push(d(i.shift()))}return c.push(u),Promise.all(c).then(d=>d.flat())}async transaction(t,r={}){r={codec:this.codec,hasher:this.hasher,getNode:this.getNode,compare:this.compare,cache:this.cache,...r};const n={chunker:this.chunker,opts:r},i=this.entryList.findMany(t,r.compare,!0,this.isLeaf);return this.isLeaf?await this.transactionLeaf(t,r,n,i):await this.transactionBranch(t,r,n,i)}async transactionLeaf(t,r,n,i){const{LeafClass:a,LeafEntryClass:c}=r,{entries:u,previous:d}=this.processLeafEntries(t,i,c,r),p={...n,entries:u,NodeClass:a,distance:0},m=await wn.from(p);return{nodes:m,previous:d,blocks:await Promise.all(m.map(async x=>{const k=await x.encode();return this.cache.set(x),{block:k,node:x}})),distance:0}}processLeafEntries(t,r,n,i){const a=[];let c=[];const u={},d=new Map;for(const{key:x,del:k,value:S}of t){const P=m_(x);k?typeof u[P]>"u"&&d.set(P,null):(u[P]={key:x,value:S},d.delete(P))}c=[...this.entryList.entries];for(const[x,[k]]of r){a.push(k);const S=m_(k.key);d.has(S)?d.set(S,x):(c[x]=new n(u[S],i),delete u[S])}let p=0;for(const[,x]of d)c.splice(x-p++,1);const m=Object.values(u).map(x=>new n(x,i));return c=c.concat(m).sort(({key:x},{key:k})=>i.compare(x,k)),{entries:c,previous:a}}async transactionBranch(t,r,n,i){const{BranchClass:a,BranchEntryClass:c}=r;let u=0;for(const[P,[j,U]]of i){const O=this.getNode(await j.address).then(L=>L.transaction(U.reverse(),{...r,sorted:!0})).then(L=>({entry:j,keys:U,distance:u,...L}));i.set(P,O)}let d=[...this.entryList.entries];const p={previous:[],blocks:[],nodes:[]};for(const[P,j]of i){const{nodes:U,previous:O,blocks:L,distance:z}=await j;u=z,d[P]=U,O.length&&(p.previous=p.previous.concat(O)),L.length&&(p.blocks=p.blocks.concat(L)),U.length&&(p.nodes=p.nodes.concat(U))}d=d.flat();const m=await this.handlePrepend(d,r,n,p,u);u++;const x=async P=>{if(P.isEntry)return P;const j=await P.encode();return p.blocks.push({block:j,node:P}),this.cache.set(P),new c(P,r)};d=await Promise.all(m.map(x));const k={...n,entries:d,NodeClass:a,distance:u},S=await wn.from(k);return await Promise.all(S.map(async P=>{const j=await P.encode();p.blocks.push({block:j,node:P}),this.cache.set(P)})),p.nodes=S,{...p,distance:u}}async handlePrepend(t,r,n,i,a){const{BranchClass:c,LeafClass:u}=r;let d=[],p=null;for(const m of t)if(p){const x=await this.mergeFirstLeftEntries(m,p,n,i,a);p=null;const k=x[0].address?c:u,S={...n,entries:x.sort(({key:j},{key:U})=>r.compare(j,U)),NodeClass:k,distance:a},P=await wn.from(S);P[P.length-1].closed||(p=P.pop()),P.length&&(d=d.concat(P))}else!m.isEntry&&!m.closed?p=m:d.push(m);return p&&d.push(p),d}async getNodeFirstFromBlocks(t,r){for(const{block:n,node:i}of t)if(await n.cid===r)return i;return await this.getNode(r)}async mergeFirstLeftEntries(t,r,n,i,a){const c=n.opts,{LeafClass:u,BranchClass:d,BranchEntryClass:p}=c;if(t.isEntry){const S=await t.address;t=await this.getNodeFirstFromBlocks(i.blocks,S)}const m=t.entryList.entries;if(!m.length)throw new Error("unreachable no entries");const x=(S,P)=>S.concat(P),k=async(S,P,j)=>await Promise.all(S.map(async U=>(P.blocks.push({block:await U.encode(),node:U}),this.cache.set(U),new p({key:U.key,address:await U.address},j))));if(m[0].constructor.name===r.entryList.entries[0].constructor.name)return await x(r.entryList.entries,m);{const S=m.shift();if(!S)throw new Error("unreachable no left entry");if(!S.address)throw new Error("unreachable existing leaf, no leftEntry.address");const P=await this.mergeFirstLeftEntries(S,r,n,i,a-1),j=m.shift();if(!j)return P;if(!j.address)throw new Error("unreachable existing leaf, no esf.address");const U=await this.getNodeFirstFromBlocks(i.blocks,await j.address);if(U.entryList.entries[0].address){if(P[0].address)return P.concat(U.entryList.entries);{const O=await wn.from({...n,entries:P.sort(({key:J},{key:ne})=>c.compare(J,ne)),NodeClass:u,distance:a}),L=await k(O,i,c),z=await wn.from({...n,entries:[...U.entryList.entries,...L,...m].sort(({key:J},{key:ne})=>c.compare(J,ne)),NodeClass:d,distance:a});return await k(z,i,c)}}else{const O=await x(P,U.entryList.entries),L=await wn.from({...n,entries:O.sort(({key:G},{key:J})=>c.compare(G,J)),NodeClass:u,distance:a}),z=await k(L,i,c);return await x(z,m)}}}async bulk(t,r={},n=!0){const{BranchClass:i}=r;r={codec:this.codec,hasher:this.hasher,getNode:this.getNode,compare:this.compare,cache:this.cache,...r},r.sorted||(t=RV(t,r),r.sorted=!0);const a={chunker:this.chunker,opts:r},c=await this.transaction(t,r);for(;c.nodes.length>1;){const u=c.nodes[0].distance+1,d=await Promise.all(c.nodes.map(async m=>{const x=await m.encode();return c.blocks.push({block:x,node:m}),this.cache.set(m),new r.BranchEntryClass(m,r)})),p=await wn.from({...a,entries:d,NodeClass:i,distance:u});await Promise.all(p.map(async m=>{const x=await m.encode();this.cache.set(m),c.blocks.push({block:x,node:m})})),c.nodes=p}return c.root=c.nodes[0],n&&await $V(this,c,t,a),c.blocks=c.blocks.map(({block:u})=>u),c}static async from({entries:t,chunker:r,NodeClass:n,distance:i,opts:a}){if(!t.every(d=>d.constructor.name===t[0].constructor.name))throw new Error("all entries must be of the same type");const c=[];let u=[];for(const d of t)u.push(d),await r(d,i)&&(c.push(new ip({entries:u,closed:!0})),u=[]);return u.length&&c.push(new ip({entries:u,closed:!1})),c.map(d=>new n({entryList:d,chunker:r,distance:i,...a}))}}class $k extends wn{constructor({codec:t,hasher:r,block:n,...i}){super(i),this.codec=t,this.hasher=r,n?(this.block=n,this.address=n.cid):(this.block=this.encode(),this.address=this.block.then(a=>a.cid))}async get(t){const{result:r,cids:n}=await this.getEntry(t);return{result:r.key,cids:n}}async encode(){if(this.block)return this.block;const t=await this.encodeNode(),r={codec:this.codec,hasher:this.hasher,value:t};return this.block=await Fl(r),this.block}}class Lk extends $k{async encodeNode(){const{entries:t}=this.entryList,r=async i=>{if(!i.address)throw new Error("entry.address required");return[i.key,await i.address]},n=await Promise.all(t.map(r));return{branch:[this.distance,n],closed:this.closed}}get isBranch(){return!0}}class Ok extends $k{async encodeNode(){return{leaf:await Promise.all(this.entryList.entries.map(async r=>await r.encodeNode())),closed:this.closed}}get isLeaf(){return!0}}const Dk=async function*(e){let{LeafClass:t,LeafEntryClass:r,BranchClass:n,BranchEntryClass:i,list:a,chunker:c,compare:u,...d}=e;a=a.map(x=>new r(x,d)),d.compare=u;let p=await wn.from({entries:a,chunker:c,NodeClass:t,distance:0,opts:d});yield*p;let m=1;for(;p.length>1;){const x=async S=>new i({key:S.key,address:await S.address},d),k=await Promise.all(p.map(x));p=await wn.from({entries:k,chunker:c,NodeClass:n,distance:m,opts:d}),yield*p,m++}};class Uk extends lw{async identity(){const t=await this.codec.encode(await this.encodeNode()),r=await this.hasher.encode(t);return fw(r)}}class M1 extends Uk{constructor(t,r){super(t,r),this.value=t.value}encodeNode(){return[this.key,this.value]}}class A1 extends Uk{constructor(t,r){if(!t.address)throw new Error("Cannot create MapBranchEntry without address");super(t,r)}async encodeNode(){return[this.key,await this.address]}}const jk=async(e,t)=>{const{result:r,cids:n}=await e.getEntry(t);return{result:r.value,cids:n}},Fk=async(e,t)=>{const{result:r,cids:n}=await e.getEntries(t);return{result:r.map(i=>i.value),cids:n}};class C1 extends Ok{get(t){return jk(this,t)}getMany(t){return Fk(this,t)}bulk(t,r={},n=!0){return super.bulk(t,{...zk,...r},n)}}class B1 extends Lk{get(t){return jk(this,t)}getMany(t){return Fk(this,t)}bulk(t,r={},n=!0){return super.bulk(t,{...zk,...r},n)}}const zk={LeafClass:C1,LeafEntryClass:M1,BranchClass:B1,BranchEntryClass:A1},Kk=(e,t,r,n,i,a,c)=>{const u=c.LeafClass||C1,d=c.LeafEntryClass||M1,p=c.BranchClass||B1,m=c.BranchEntryClass||A1,x=async S=>t.has(S)?t.get(S):e(S).then(P=>k(P)),k=LV({chunker:r,cache:t,getNode:x,codec:n,hasher:i,compare:a,LeafEntryClass:d,LeafClass:u,BranchEntryClass:m,BranchClass:p});return x},qk=({get:e,cache:t,chunker:r,list:n,codec:i,hasher:a,sorted:c,compare:u,...d})=>{c||(n=n.sort(({key:x},{key:k})=>u(x,k)));const p=Kk(e,t,r,i,a,u,d),m={list:n,codec:i,hasher:a,chunker:r,getNode:p,sorted:c,compare:u,cache:t,LeafClass:d.LeafClass||C1,LeafEntryClass:d.LeafEntryClass||M1,BranchClass:d.BranchClass||B1,BranchEntryClass:d.BranchEntryClass||A1};return Dk(m)},Hk=({cid:e,get:t,cache:r,chunker:n,codec:i,hasher:a,compare:c,...u})=>Kk(t,r,n,i,a,c,u)(e);function LV({chunker:e,cache:t,getNode:r,codec:n,hasher:i,compare:a,LeafEntryClass:c,LeafClass:u,BranchEntryClass:d,BranchClass:p}){const m={codec:n,hasher:i};return x=>{const{value:k}=x,S={chunker:e,cache:t,block:x,getNode:r,codec:n,hasher:i,compare:a};let P,j;if(k.leaf)P=k.leaf.map(([L,z])=>new c({key:L,value:z},m)),j=u;else if(k.branch){const[L,z]=k.branch;S.distance=L,P=z.map(([G,J])=>new d({key:G,address:J},m)),j=p}else throw new Error("Unknown block data, does not match schema");const U=new ip({entries:P,closed:k.closed}),O=new j({entryList:U,...S});return t.set(O),O}}const I1={has:()=>!1,get:()=>{throw new Error("Cannot ask for entries from nocache")},set:()=>{}},OV=(e,t)=>Nr.parse(e,t),Io={Null:e=>e===null,Int:e=>Number.isInteger(e),Float:e=>typeof e=="number"&&Number.isFinite(e),String:e=>typeof e=="string",Bool:e=>typeof e=="boolean",Bytes:e=>e instanceof Uint8Array,Link:e=>!Io.Null(e)&&typeof e=="object"&&e.asCID===e,List:e=>Array.isArray(e),Map:e=>!Io.Null(e)&&typeof e=="object"&&e.asCID!==e&&!Io.List(e)&&!Io.Bytes(e)},xc={Int:Io.Int,"CarHeader > version":e=>xc.Int(e),"CarHeader > roots (anon) > valueType (anon)":Io.Link,"CarHeader > roots (anon)":e=>Io.List(e)&&Array.prototype.every.call(e,xc["CarHeader > roots (anon) > valueType (anon)"]),"CarHeader > roots":e=>xc["CarHeader > roots (anon)"](e),CarHeader:e=>{const t=e&&Object.keys(e);return Io.Map(e)&&["version"].every(r=>t.includes(r))&&Object.entries(e).every(([r,n])=>xc["CarHeader > "+r]&&xc["CarHeader > "+r](n))}},DV=xc.CarHeader;var UV=Jg,g_=128,jV=127,FV=~jV,zV=Math.pow(2,31);function Jg(e,t,r){if(Number.MAX_SAFE_INTEGER&&e>Number.MAX_SAFE_INTEGER)throw Jg.bytes=0,new RangeError("Could not encode varint");t=t||[],r=r||0;for(var n=r;e>=zV;)t[r++]=e&255|g_,e/=128;for(;e&FV;)t[r++]=e&255|g_,e>>>=7;return t[r]=e|0,Jg.bytes=r-n+1,t}var KV=Yg,qV=128,b_=127;function Yg(e,n){var r=0,n=n||0,i=0,a=n,c,u=e.length;do{if(a>=u||i>49)throw Yg.bytes=0,new RangeError("Could not decode varint");c=e[a++],r+=i<28?(c&b_)<<i:(c&b_)*Math.pow(2,i),i+=7}while(c>=qV);return Yg.bytes=a-n,r}var HV=Math.pow(2,7),WV=Math.pow(2,14),VV=Math.pow(2,21),ZV=Math.pow(2,28),GV=Math.pow(2,35),JV=Math.pow(2,42),YV=Math.pow(2,49),XV=Math.pow(2,56),QV=Math.pow(2,63),eZ=function(e){return e<HV?1:e<WV?2:e<VV?3:e<ZV?4:e<GV?5:e<JV?6:e<YV?7:e<XV?8:e<QV?9:10},ki={encode:UV,decode:KV,encodingLength:eZ};const pm={SHA2_256:18,LENGTH:32,DAG_PB:112},tZ=16+8+8+8;function ap(e,t){if(!e.length)throw new Error("Unexpected end of data");const r=ki.decode(e);return t.seek(ki.decode.bytes),r}function rZ(e){const t=new DataView(e.buffer,e.byteOffset,e.byteLength);let r=0;return{version:2,characteristics:[t.getBigUint64(r,!0),t.getBigUint64(r+=8,!0)],dataOffset:Number(t.getBigUint64(r+=8,!0)),dataSize:Number(t.getBigUint64(r+=8,!0)),indexOffset:Number(t.getBigUint64(r+=8,!0))}}function nZ(e){ki.decode(e);const t=ki.decode.bytes,r=ki.decode(e.subarray(ki.decode.bytes)),n=ki.decode.bytes;return t+n+r}async function Wk(e,t){const r=ap(await e.upTo(8),e);if(r===0)throw new Error("Invalid CAR header (zero length)");const n=await e.exactly(r,!0),i=Tk(n);if(!DV(i))throw new Error("Invalid CAR header format");if(i.version!==1&&i.version!==2||t!==void 0&&i.version!==t)throw new Error(`Invalid CAR version: ${i.version}${t!==void 0?` (expected ${t})`:""}`);const a=Array.isArray(i.roots);if(i.version===1&&!a||i.version===2&&a)throw new Error("Invalid CAR header format");if(i.version===1)return i;const c=rZ(await e.exactly(tZ,!0));e.seek(c.dataOffset-e.pos);const u=await Wk(e,1);return Object.assign(u,c)}async function iZ(e){const t=await e.exactly(2,!1);if(t[0]===pm.SHA2_256&&t[1]===pm.LENGTH){const c=await e.exactly(34,!0),u=Hg(c);return Nr.create(0,pm.DAG_PB,u)}const r=ap(await e.upTo(8),e);if(r!==1)throw new Error(`Unexpected CID version (${r})`);const n=ap(await e.upTo(8),e),i=await e.exactly(nZ(await e.upTo(8)),!0),a=Hg(i);return Nr.create(r,n,a)}async function Vk(e){const t=e.pos;let r=ap(await e.upTo(8),e);if(r===0)throw new Error("Invalid CAR section (zero length)");r+=e.pos-t;const n=await iZ(e),i=r-Number(e.pos-t);return{cid:n,length:r,blockLength:i}}async function aZ(e){const{cid:t,blockLength:r}=await Vk(e);return{bytes:await e.exactly(r,!0),cid:t}}async function oZ(e){const t=e.pos,{cid:r,length:n,blockLength:i}=await Vk(e),a={cid:r,length:n,blockLength:i,offset:t,blockOffset:e.pos};return e.seek(a.blockLength),a}function sZ(e){const t=(async()=>{const r=await Wk(e);if(r.version===2){const n=e.pos-r.dataOffset;e=lZ(e,r.dataSize-n)}return r})();return{header:()=>t,async*blocks(){for(await t;(await e.upTo(8)).length>0;)yield await aZ(e)},async*blocksIndex(){for(await t;(await e.upTo(8)).length>0;)yield await oZ(e)}}}function cZ(e){let t=0;return{async upTo(r){return e.subarray(t,t+Math.min(r,e.length-t))},async exactly(r,n=!1){if(r>e.length-t)throw new Error("Unexpected end of data");const i=e.subarray(t,t+r);return n&&(t+=r),i},seek(r){t+=r},get pos(){return t}}}function fZ(e){let t=0,r=0,n=0,i=new Uint8Array(0);const a=async c=>{r=i.length-n;const u=[i.subarray(n)];for(;r<c;){const p=await e();if(p==null)break;r<0?p.length>r&&u.push(p.subarray(-r)):u.push(p),r+=p.length}i=new Uint8Array(u.reduce((p,m)=>p+m.length,0));let d=0;for(const p of u)i.set(p,d),d+=p.length;n=0};return{async upTo(c){return i.length-n<c&&await a(c),i.subarray(n,n+Math.min(i.length-n,c))},async exactly(c,u=!1){if(i.length-n<c&&await a(c),i.length-n<c)throw new Error("Unexpected end of data");const d=i.subarray(n,n+c);return u&&(t+=c,n+=c),d},seek(c){t+=c,n+=c},get pos(){return t}}}function uZ(e){const t=e[Symbol.asyncIterator]();async function r(){const n=await t.next();return n.done?null:n.value}return fZ(r)}function lZ(e,t){let r=0;return{async upTo(n){let i=await e.upTo(n);return i.length+r>t&&(i=i.subarray(0,t-r)),i},async exactly(n,i=!1){const a=await e.exactly(n,i);if(a.length+r>t)throw new Error("Unexpected end of data");return i&&(r+=n),a},seek(n){r+=n,e.seek(n)},get pos(){return e.pos}}}class Zk{constructor(t,r){this._header=t,this._blocks=r,this._keys=r.map(n=>n.cid.toString())}get version(){return this._header.version}async getRoots(){return this._header.roots}async has(t){return this._keys.indexOf(t.toString())>-1}async get(t){const r=this._keys.indexOf(t.toString());return r>-1?this._blocks[r]:void 0}async*blocks(){for(const t of this._blocks)yield t}async*cids(){for(const t of this._blocks)yield t.cid}static async fromBytes(t){if(!(t instanceof Uint8Array))throw new TypeError("fromBytes() requires a Uint8Array");return w_(cZ(t))}static async fromIterable(t){if(!t||typeof t[Symbol.asyncIterator]!="function")throw new TypeError("fromIterable() requires an async iterable");return w_(uZ(t))}}async function w_(e){const t=sZ(e),r=await t.header(),n=[];for await(const i of t.blocks())n.push(i);return new Zk(r,n)}const dZ=Mk(),hZ={float64:!1,quickEncodeToken:kk};function Gk(e,t=dZ,r=hZ){if(Array.isArray(e)){let n=0;for(const i of e)n+=Gk(i,t,r);return n}else{const n=t[e.type.major];if(n.encodedSize===void 0||typeof n.encodedSize!="function")throw new Error(`Encoder for ${e.type.name} does not have an encodedSize()`);return n.encodedSize(e,r)}}class pZ{constructor(t,r){this.bytes=t,this.byteOffset=r,this.roots=[],this.headerSize=r}addRoot(t,r){return yZ(this,t,r),this}write(t){return mZ(this,t),this}close(t){return gZ(this,t)}}const yZ=(e,t,r={})=>{const{resize:n=!1}=r,{bytes:i,headerSize:a,byteOffset:c,roots:u}=e;e.roots.push(t);const d=dw(e);if(d>a)if(d-a+c<i.byteLength)if(n)Jk(e,d);else throw u.pop(),new RangeError(`Header of size ${a} has no capacity for new root ${t}.
  However there is a space in the buffer and you could call addRoot(root, { resize: root }) to resize header to make a space for this root.`);else throw u.pop(),new RangeError(`Buffer has no capacity for a new root ${t}`)},vZ=({cid:e,bytes:t})=>{const r=e.bytes.byteLength+t.byteLength;return ki.encodingLength(r)+r},mZ=(e,{cid:t,bytes:r})=>{const n=t.bytes.byteLength+r.byteLength,i=ki.encode(n);if(e.byteOffset+i.length+n>e.bytes.byteLength)throw new RangeError("Buffer has no capacity for this block");ym(e,i),ym(e,t.bytes),ym(e,r)},gZ=(e,t={})=>{const{resize:r=!1}=t,{roots:n,bytes:i,byteOffset:a,headerSize:c}=e,u=Rk({version:1,roots:n}),d=ki.encode(u.length),p=d.length+u.byteLength;if(c-p===0)return __(e,d,u),i.subarray(0,a);if(r)return Jk(e,p),__(e,d,u),i.subarray(0,e.byteOffset);throw new RangeError(`Header size was overestimated.
You can use close({ resize: true }) to resize header`)},Jk=(e,t)=>{const{bytes:r,headerSize:n}=e;r.set(r.subarray(n,e.byteOffset),t),e.byteOffset+=t-n,e.headerSize=t},ym=(e,t)=>{e.bytes.set(t,e.byteOffset),e.byteOffset+=t.length},__=({bytes:e},t,r)=>{e.set(t),e.set(r,t.length)},bZ=[new Ke(ve.map,2),new Ke(ve.string,"version"),new Ke(ve.uint,1),new Ke(ve.string,"roots")],wZ=new Ke(ve.tag,42),_Z=e=>{const t=[...bZ];t.push(new Ke(ve.array,e.length));for(const n of e)t.push(wZ),t.push(new Ke(ve.bytes,{length:n+1}));const r=Gk(t);return ki.encodingLength(r)+r},dw=({roots:e})=>_Z(e.map(t=>t.bytes.byteLength)),xZ=(e,t={})=>{const{roots:r=[],byteOffset:n=0,byteLength:i=e.byteLength,headerSize:a=dw({roots:r})}=t,c=new Uint8Array(e,n,i),u=new pZ(c,a);for(const d of r)u.addRoot(d);return u},SZ="raw",EZ=85,kZ=e=>vd(e),MZ=e=>vd(e),AZ=Object.freeze(Object.defineProperty({__proto__:null,code:EZ,decode:MZ,encode:kZ,name:SZ},Symbol.toStringTag,{value:"Module"})),CZ=(e,t)=>t.some(r=>e instanceof r);let x_,S_;function BZ(){return x_||(x_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function IZ(){return S_||(S_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Yk=new WeakMap,Xg=new WeakMap,Xk=new WeakMap,vm=new WeakMap,hw=new WeakMap;function RZ(e){const t=new Promise((r,n)=>{const i=()=>{e.removeEventListener("success",a),e.removeEventListener("error",c)},a=()=>{r(jo(e.result)),i()},c=()=>{n(e.error),i()};e.addEventListener("success",a),e.addEventListener("error",c)});return t.then(r=>{r instanceof IDBCursor&&Yk.set(r,e)}).catch(()=>{}),hw.set(t,e),t}function TZ(e){if(Xg.has(e))return;const t=new Promise((r,n)=>{const i=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",c),e.removeEventListener("abort",c)},a=()=>{r(),i()},c=()=>{n(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",a),e.addEventListener("error",c),e.addEventListener("abort",c)});Xg.set(e,t)}let Qg={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return Xg.get(e);if(t==="objectStoreNames")return e.objectStoreNames||Xk.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return jo(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function NZ(e){Qg=e(Qg)}function PZ(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const n=e.call(mm(this),t,...r);return Xk.set(n,t.sort?t.sort():[t]),jo(n)}:IZ().includes(e)?function(...t){return e.apply(mm(this),t),jo(Yk.get(this))}:function(...t){return jo(e.apply(mm(this),t))}}function $Z(e){return typeof e=="function"?PZ(e):(e instanceof IDBTransaction&&TZ(e),CZ(e,BZ())?new Proxy(e,Qg):e)}function jo(e){if(e instanceof IDBRequest)return RZ(e);if(vm.has(e))return vm.get(e);const t=$Z(e);return t!==e&&(vm.set(e,t),hw.set(t,e)),t}const mm=e=>hw.get(e);function LZ(e,t,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const c=indexedDB.open(e,t),u=jo(c);return n&&c.addEventListener("upgradeneeded",d=>{n(jo(c.result),d.oldVersion,d.newVersion,jo(c.transaction),d)}),r&&c.addEventListener("blocked",d=>r(d.oldVersion,d.newVersion,d)),u.then(d=>{a&&d.addEventListener("close",()=>a()),i&&d.addEventListener("versionchange",p=>i(p.oldVersion,p.newVersion,p))}).catch(()=>{}),u}const OZ=["get","getKey","getAll","getAllKeys","count"],DZ=["put","add","delete","clear"],gm=new Map;function E_(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(gm.get(t))return gm.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,i=DZ.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||OZ.includes(r)))return;const a=async function(c,...u){const d=this.transaction(c,i?"readwrite":"readonly");let p=d.store;return n&&(p=p.index(u.shift())),(await Promise.all([p[r](...u),i&&d.done]))[0]};return gm.set(t,a),a}NZ(e=>({...e,get:(t,r,n)=>E_(t,r)||e.get(t,r,n),has:(t,r)=>!!E_(t,r)||e.has(t,r)}));var op={},UZ={get exports(){return op},set exports(e){op=e}},sp={},jZ={get exports(){return sp},set exports(e){sp=e}},cp={},FZ={get exports(){return cp},set exports(e){cp=e}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;function r(n){return function(...i){if(n===null)throw new Error("Callback was already called.");var a=n;n=null,a.apply(this,i)}}e.exports=t.default})(FZ,cp);var ao={};Object.defineProperty(ao,"__esModule",{value:!0});ao.fallback=Qk;ao.wrap=eM;var zZ=ao.hasQueueMicrotask=typeof queueMicrotask=="function"&&queueMicrotask,KZ=ao.hasSetImmediate=typeof setImmediate=="function"&&setImmediate,qZ=ao.hasNextTick=typeof at=="object"&&typeof at.nextTick=="function";function Qk(e){setTimeout(e,0)}function eM(e){return(t,...r)=>e(()=>t(...r))}var Xu;zZ?Xu=queueMicrotask:KZ?Xu=setImmediate:qZ?Xu=at.nextTick:Xu=Qk;ao.default=eM(Xu);var fp={},HZ={get exports(){return fp},set exports(e){fp=e}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});class r{constructor(){this.head=this.tail=null,this.length=0}removeLink(a){return a.prev?a.prev.next=a.next:this.head=a.next,a.next?a.next.prev=a.prev:this.tail=a.prev,a.prev=a.next=null,this.length-=1,a}empty(){for(;this.head;)this.shift();return this}insertAfter(a,c){c.prev=a,c.next=a.next,a.next?a.next.prev=c:this.tail=c,a.next=c,this.length+=1}insertBefore(a,c){c.prev=a.prev,c.next=a,a.prev?a.prev.next=c:this.head=c,a.prev=c,this.length+=1}unshift(a){this.head?this.insertBefore(this.head,a):n(this,a)}push(a){this.tail?this.insertAfter(this.tail,a):n(this,a)}shift(){return this.head&&this.removeLink(this.head)}pop(){return this.tail&&this.removeLink(this.tail)}toArray(){return[...this]}*[Symbol.iterator](){for(var a=this.head;a;)yield a.data,a=a.next}remove(a){for(var c=this.head;c;){var{next:u}=c;a(c)&&this.removeLink(c),c=u}return this}}t.default=r;function n(i,a){i.length=1,i.head=i.tail=a}e.exports=t.default})(HZ,fp);var Gi={},dl={},WZ={get exports(){return dl},set exports(e){dl=e}},up={},VZ={get exports(){return up},set exports(e){up=e}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(r){return function(...n){var i=n.pop();return r.call(this,n,i)}},e.exports=t.default})(VZ,up);var k_;function ZZ(){return k_||(k_=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;var r=up,n=u(r),i=ao,a=u(i),c=tM();function u(x){return x&&x.__esModule?x:{default:x}}function d(x){return(0,c.isAsync)(x)?function(...k){const S=k.pop(),P=x.apply(this,k);return p(P,S)}:(0,n.default)(function(k,S){var P;try{P=x.apply(this,k)}catch(j){return S(j)}if(P&&typeof P.then=="function")return p(P,S);S(null,P)})}function p(x,k){return x.then(S=>{m(k,null,S)},S=>{m(k,S&&S.message?S:new Error(S))})}function m(x,k,S){try{x(k,S)}catch(P){(0,a.default)(j=>{throw j},P)}}e.exports=t.default}(WZ,dl)),dl}var M_;function tM(){if(M_)return Gi;M_=1,Object.defineProperty(Gi,"__esModule",{value:!0}),Gi.isAsyncIterable=Gi.isAsyncGenerator=Gi.isAsync=void 0;var e=ZZ(),t=r(e);function r(u){return u&&u.__esModule?u:{default:u}}function n(u){return u[Symbol.toStringTag]==="AsyncFunction"}function i(u){return u[Symbol.toStringTag]==="AsyncGenerator"}function a(u){return typeof u[Symbol.asyncIterator]=="function"}function c(u){if(typeof u!="function")throw new Error("expected a function");return n(u)?(0,t.default)(u):u}return Gi.default=c,Gi.isAsync=n,Gi.isAsyncGenerator=i,Gi.isAsyncIterable=a,Gi}(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=x;var r=cp,n=m(r),i=ao,a=m(i),c=fp,u=m(c),d=tM(),p=m(d);function m(k){return k&&k.__esModule?k:{default:k}}function x(k,S,P){if(S==null)S=1;else if(S===0)throw new RangeError("Concurrency must not be zero");var j=(0,p.default)(k),U=0,O=[];const L={error:[],drain:[],saturated:[],unsaturated:[],empty:[]};function z(h,g){L[h].push(g)}function G(h,g){const M=(...N)=>{J(h,M),g(...N)};L[h].push(M)}function J(h,g){if(!h)return Object.keys(L).forEach(M=>L[M]=[]);if(!g)return L[h]=[];L[h]=L[h].filter(M=>M!==g)}function ne(h,...g){L[h].forEach(M=>M(...g))}var ie=!1;function re(h,g,M,N){if(N!=null&&typeof N!="function")throw new Error("task callback must be a function");w.started=!0;var T,B;function b(y,...I){if(y)return M?B(y):T();if(I.length<=1)return T(I[0]);T(I)}var A=w._createTaskItem(h,M?b:N||b);if(g?w._tasks.unshift(A):w._tasks.push(A),ie||(ie=!0,(0,a.default)(()=>{ie=!1,w.process()})),M||!N)return new Promise((y,I)=>{T=y,B=I})}function ce(h){return function(g,...M){U-=1;for(var N=0,T=h.length;N<T;N++){var B=h[N],b=O.indexOf(B);b===0?O.shift():b>0&&O.splice(b,1),B.callback(g,...M),g!=null&&ne("error",g,B.data)}U<=w.concurrency-w.buffer&&ne("unsaturated"),w.idle()&&ne("drain"),w.process()}}function Se(h){return h.length===0&&w.idle()?((0,a.default)(()=>ne("drain")),!0):!1}const W=h=>g=>{if(!g)return new Promise((M,N)=>{G(h,(T,B)=>{if(T)return N(T);M(B)})});J(h),z(h,g)};var _=!1,w={_tasks:new u.default,_createTaskItem(h,g){return{data:h,callback:g}},*[Symbol.iterator](){yield*w._tasks[Symbol.iterator]()},concurrency:S,payload:P,buffer:S/4,started:!1,paused:!1,push(h,g){return Array.isArray(h)?Se(h)?void 0:h.map(M=>re(M,!1,!1,g)):re(h,!1,!1,g)},pushAsync(h,g){return Array.isArray(h)?Se(h)?void 0:h.map(M=>re(M,!1,!0,g)):re(h,!1,!0,g)},kill(){J(),w._tasks.empty()},unshift(h,g){return Array.isArray(h)?Se(h)?void 0:h.map(M=>re(M,!0,!1,g)):re(h,!0,!1,g)},unshiftAsync(h,g){return Array.isArray(h)?Se(h)?void 0:h.map(M=>re(M,!0,!0,g)):re(h,!0,!0,g)},remove(h){w._tasks.remove(h)},process(){if(!_){for(_=!0;!w.paused&&U<w.concurrency&&w._tasks.length;){var h=[],g=[],M=w._tasks.length;w.payload&&(M=Math.min(M,w.payload));for(var N=0;N<M;N++){var T=w._tasks.shift();h.push(T),O.push(T),g.push(T.data)}U+=1,w._tasks.length===0&&ne("empty"),U===w.concurrency&&ne("saturated");var B=(0,n.default)(ce(h));j(g,B)}_=!1}},length(){return w._tasks.length},running(){return U},workersList(){return O},idle(){return w._tasks.length+U===0},pause(){w.paused=!0},resume(){w.paused!==!1&&(w.paused=!1,(0,a.default)(w.process))}};return Object.defineProperties(w,{saturated:{writable:!1,value:W("saturated")},unsaturated:{writable:!1,value:W("unsaturated")},empty:{writable:!1,value:W("empty")},drain:{writable:!1,value:W("drain")},error:{writable:!1,value:W("error")}}),w}e.exports=t.default})(jZ,sp);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var r=sp,n=i(r);function i(c){return c&&c.__esModule?c:{default:c}}function a(c,u,d){return(0,n.default)(c,u,d)}e.exports=t.default})(UZ,op);const GZ=lb(op);var rM={},ia={},Mi={};Object.defineProperty(Mi,"__esModule",{value:!0});Mi.getCrypto=Mi.getRootWebCrypto=Mi.getWebCrypto=Mi.getNodeCrypto=void 0;var pw=function(){if(!(typeof window<"u"&&window.crypto))return typeof window>"u"&&typeof crypto<"u"?void 0:J2()};Mi.getNodeCrypto=pw;var yw=function(){if(typeof window<"u"&&window.crypto)return window.crypto.subtle;if(typeof window>"u"&&typeof crypto<"u")return crypto.subtle};Mi.getWebCrypto=yw;var nM=function(){if(typeof window<"u"&&window.crypto)return window.crypto;if(typeof window>"u"&&typeof crypto<"u")return crypto};Mi.getRootWebCrypto=nM;var iM=function(){var e=yw(),t=pw();return typeof t<"u"?{name:"nodeCrypto",crypto:t}:typeof e<"u"?{name:"webCrypto",crypto:e}:{name:void 0}};Mi.getCrypto=iM;Mi.default={getNodeCrypto:pw,getWebCrypto:yw,getRootWebCrypto:nM,getCrypto:iM};var aM={},R1={};Object.defineProperty(R1,"__esModule",{value:!0});var JZ={"AES-GCM":{nodePrefix:"aes-",nodeSuffix:"-gcm",ivLength:12,tagLength:16,staticIvLength:!0},"AES-CBC":{nodePrefix:"aes-",nodeSuffix:"-cbc",ivLength:16,staticIvLength:!0},"AES-CTR":{nodePrefix:"aes-",nodeSuffix:"-ctr",ivLength:12,staticIvLength:!1}},YZ={"AES-KW":{nodePrefix:"id-aes",nodeSuffix:"-wrap",ivLength:8,staticIvLength:!0,defaultIv:new Uint8Array([166,166,166,166,166,166,166,166])}};R1.default={ciphers:JZ,wrapKeys:YZ};(function(e){var t=He&&He.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(e,"__esModule",{value:!0}),e.decrypt=e.encrypt=e.unwrapKey=e.wrapKey=void 0;var r=t(R1),n=function(d,p,m,x){var k=m.name,S=m.iv;return(0,e.encrypt)(d,p,{name:k,iv:S},x,!0)};e.wrapKey=n;var i=function(d,p,m,x){var k=m.name,S=m.iv;return(0,e.decrypt)(d,p,{name:k,iv:S},x,!0)};e.unwrapKey=i;var a=function(d,p,m,x,k){var S=m.name,P=m.iv,j=m.additionalData,U=m.tagLength;k===void 0&&(k=!1);var O=u(S,p.byteLength,k?r.default.wrapKeys:r.default.ciphers),L;switch(S){case"AES-GCM":{L=x.createCipheriv(O,p,P,{authTagLength:U}),L.setAAD(j);break}case"AES-CTR":{if(P.length===0||P.length>16)throw new Error("InvalidIVLength");var z=new Uint8Array(16);z.set(P),z[15]+=1,L=x.createCipheriv(O,p,z);break}default:{L=x.createCipheriv(O,p,P);break}}var G,J,ne;try{G=new Uint8Array(L.update(d)),J=new Uint8Array(L.final()),ne=new Uint8Array([]),S==="AES-GCM"&&(ne=new Uint8Array(L.getAuthTag()))}catch{throw new Error("NodeCrypto_EncryptionFailure")}var ie=new Uint8Array(G.length+J.length+ne.length);return ie.set(G),ie.set(J,G.length),ie.set(ne,G.length+J.length),ie};e.encrypt=a;var c=function(d,p,m,x,k){var S=m.name,P=m.iv,j=m.additionalData,U=m.tagLength;k===void 0&&(k=!1);var O=u(S,p.byteLength,k?r.default.wrapKeys:r.default.ciphers),L,z;switch(S){case"AES-GCM":{L=x.createDecipheriv(O,p,P,{authTagLength:U}),L.setAAD(j),z=d.slice(0,d.length-U);var G=d.slice(d.length-U);L.setAuthTag(G);break}case"AES-CTR":{if(P.length===0||P.length>16)throw new Error("InvalidIVLength");var J=new Uint8Array(16);J.set(P),J[15]+=1,L=x.createDecipheriv(O,p,J),z=d;break}default:{L=x.createDecipheriv(O,p,P),z=d;break}}var ne,ie;try{ne=L.update(z),ie=L.final()}catch{throw new Error("NodeCrypto_DecryptionFailure")}var re=new Uint8Array(ie.length+ne.length);return re.set(ne),re.set(ie,ne.length),re};e.decrypt=c;var u=function(d,p,m){var x=m[d].nodePrefix;return x="".concat(x).concat((p*8).toString()),x+m[d].nodeSuffix}})(aM);var aa={},T1=He&&He.__awaiter||function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function u(m){try{p(n.next(m))}catch(x){c(x)}}function d(m){try{p(n.throw(m))}catch(x){c(x)}}function p(m){m.done?a(m.value):i(m.value).then(u,d)}p((n=n.apply(e,t||[])).next())})},N1=He&&He.__generator||function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,c;return c={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function u(p){return function(m){return d([p,m])}}function d(p){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=p[0]&2?i.return:p[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,p[1])).done)return a;switch(i=0,a&&(p=[p[0]&2,a.value]),p[0]){case 0:case 1:a=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,i=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!a||p[1]>a[0]&&p[1]<a[3])){r.label=p[1];break}if(p[0]===6&&r.label<a[1]){r.label=a[1],a=p;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(p);break}a[2]&&r.ops.pop(),r.trys.pop();continue}p=t.call(e,r)}catch(m){p=[6,m],i=0}finally{n=a=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}};Object.defineProperty(aa,"__esModule",{value:!0});aa.decrypt=aa.encrypt=aa.unwrapKey=aa.wrapKey=void 0;var XZ=function(e,t,r,n){var i=r.name,a=r.iv;return T1(void 0,void 0,void 0,function(){var c,u,d,p;return N1(this,function(m){switch(m.label){case 0:return m.trys.push([0,4,,5]),[4,n.importKey("raw",t,{name:i},!1,["wrapKey","unwrapKey"])];case 1:return c=m.sent(),[4,n.importKey("raw",e,{name:i},!0,["wrapKey","unwrapKey"])];case 2:return u=m.sent(),[4,n.wrapKey("raw",u,c,{name:i,iv:a})];case 3:return d=m.sent(),[2,new Uint8Array(d)];case 4:throw p=m.sent(),p instanceof Error?new Error("WebCrypto_FailedToWrapKey - ".concat(p.message)):new Error("WebCrypto_FailedToWrapKey");case 5:return[2]}})})};aa.wrapKey=XZ;var QZ=function(e,t,r,n){var i=r.name,a=r.iv;return T1(void 0,void 0,void 0,function(){var c,u,d,p;return N1(this,function(m){switch(m.label){case 0:return m.trys.push([0,4,,5]),[4,n.importKey("raw",t,{name:i},!1,["wrapKey","unwrapKey"])];case 1:return c=m.sent(),[4,n.unwrapKey("raw",e,c,{name:i,iv:a},{name:"AES-GCM"},!0,["encrypt","decrypt"])];case 2:return u=m.sent(),d=Uint8Array.bind,[4,n.exportKey("raw",u)];case 3:return[2,new(d.apply(Uint8Array,[void 0,m.sent()]))];case 4:throw p=m.sent(),p instanceof Error?new Error("WebCrypto_FailedToUnwrapKey - ".concat(p.message)):new Error("WebCrypto_FailedToUnwrapKey");case 5:return[2]}})})};aa.unwrapKey=QZ;var eG=function(e,t,r,n){var i=r.name,a=i===void 0?"AES-GCM":i,c=r.iv,u=r.additionalData,d=r.tagLength;return T1(void 0,void 0,void 0,function(){var p,m,x,k;return N1(this,function(S){switch(S.label){case 0:p=oM({name:a,iv:c,additionalData:u,tagLength:d}),S.label=1;case 1:return S.trys.push([1,4,,5]),[4,n.importKey("raw",t,p,!1,["encrypt","decrypt"])];case 2:return m=S.sent(),[4,n.encrypt(p,m,e)];case 3:return x=S.sent(),[2,new Uint8Array(x)];case 4:throw k=S.sent(),k instanceof Error?new Error("WebCrypto_EncryptionFailure: ".concat(k.message)):new Error("WebCrypto_EncryptionFailure");case 5:return[2]}})})};aa.encrypt=eG;var tG=function(e,t,r,n){var i=r.name,a=r.iv,c=r.additionalData,u=r.tagLength;return T1(void 0,void 0,void 0,function(){var d,p,m,x;return N1(this,function(k){switch(k.label){case 0:d=oM({name:i,iv:a,additionalData:c,tagLength:u}),k.label=1;case 1:return k.trys.push([1,4,,5]),[4,n.importKey("raw",t,d,!1,["encrypt","decrypt"])];case 2:return p=k.sent(),[4,n.decrypt(d,p,e)];case 3:return m=k.sent(),[2,new Uint8Array(m)];case 4:throw x=k.sent(),x instanceof Error?new Error("WebCrypto_DecryptionFailure: ".concat(x.message)):new Error("WebCrypto_DecryptionFailure");case 5:return[2]}})})};aa.decrypt=tG;var oM=function(e){var t=e.name,r=e.iv,n=e.additionalData,i=e.tagLength,a={name:t,iv:r,additionalData:n,tagLength:i};switch(t){case"AES-GCM":{a.tagLength=i*8;break}case"AES-CBC":break;case"AES-CTR":{if(r.length===0||r.length>16)throw new Error("InvalidIVLength");a.counter=new Uint8Array(16),a.counter.set(r),a.counter[15]+=1,a.length=128;break}}return a},rG=He&&He.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),nG=He&&He.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),vw=He&&He.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&rG(t,e,r);return nG(t,e),t},P1=He&&He.__awaiter||function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function u(m){try{p(n.next(m))}catch(x){c(x)}}function d(m){try{p(n.throw(m))}catch(x){c(x)}}function p(m){m.done?a(m.value):i(m.value).then(u,d)}p((n=n.apply(e,t||[])).next())})},$1=He&&He.__generator||function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,c;return c={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function u(p){return function(m){return d([p,m])}}function d(p){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=p[0]&2?i.return:p[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,p[1])).done)return a;switch(i=0,a&&(p=[p[0]&2,a.value]),p[0]){case 0:case 1:a=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,i=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!a||p[1]>a[0]&&p[1]<a[3])){r.label=p[1];break}if(p[0]===6&&r.label<a[1]){r.label=a[1],a=p;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(p);break}a[2]&&r.ops.pop(),r.trys.pop();continue}p=t.call(e,r)}catch(m){p=[6,m],i=0}finally{n=a=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},iG=He&&He.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ia,"__esModule",{value:!0});ia.unwrapKey=ia.wrapKey=ia.decrypt=ia.encrypt=void 0;var L1=vw(Mi),O1=vw(aM),D1=vw(aa),oa=iG(R1),sM=function(e){var t=e.name,r=e.iv,n=e.tagLength;if(oa.default.ciphers[t].ivLength){if(!(r instanceof Uint8Array))throw new Error("InvalidArguments");if(r.byteLength<2||r.byteLength>16)throw new Error("InvalidIVLength");if(oa.default.ciphers[t].staticIvLength&&oa.default.ciphers[t].ivLength!==r.byteLength)throw new Error("InvalidIVLength")}if(oa.default.ciphers[t].tagLength&&n){if(!Number.isInteger(n))throw new Error("InvalidArguments");if(n<4||n>16)throw new Error("InvalidTagLength")}},aG=function(e,t,r){var n=r.name,i=n===void 0?"AES-GCM":n,a=r.iv,c=r.additionalData,u=c===void 0?new Uint8Array([]):c,d=r.tagLength;return P1(void 0,void 0,void 0,function(){var p;return $1(this,function(m){if(sM({name:i,iv:a,tagLength:d}),oa.default.ciphers[i].tagLength&&!d&&(d=oa.default.ciphers[i].tagLength),p=L1.getCrypto(),p.name==="webCrypto"){if(typeof p.crypto.importKey!="function"||typeof p.crypto.encrypt!="function")throw new Error("UnsupportedWebCrypto");return[2,D1.encrypt(e,t,{name:i,iv:a,additionalData:u,tagLength:d},p.crypto)]}else{if(p.name==="nodeCrypto")return[2,O1.encrypt(e,t,{name:i,iv:a,additionalData:u,tagLength:d},p.crypto)];throw new Error("UnsupportedEnvironment")}})})};ia.encrypt=aG;var oG=function(e,t,r){var n=r.name,i=n===void 0?"AES-GCM":n,a=r.iv,c=r.additionalData,u=c===void 0?new Uint8Array([]):c,d=r.tagLength;return P1(void 0,void 0,void 0,function(){var p;return $1(this,function(m){if(sM({name:i,iv:a,tagLength:d}),oa.default.ciphers[i].tagLength&&!d&&(d=oa.default.ciphers[i].tagLength),p=L1.getCrypto(),p.name==="webCrypto"){if(typeof p.crypto.importKey!="function"||typeof p.crypto.decrypt!="function")throw new Error("UnsupportedWebCrypto");return[2,D1.decrypt(e,t,{name:i,iv:a,additionalData:u,tagLength:d},p.crypto)]}else{if(p.name==="nodeCrypto")return[2,O1.decrypt(e,t,{name:i,iv:a,additionalData:u,tagLength:d},p.crypto)];throw new Error("UnsupportedEnvironment")}})})};ia.decrypt=oG;var sG=function(e,t,r){var n=r.name;return P1(void 0,void 0,void 0,function(){var i,a;return $1(this,function(c){if(e.length%8>0)throw new Error("WrappedKeyMustBeMultipleOf8");if(i=L1.getCrypto(),a=oa.default.wrapKeys["AES-KW"].defaultIv,i.name==="webCrypto"){if(typeof i.crypto.importKey!="function"||typeof i.crypto.wrapKey!="function")throw new Error("UnsupportedWebCrypto");return[2,D1.wrapKey(e,t,{name:n,iv:a},i.crypto)]}else{if(i.name==="nodeCrypto")return[2,O1.wrapKey(e,t,{name:n,iv:a},i.crypto)];throw new Error("UnsupportedEnvironment")}})})};ia.wrapKey=sG;var cG=function(e,t,r){var n=r.name;return P1(void 0,void 0,void 0,function(){var i,a;return $1(this,function(c){if(i=L1.getCrypto(),a=oa.default.wrapKeys["AES-KW"].defaultIv,i.name==="webCrypto"){if(typeof i.crypto.importKey!="function"||typeof i.crypto.unwrapKey!="function")throw new Error("UnsupportedWebCrypto");return[2,D1.unwrapKey(e,t,{name:n,iv:a},i.crypto)]}else{if(i.name==="nodeCrypto")return[2,O1.unwrapKey(e,t,{name:n,iv:a},i.crypto)];throw new Error("UnsupportedEnvironment")}})})};ia.unwrapKey=cG;(function(e){var t=He&&He.__createBinding||(Object.create?function(a,c,u,d){d===void 0&&(d=u),Object.defineProperty(a,d,{enumerable:!0,get:function(){return c[u]}})}:function(a,c,u,d){d===void 0&&(d=u),a[d]=c[u]}),r=He&&He.__setModuleDefault||(Object.create?function(a,c){Object.defineProperty(a,"default",{enumerable:!0,value:c})}:function(a,c){a.default=c}),n=He&&He.__importStar||function(a){if(a&&a.__esModule)return a;var c={};if(a!=null)for(var u in a)u!=="default"&&Object.prototype.hasOwnProperty.call(a,u)&&t(c,a,u);return r(c,a),c};Object.defineProperty(e,"__esModule",{value:!0}),e.unwrapKey=e.wrapKey=e.decrypt=e.encrypt=void 0;var i=n(ia);e.encrypt=i.encrypt,e.decrypt=i.decrypt,e.wrapKey=i.wrapKey,e.unwrapKey=i.unwrapKey,e.default={encrypt:e.encrypt,decrypt:e.decrypt,wrapKey:e.wrapKey,unwrapKey:e.unwrapKey}})(rM);const cM=lb(rM);var fG=fM,A_=128,uG=127,lG=~uG,dG=Math.pow(2,31);function fM(e,t,r){t=t||[],r=r||0;for(var n=r;e>=dG;)t[r++]=e&255|A_,e/=128;for(;e&lG;)t[r++]=e&255|A_,e>>>=7;return t[r]=e|0,fM.bytes=r-n+1,t}var hG=eb,pG=128,C_=127;function eb(e,n){var r=0,n=n||0,i=0,a=n,c,u=e.length;do{if(a>=u)throw eb.bytes=0,new RangeError("Could not decode varint");c=e[a++],r+=i<28?(c&C_)<<i:(c&C_)*Math.pow(2,i),i+=7}while(c>=pG);return eb.bytes=a-n,r}var yG=Math.pow(2,7),vG=Math.pow(2,14),mG=Math.pow(2,21),gG=Math.pow(2,28),bG=Math.pow(2,35),wG=Math.pow(2,42),_G=Math.pow(2,49),xG=Math.pow(2,56),SG=Math.pow(2,63),EG=function(e){return e<yG?1:e<vG?2:e<mG?3:e<gG?4:e<bG?5:e<wG?6:e<_G?7:e<xG?8:e<SG?9:10},kG={encode:fG,decode:hG,encodingLength:EG},lp=kG;const tb=e=>[lp.decode(e),lp.decode.bytes],dp=(e,t,r=0)=>(lp.encode(e,t,r),t),hp=e=>lp.encodingLength(e),MG=(e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0},mw=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},AG=(e,t)=>{const r=t.byteLength,n=hp(e),i=n+hp(r),a=new Uint8Array(i+r);return dp(e,a,0),dp(r,a,n),a.set(t,i),new gw(e,r,t,a)},CG=e=>{const t=mw(e),[r,n]=tb(t),[i,a]=tb(t.subarray(n)),c=t.subarray(n+a);if(c.byteLength!==i)throw new Error("Incorrect length");return new gw(r,i,c,t)},BG=(e,t)=>e===t?!0:e.code===t.code&&e.size===t.size&&MG(e.bytes,t.bytes);class gw{constructor(t,r,n,i){this.code=t,this.size=r,this.digest=n,this.bytes=i}}function IG(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var n=0;n<e.length;n++){var i=e.charAt(n),a=i.charCodeAt(0);if(t[a]!==255)throw new TypeError(i+" is ambiguous");t[a]=n}var c=e.length,u=e.charAt(0),d=Math.log(c)/Math.log(256),p=Math.log(256)/Math.log(c);function m(S){if(S instanceof Uint8Array||(ArrayBuffer.isView(S)?S=new Uint8Array(S.buffer,S.byteOffset,S.byteLength):Array.isArray(S)&&(S=Uint8Array.from(S))),!(S instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(S.length===0)return"";for(var P=0,j=0,U=0,O=S.length;U!==O&&S[U]===0;)U++,P++;for(var L=(O-U)*p+1>>>0,z=new Uint8Array(L);U!==O;){for(var G=S[U],J=0,ne=L-1;(G!==0||J<j)&&ne!==-1;ne--,J++)G+=256*z[ne]>>>0,z[ne]=G%c>>>0,G=G/c>>>0;if(G!==0)throw new Error("Non-zero carry");j=J,U++}for(var ie=L-j;ie!==L&&z[ie]===0;)ie++;for(var re=u.repeat(P);ie<L;++ie)re+=e.charAt(z[ie]);return re}function x(S){if(typeof S!="string")throw new TypeError("Expected String");if(S.length===0)return new Uint8Array;var P=0;if(S[P]!==" "){for(var j=0,U=0;S[P]===u;)j++,P++;for(var O=(S.length-P)*d+1>>>0,L=new Uint8Array(O);S[P];){var z=t[S.charCodeAt(P)];if(z===255)return;for(var G=0,J=O-1;(z!==0||G<U)&&J!==-1;J--,G++)z+=c*L[J]>>>0,L[J]=z%256>>>0,z=z/256>>>0;if(z!==0)throw new Error("Non-zero carry");U=G,P++}if(S[P]!==" "){for(var ne=O-U;ne!==O&&L[ne]===0;)ne++;for(var ie=new Uint8Array(j+(O-ne)),re=j;ne!==O;)ie[re++]=L[ne++];return ie}}}function k(S){var P=x(S);if(P)return P;throw new Error("Non-base"+c+" character")}return{encode:m,decodeUnsafe:x,decode:k}}var RG=IG,TG=RG;class NG{constructor(t,r,n){this.name=t,this.prefix=r,this.baseEncode=n}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class PG{constructor(t,r,n){this.name=t,this.prefix=r,this.baseDecode=n}decode(t){if(typeof t=="string")switch(t[0]){case this.prefix:return this.baseDecode(t.slice(1));default:throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`)}else throw Error("Can only multibase decode strings")}or(t){const r={[this.prefix]:this,...t.decoders||{[t.prefix]:t}};return new bw(r)}}class bw{constructor(t){this.decoders=t}or(t){const r=t.decoders||{[t.prefix]:t};return new bw({...this.decoders,...r})}decode(t){const r=t[0],n=this.decoders[r];if(n)return n.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}class $G{constructor(t,r,n,i){this.name=t,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new NG(t,r,n),this.decoder=new PG(t,r,i)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const LG=({name:e,prefix:t,encode:r,decode:n,alphabet:i})=>ww({name:e,prefix:t,encode:a=>r(a,i),decode:a=>{for(const c of a)if(i.indexOf(c)<0)throw new Error(`invalid ${e} character`);return n(a,i)}}),ww=({name:e,prefix:t,encode:r,decode:n})=>new $G(e,t,r,n),uM=e=>{const{encode:t,decode:r}=TG(e);return{encode:t,decode:n=>mw(r(n))}},Eo=ww({name:"base58btc",prefix:"z",...uM("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")});ww({name:"base58flickr",prefix:"Z",...uM("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ")});function OG(e,t){e=e.replace(new RegExp("=","g"),"");const r=e.length;let n=0,i=0,a=0;const c=new Uint8Array(r*5/8|0);for(let u=0;u<r;u++)i=i<<5|t.indexOf(e[u]),n+=5,n>=8&&(c[a++]=i>>>n-8&255,n-=8);return c}function DG(e,t){const r=e.byteLength,n=new Uint8Array(e),i=t.indexOf("=")===t.length-1;i&&(t=t.substring(0,t.length-1));let a=0,c=0,u="";for(let d=0;d<r;d++)for(c=c<<8|n[d],a+=8;a>=5;)u+=t[c>>>a-5&31],a-=5;if(a>0&&(u+=t[c<<5-a&31]),i)for(;u.length%8!==0;)u+="=";return u}const h0=LG({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",encode:DG,decode:OG});class rn{constructor(t,r,n,i){this.code=r,this.version=t,this.multihash=n,this.bytes=i,this.byteOffset=i.byteOffset,this.byteLength=i.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:Oh,byteLength:Oh,code:Lh,version:Lh,multihash:Lh,bytes:Lh,_baseCache:Oh,asCID:Oh})}toV0(){switch(this.version){case 0:return this;default:{const{code:t,multihash:r}=this;if(t!==qu)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(r.code!==zG)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return rn.createV0(r)}}}toV1(){switch(this.version){case 0:{const{code:t,digest:r}=this.multihash,n=AG(t,r);return rn.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(t){return t&&this.code===t.code&&this.version===t.version&&BG(this.multihash,t.multihash)}toString(t){const{bytes:r,version:n,_baseCache:i}=this;switch(n){case 0:return jG(r,i,t||Eo.encoder);default:return FG(r,i,t||h0.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(t){return qG(/^0\.0/,HG),!!(t&&(t[I_]||t.asCID===t))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(t){if(t instanceof rn)return t;if(t!=null&&t.asCID===t){const{version:r,code:n,multihash:i,bytes:a}=t;return new rn(r,n,i,a||B_(r,n,i.bytes))}else if(t!=null&&t[I_]===!0){const{version:r,multihash:n,code:i}=t,a=CG(n);return rn.create(r,i,a)}else return null}static create(t,r,n){if(typeof r!="number")throw new Error("String codecs are no longer supported");switch(t){case 0:{if(r!==qu)throw new Error(`Version 0 CID must use dag-pb (code: ${qu}) block encoding`);return new rn(t,r,n,n.bytes)}case 1:{const i=B_(t,r,n.bytes);return new rn(t,r,n,i)}default:throw new Error("Invalid version")}}static createV0(t){return rn.create(0,qu,t)}static createV1(t,r){return rn.create(1,t,r)}static decode(t){const[r,n]=rn.decodeFirst(t);if(n.length)throw new Error("Incorrect length");return r}static decodeFirst(t){const r=rn.inspectBytes(t),n=r.size-r.multihashSize,i=mw(t.subarray(n,n+r.multihashSize));if(i.byteLength!==r.multihashSize)throw new Error("Incorrect length");const a=i.subarray(r.multihashSize-r.digestSize),c=new gw(r.multihashCode,r.digestSize,a,i);return[r.version===0?rn.createV0(c):rn.createV1(r.codec,c),t.subarray(r.size)]}static inspectBytes(t){let r=0;const n=()=>{const[x,k]=tb(t.subarray(r));return r+=k,x};let i=n(),a=qu;if(i===18)i=0,r=0;else if(i===1)a=n();else if(i!==1)throw new RangeError(`Invalid CID version ${i}`);const c=r,u=n(),d=n(),p=r+d,m=p-c;return{version:i,codec:a,multihashCode:u,digestSize:d,multihashSize:m,size:p}}static parse(t,r){const[n,i]=UG(t,r),a=rn.decode(i);return a._baseCache.set(n,t),a}}const UG=(e,t)=>{switch(e[0]){case"Q":{const r=t||Eo;return[Eo.prefix,r.decode(`${Eo.prefix}${e}`)]}case Eo.prefix:{const r=t||Eo;return[Eo.prefix,r.decode(e)]}case h0.prefix:{const r=t||h0;return[h0.prefix,r.decode(e)]}default:{if(t==null)throw Error("To parse non base32 or base56btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}}},jG=(e,t,r)=>{const{prefix:n}=r;if(n!==Eo.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);const i=t.get(n);if(i==null){const a=r.encode(e).slice(1);return t.set(n,a),a}else return i},FG=(e,t,r)=>{const{prefix:n}=r,i=t.get(n);if(i==null){const a=r.encode(e);return t.set(n,a),a}else return i},qu=112,zG=18,B_=(e,t,r)=>{const n=hp(e),i=n+hp(t),a=new Uint8Array(i+r.byteLength);return dp(e,a,0),dp(t,a,n),a.set(r,i),a},I_=Symbol.for("@ipld/js-cid/CID"),Lh={writable:!1,configurable:!1,enumerable:!0},Oh={writable:!1,enumerable:!1,configurable:!1},KG="0.0.0-dev",qG=(e,t)=>{if(e.test(KG))console.warn(t);else throw new Error(t)},HG=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`,WG=e=>{e=+e;const t=new Uint8Array(4);return t[3]=e>>>24,t[2]=e>>>16,t[1]=e>>>8,t[0]=e&255,t},VG=e=>{const t=e.byteLength-4;return(e[t]|e[t+1]<<8|e[t+2]<<16)+e[t+3]*16777216},ZG=({iv:e,bytes:t})=>lM([e,t]),GG=e=>{const t=e.subarray(0,12);return e=e.slice(12),{iv:t,bytes:e}},JG=3145728+1337,lM=e=>Uint8Array.from(e.map(t=>[...t]).flat()),_w=async({key:e,value:t})=>{let{bytes:r,iv:n}=t;r=await cM.decrypt(r,e,{name:"AES-GCM",iv:n,tagLength:16});const i=VG(r.subarray(0,4)),a=rn.decode(r.subarray(4,4+i));return r=r.subarray(4+i),{cid:a,bytes:r}},xw=async({key:e,cid:t,bytes:r})=>{const n=WG(t.bytes.byteLength),i=uk.randomBytes(12),a=lM([n,t.bytes,r]);return r=await cM.encrypt(a,e,{name:"AES-GCM",iv:i,tagLength:16}),{value:{bytes:r,iv:i}}},YG=e=>({encrypt:t=>xw({key:e,...t}),decrypt:t=>_w({key:e,...t})}),XG="mikeal@encrypted-block:aes-gcm",U1=Object.freeze(Object.defineProperty({__proto__:null,code:JG,crypto:YG,decode:GG,decrypt:_w,encode:ZG,encrypt:xw,name:XG},Symbol.toStringTag,{value:"Module"})),rb=({bytes:e},{bytes:t})=>wV(e,t);class dM extends lw{constructor(t){super({address:t,key:t}),this.cid=t}encodeNode(){return this.cid}identity(){const t=this.cid.multihash.bytes;return fw(t)}}class hM extends lw{async identity(){const{multihash:{bytes:t}}=await this.address;return fw(t)}}class pM extends Lk{}class yM extends Ok{}const vM=(e,t,r,n,i)=>{const a=u=>{const{value:d}=u,p={chunker:r,cache:t,block:u,getNode:c,codec:n,hasher:i,compare:rb};let m,x;if(d.leaf)m=d.leaf.map(P=>new dM(P)),x=yM;else if(d.branch){const[P,j]=d.branch;p.distance=P,m=j.map(([U,O])=>new hM({key:U,address:O})),x=pM}else throw new Error("Unknown block data, does not match schema");const k=new ip({entries:m,closed:d.closed}),S=new x({entryList:k,...p});return t.set(S),S},c=u=>t.has(u)?t.get(u):e(u).then(d=>a(d));return c},QG=({get:e,cache:t,chunker:r,list:n,codec:i,hasher:a,sorted:c})=>{c||(n=n.sort(rb));const u=vM(e,t,r,i,a);return Dk({list:n,codec:i,hasher:a,chunker:r,getNode:u,sorted:c,compare:rb,cache:t,LeafClass:yM,LeafEntryClass:dM,BranchClass:pM,BranchEntryClass:hM})},eJ=({cid:e,get:t,cache:r,chunker:n,codec:i,hasher:a,...c})=>vM(t,r,n,i,a)(e),tJ=(e,t)=>vk({cid:t,bytes:e,hasher:Oi,codec:U1}),rJ=async function*({get:e,cids:t,hasher:r,key:n,cache:i,chunker:a,root:c}){const u=new Set;let d;for(const S of t){const P=Nr.parse(S),j=await e(P),U=await Fl({...await xw({...j,key:n}),codec:U1,hasher:r});yield U,u.add(U.cid.toString()),j.cid.equals(c)&&(d=U.cid)}if(!d)throw new Error("cids does not include root");const p=[...u].map(S=>Nr.parse(S));let m;for await(const S of QG({list:p,get:e,cache:i,chunker:a,hasher:r,codec:oi})){const P=await S.block;yield P,m=P}const x=[d,m.cid];yield await Fl({value:x,codec:oi,hasher:r})},nJ=async function*({root:e,get:t,key:r,cache:n,chunker:i,hasher:a}){const c={...await t(e),codec:oi,hasher:a},u=await X2(c),{value:[d,p]}=u,m=await t(d),x=await eJ({cid:p,get:t,cache:n,chunker:i,codec:U1,hasher:a}),{result:k}=await x.getAllEntries(),S=async j=>{const{bytes:U,cid:O}=await _w({...j,key:r}).catch(z=>{throw console.log("ekey",z),new Error("bad key: "+r.toString("hex"))});return await tJ(U,O)},P=[];for(const{cid:j}of k)m.cid.equals(j)||P.push(t(j).then(S));yield*P,yield S(m)};function iJ(e){let t=e.byteLength,r=0,n,i,a,c,u;const d=Uint32Array.from([n=1732584193,i=4023233417,~n,~i,3285377520]),p=new Uint32Array(80),m=t/4+2|15,x=new Uint32Array(m+1);let k;for(x[m]=t*8,x[t>>2]|=128<<(~t<<3);t--;)x[t>>2]|=e[t]<<(~t<<3);for(n=d.slice();r<m;r+=16,n.set(d)){for(t=0;t<80;n[0]=(u=((e=n[0])<<5|e>>>27)+n[4]+(p[t]=t<16?x[r+t]:u<<1|u>>>31)+1518500249,i=n[1],a=n[2],c=n[3],u+((k=t/5>>2)?k!==2?(i^a^c)+(k&2?1876969533:341275144):(i&a|i&c|a&c)+882459459:i&a|~i&c)),n[1]=e,n[2]=i<<30|i>>>2,n[3]=a,n[4]=c,++t)u=p[t-3]^p[t-8]^p[t-14]^p[t-16];for(t=5;t;)d[--t]=d[t]+n[t]}return new Uint8Array(d.buffer,d.byteOffset,d.byteLength)}const mM=k1(3),aJ=typeof at<"u"?{}.NO_ENCRYPT:import.meta&&{}.VITE_NO_ENCRYPT;var ef,Hl,Qi;class oJ{constructor(t="default",r){Mr(this,"idb",null);Mr(this,"name",null);jt(this,ef,null);jt(this,Hl,new Set);jt(this,Qi,null);Mr(this,"keyId","null");Mr(this,"uploadFunction",null);Mr(this,"withDB",async t=>(this.idb||(this.idb=await LZ(`fp.${this.keyId}.${this.name}.valet`,2,{upgrade(r,n,i,a){n<1&&(r.createObjectStore("cars"),r.createObjectStore("cidToCar",{keyPath:"car"}).createIndex("cids","cids",{multiEntry:!0})),n<2&&a.objectStore("cidToCar").createIndex("pending","pending")}})),await t(this.idb)));Mr(this,"remoteBlockFunction",null);this.name=t,this.setKeyMaterial(r),mn(this,ef,GZ(async(n,i)=>{if(console.log("queue worker",n.length,n.reduce((a,c)=>a+c.value.length,0)),this.uploadFunction)return await this.withDB(async a=>{for(const c of n){await this.uploadFunction(c.carCid,c.value);const u=await a.get("cidToCar",c.carCid);delete u.pending,await a.put("cidToCar",u)}});i()})),Fe(this,ef).drain(async()=>await this.withDB(async n=>{const i=(await n.getAllFromIndex("cidToCar","pending")).map(a=>a.car);for(const a of i){await this.uploadFunction(a,await n.get("cars",a));const c=await n.get("cidToCar",a);delete c.pending,await n.put("cidToCar",c)}}))}getKeyMaterial(){return Fe(this,Qi)}setKeyMaterial(t){if(t&&!aJ){const r=Uint8Array.from(ft.Buffer.from(t,"hex"));mn(this,Qi,t);const n=iJ(r);this.keyId=ft.Buffer.from(n).toString("hex")}else mn(this,Qi,null),this.keyId="null"}async writeTransaction(t,r){if(t.lastCid)if(Fe(this,Qi)){const n=await sJ(t.lastCid,t,Fe(this,Qi));await this.parkCar(n.cid.toString(),n.bytes,r)}else{const n=await gM(t.lastCid,t);await this.parkCar(n.cid.toString(),n.bytes,r)}}async parkCar(t,r,n){if(await this.withDB(async i=>{const a=i.transaction(["cars","cidToCar"],"readwrite");return await a.objectStore("cars").put(r,t),await a.objectStore("cidToCar").put({pending:"y",car:t,cids:Array.from(n)}),await a.done}),this.uploadFunction){if(Fe(this,Hl).has(t))return;Fe(this,ef).push({carCid:t,value:r}),Fe(this,Hl).add(t)}}async getBlock(t){return await this.withDB(async r=>{const n=r.transaction(["cars","cidToCar"],"readonly"),i=await n.objectStore("cidToCar").index("cids").get(t),a=i==null?void 0:i.car;if(!a)throw new Error("Missing block: "+t);const c=await n.objectStore("cars").get(a),u=await Zk.fromBytes(c);if(Fe(this,Qi)){const d=await u.getRoots(),p=async k=>{const S=await u.get(k);let P=U1;return k.toString().indexOf("bafy")===0&&(P=oi),await X2({...S,codec:P,hasher:Oi})},{blocks:m}=await cJ(d[0],p,Fe(this,Qi)),x=m.find(k=>k.cid.toString()===t);if(x)return x.bytes}else{const d=await u.get(Nr.parse(t));if(d)return d.bytes}})}}ef=new WeakMap,Hl=new WeakMap,Qi=new WeakMap;const gM=async(e,t)=>{let r=0;const n=dw({roots:[e]});r+=n,Array.isArray(t)||(t=Array.from(t.entries()));for(const{cid:c,bytes:u}of t)r+=vZ({cid:c,bytes:u});const i=new Uint8Array(r),a=await xZ(i,{headerSize:n});a.addRoot(e);for(const{cid:c,bytes:u}of t)a.write({cid:c,bytes:u});return await a.close(),await Fl({value:a.bytes,hasher:Oi,codec:AZ})},sJ=async(e,t,r)=>{const n=ft.Buffer.from(r,"hex"),i=[],a=[];for(const{cid:d}of t.entries())a.push(d.toString());let c;for await(const d of rJ({cids:a,get:async p=>t.get(p),key:n,hasher:Oi,chunker:mM,codec:oi,root:e}))i.push(d),c=d;return await gM(c.cid,i)},bm=new Map,cJ=async(e,t,r)=>{if(bm.has(e.toString()))return bm.get(e.toString());{const n=(async()=>{const i=ft.Buffer.from(r,"hex"),a=new Set,c=[];for await(const u of nJ({root:e,get:t,key:i,chunker:mM,hasher:Oi,cache:I1,codec:oi}))c.push(u),a.add(u.cid.toString());return{blocks:c,cids:a}})();return bm.set(e.toString(),n),n}},Dh=new Map,fJ=(e,t)=>(Dh.has(e)||Dh.set(e,t().finally(()=>setTimeout(()=>Dh.delete(e),100))),Dh.get(e));var Ao,ub,tf,yp,wM,vp;class bM{constructor(t,r){jt(this,yp);jt(this,Ao,new Map);Mr(this,"valet",null);jt(this,ub,"blkz."+Math.random().toString(36).substring(2,4));jt(this,tf,new Set);jt(this,vp,async t=>{const r=new Set;for(const{cid:n,bytes:i}of t.entries()){const a=n.toString();Fe(this,Ao).has(a)||(Fe(this,Ao).set(a,i),r.add(a))}r.size>0&&await this.valet.writeTransaction(t,r)});this.valet=new oJ(t,r)}async get(t){const r=t.toString(),n=await Promise.any([_r(this,yp,wM).call(this,r),this.committedGet(r)]).catch(i=>this.networkGet(r));if(!n)throw new Error("Missing block: "+r);return{cid:t,bytes:n}}async committedGet(t){const r=Fe(this,Ao).get(t);if(r)return r;const n=await this.valet.getBlock(t);return Fe(this,Ao).set(t,n),n}async clearCommittedCache(){Fe(this,Ao).clear()}async networkGet(t){if(this.valet.remoteBlockFunction){const r=await fJ(t,async()=>await this.valet.remoteBlockFunction(t));if(r)return j1("networkGot: "+t,this,async n=>{await n.put(Nr.parse(t),r)}),r}else return!1}put(t,r){throw new Error("use a transaction to put")}begin(t=""){const r=new uJ(t,this);return Fe(this,tf).add(r),r}async commit(t){await Fe(this,vp).call(this,t)}retire(t){Fe(this,tf).delete(t)}}Ao=new WeakMap,ub=new WeakMap,tf=new WeakMap,yp=new WeakSet,wM=async function(t){for(const r of Fe(this,tf)){const n=await r.get(t);if(n&&n.bytes)return n.bytes}throw new Error("Missing block: "+t)},vp=new WeakMap;const j1=async(e,t,r)=>{if(!t.commit)return await r(t);const n=t.begin(e);try{const i=await r(n);return await t.commit(n),i}catch(i){throw console.error(`Transaction ${e} failed`,i,i.stack),i}finally{t.retire(n)}};var rf;class uJ{constructor(t,r){jt(this,rf,new Map);Mr(this,"lastCid",null);Mr(this,"label","");Mr(this,"parentBlockstore",null);this.label=t,this.parentBlockstore=r}async get(t){const r=t.toString();let n=Fe(this,rf).get(r);if(n)return{cid:t,bytes:n};if(n=await this.parentBlockstore.committedGet(r),n)return{cid:t,bytes:n}}put(t,r){Fe(this,rf).set(t.toString(),r),this.lastCid=t}*entries(){for(const[t,r]of Fe(this,rf))yield{cid:OV(t),bytes:r}}}rf=new WeakMap;const _M={cache:I1,chunker:k1(3),codec:oi,hasher:Oi,compare:zf},lJ=async(e,t)=>await t(),Sw=e=>({getBlock:async r=>{const{cid:n,bytes:i}=await lJ(r,()=>e.get(r));return vk({cid:n,bytes:i,hasher:Oi,codec:oi})}});async function R_({inBlocks:e,bigPut:t,root:r,event:n,head:i,additions:a,removals:c=[]}){let u;const{key:d,value:p,del:m}=n,x={type:"put",root:{cid:r.cid,bytes:r.bytes,value:r.value},key:d};m?(x.value=null,x.type="del"):x.value=p;const k=await xV.create(x,i);return t(k),{head:i,cids:u}=await _V(e,i,k.cid),{root:r,additions:a,removals:c,head:i,clockCIDs:u,event:k}}const nb=e=>{const{getBlock:t,cids:r}=Sw(e),n=e.put.bind(e);return{getBlock:t,bigPut:async(a,c)=>{const{cid:u,bytes:d}=a;n(u,d),c&&c.set(u.toString(),a)},blocks:e,cids:r}},xM=e=>e.map(({value:t})=>{const{data:{type:r,value:n,key:i}}=t;return r==="put"?{key:i,value:n}:{key:i,del:!0}}),SM=async(e,t,r)=>{const n=await e.get(t),{root:i}=n.value.data;return Hk({cid:i.cid,get:r,..._M})};async function dJ(e,t,r,n){const{getBlock:i,bigPut:a,blocks:c}=nb(e);if(!t.length){const U=new Map;let O;for await(const L of qk({get:i,list:[r],..._M}))O=await L.block,a(O,U);return R_({inBlocks:e,bigPut:a,root:O,event:r,head:t,additions:Array.from(U.values())})}const u=new bd(c),{ancestor:d,sorted:p}=await uw(u,t),m=await SM(u,d,i),x=xM(p),{root:k,blocks:S}=await m.bulk([...x,r]),P=await k.block,j=new Map;a(P,j);for(const U of S)a(U,j);return R_({inBlocks:e,bigPut:a,root:P,event:r,head:t,additions:Array.from(j.values())})}async function F1(e,t){if(!t.length)throw new Error("no head");const{getBlock:r,blocks:n}=nb(e),i=new bd(n),{ancestor:a,sorted:c}=await uw(i,t),u=await SM(i,a,r),d=xM(c),{root:p,blocks:m}=await u.bulk(d);return await j1("root",e,async x=>{const{bigPut:k}=nb(x);for(const S of m)k(S)}),{cids:i.cids,node:p}}async function T_(e,t,r){if(!t.length)throw new Error("no head");const n=[...r,...t],{cids:i,events:a}=await MV(e,n);return{clockCIDs:i,result:a.map(({value:{data:c}})=>c)}}async function N_(e,t){if(!t.length)return{clockCIDs:new na,cids:new na,result:[]};const{node:r,cids:n}=await F1(e,t),{result:i,cids:a}=await r.getAllEntries();return{clockCIDs:n,cids:a,result:i.map(({key:c,value:u})=>({key:c,value:u}))}}async function hJ(e,t,r){if(!t.length)return{cids:new na,result:null};const{node:n,cids:i}=await F1(e,t),{result:a,cids:c}=await n.get(r);return{result:a,cids:c,clockCIDs:i}}async function*pJ(e,t){if(!t.length)return{cids:new na,result:null};const{node:r,cids:n}=await F1(e,t),i=[];for await(const a of r.vis())yield a,i.push(a);return{vis:i.join(`
`),cids:n}}async function yJ(e,t){if(!t.length)return{cids:new na,result:null};const{node:r,cids:n}=await F1(e,t),i=[];for await(const a of r.vis())i.push(a);return{vis:i.join(`
`),cids:n}}async function vJ(e,t){const r=[];for await(const n of kV(e,t))r.push(n);return{vis:r.join(`
`)}}var Wo={},Ew={};Ew.encode=function(e){if(isNaN(e))return"DaN";if(e===0)return"FE  0M0";if(e===1/0)return"FF";if(e===-1/0)return"DD";var t=e.toExponential().split("e"),r=Number(t[1])+500,n=t[0]+(t[0].indexOf(".")===-1?".":"")+"0".repeat(20),i="E"+mJ(String(r),3)+"M"+String(n);return e>0?"F"+i:"D"+EM(i)};Ew.decode=function(e){if(e==="DaN")return NaN;if(e==="FF")return 1/0;if(e==="DD")return-1/0;var t=e[0]==="D",r=(t?EM(e):e).slice(2).split("M");return Number((t?"-":"")+r[1]+"e"+String(Number(r[0])-500))};function EM(e){for(var t="",r=0;r<e.length;r++){var n=e[r];isNaN(Number(n))||n===" "?n!=="-"&&(t+=n):t+=String(9-Number(n))}return t}function mJ(e,t){return" ".repeat(t-e.length).substr(0,t)+e}var kM={},gJ={"?":"?@","!":"??",'"':"?%"};function bJ(e){return/[!"]/.test(e)?e.replace(/[\?!"]/g,function(t){return gJ[t]}):e}var wJ={"?@":"?","??":"!","?%":'"'};function _J(e){return/\?[%\?@]/.test(e)?e.replace(/\?[%\?@]/g,function(t){return wJ[t]}):e}kM.factory=function(e){return{encode:t,decode:n};function t(i){if(i===null)return"A";if(!Array.isArray(i))throw new Error("can only encode arrays");var a=i.length;if(a==0)return"K!";for(var c=r(i[0]),u=1;u<a;u++)c+='"'+r(i[u]);return"K"+c+"!"}function r(i){return typeof i=="object"?t(i):bJ(e.encode(i))}function n(i){if(i==="A")return null;if(i==="K!")return[];for(var a=i.split('"'),c=[[]],u,d=0,p=a.length,m=0;m<p;m++){for(var x=a[m],k=x.length,S=0;x[S]=="K";)S++;for(var P=0;x[k-P-1]=="!";)P++;for(var j=x.slice(S,k-P),O=d+S,U=d;U<O;U++)c[U+1]=[],c[U].push(c[U+1]),d=O,u=c[d];j.length!==0&&u.push(e.decode(_J(j)));for(var O=d-P,U=O;U<d;U++)c[U+1]=[],d=O,u=c[d]}return c[0][0]}};(function(e){var t=Ew,r=kM;e.flip=function(i){var a=i.toString(),c="";for(var u in a)c+=a[u]=="."?".":9-+a[u];return c},e.number=t,e.string={encode:function(i){return/\x00|\x01/.test(i)?"J"+i.replace(/\x01/g,"").replace(/\x00/g,""):"J"+i},decode:function(i){if(i[0]==="J")return i.substring(1)}},e.encode=function(i){return e[typeof i].encode(i)},e.decode=function(i){if(i==="")return i;if(!n[i[0]])throw new Error("no decoder for:"+JSON.stringify(i));return n[i[0]](i)},e.object=r.factory(e),e.boolean={encode:function(i){return i?"C":"B"},decode:function(i){return i==="C"}},e.undefined={encode:function(i){return"L"},decode:function(){}};var n={A:e.object.decode,B:e.boolean.decode,C:e.boolean.decode,D:e.number.decode,F:e.number.decode,J:e.string.decode,K:e.object.decode,L:e.undefined.decode};e.buffer=!1,e.type="charwise"})(Wo);var nf,af,p0,Wl,ib,Vl,ab;const Iw=class{constructor(t,r,n,i={}){jt(this,af);jt(this,Wl);jt(this,Vl);jt(this,nf,new Set);this.name=(n==null?void 0:n.name)||"global",this.instanceId=`fp.${this.name}.${Math.random().toString(36).substring(2,7)}`,this.blocks=t,this.clock=r,this.config=n,this.authCtx=i,this.indexes=new Map}toJSON(){return{clock:this.clockToJSON(),name:this.name,key:this.blocks.valet.getKeyMaterial(),indexes:[...this.indexes.values()].map(t=>t.toJSON())}}clockToJSON(){return this.clock.map(t=>t.toString())}hydrate({clock:t,name:r,key:n}){this.name=r,this.clock=t,this.blocks.valet.setKeyMaterial(n),this.indexBlocks=null}async notifyReset(){await _r(this,af,p0).call(this,{_reset:!0,_clock:this.clockToJSON()})}async notifyExternal(t="unknown"){await _r(this,af,p0).call(this,{_external:t,_clock:this.clockToJSON()})}async changesSince(t){let r,n,i;if(t){const a=await T_(this.blocks,this.clock,t),c=new Map;for(const{key:u,type:d,value:p}of a.result.map(wm))d==="del"?c.set(u,{key:u,del:!0}):c.set(u,{key:u,value:p});r=Array.from(c.values()),i=a.cids}else{const a=await N_(this.blocks,this.clock);r=a.result.map(({key:c,value:u})=>wm({key:c,value:u})),n=a.cids}return{rows:r,clock:this.clockToJSON(),proof:{data:await bs(n),clock:await bs(i)}}}async allDocuments(){const t=await N_(this.blocks,this.clock);return{rows:t.result.map(({key:n,value:i})=>wm({key:n,value:i})).map(({key:n,value:i})=>({key:n,value:{_id:n,...i}})),clock:this.clockToJSON(),proof:await bs(t.cids)}}registerListener(t){return Fe(this,nf).add(t),()=>{Fe(this,nf).delete(t)}}async put({_id:t,_proof:r,...n}){const i=t||"f"+Math.random().toString(36).slice(2);return await _r(this,Wl,ib).call(this,{_id:i,...n}),await _r(this,Vl,ab).call(this,{key:i,value:n},n._clock)}async del(t){let r,n=null;return t._id?(r=t._id,n=t._clock):r=t,await _r(this,Wl,ib).call(this,{_id:r,_deleted:!0}),await _r(this,Vl,ab).call(this,{key:r,value:null},n)}async get(t,r={}){const n=r.clock||this.clock,i=await hJ(this.blocks,n,Wo.encode(t));if(!i||i.result===null)throw new Error("Not found");const a=i.result;return r.mvcc===!0&&(a._clock=this.clockToJSON()),a._proof={data:await bs(i.cids),clock:this.clockToJSON()},a._id=t,a}async*vis(){return yield*pJ(this.blocks,this.clock)}async visTree(){return await yJ(this.blocks,this.clock)}async visClock(){return await vJ(this.blocks,this.clock)}setCarUploader(t){this.blocks.valet.uploadFunction=t}setRemoteBlockReader(t){this.blocks.valet.remoteBlockFunction=t}};let hl=Iw;nf=new WeakMap,af=new WeakSet,p0=async function(t){for(const r of Fe(this,nf))await r(t)},Wl=new WeakSet,ib=async function(t){if(this.config&&this.config.validateChange){const r=await this.get(t._id).then(n=>n).catch(()=>({}));this.config.validateChange(t,r,this.authCtx)}},Vl=new WeakSet,ab=async function(t,r=null){const n=xJ(t);if(r&&JSON.stringify(r)!==JSON.stringify(this.clockToJSON())&&(await T_(this.blocks,this.clock,n.value._clock)).result.find(({key:u})=>u===n.key))throw new Error("MVCC conflict, document is changed, please reload the document and try again.");const i=await j1("#putToProllyTree",this.blocks,async a=>await dJ(a,this.clock,n));if(!i)throw console.error("failed",n),new Error("failed to put at storage layer");return this.clock=i.head,await _r(this,af,p0).call(this,[t]),{id:t.key,clock:this.clockToJSON(),proof:{data:await bs(i.cids),clock:await bs(i.clockCIDs)}}},Mr(hl,"storage",(t="global")=>{const r=uk.randomBytes(32).toString("hex");return new Iw(new bM(t,r),[],{name:t})});async function bs(e){return!e||!e.all?[]:[...await e.all()].map(r=>r.toString())}function wm(e){const t=Wo.decode(e.key);return{...e,key:t}}function xJ(e){if(!(e&&e.key))return;const t=Wo.encode(e.key);return{...e,key:t}}const SJ=(e,t)=>{const[r,n]=e,[i,a]=t,c=zf(r,i);return c!==0?c:EJ(n,a)},EJ=(e,t)=>{if(Number.isNaN(e))return-1;if(Number.isNaN(t))throw new Error("ref may not be Infinity or NaN");return Number.isFinite(e)?zf(e,t):1},MM=async(e,t)=>{const r=[t,NaN],n=[t,1/0],{result:i,cids:a}=await e.getRangeEntries(r,n);return{result:i.map(c=>{const[u,d]=c.key;return{id:d,key:u,row:c.value}}),cids:a}},AM=async(e,t,r)=>{t=[t,NaN],r=[r,1/0];const{result:n,cids:i}=await e.getRangeEntries(t,r);return{result:n.map(c=>{const[u,d]=c.key;return{id:d,key:u,row:c.value}}),cids:i}};class kJ extends C1{get(t){return MM(this,t)}range(t,r){return AM(this,t,r)}bulk(t,r={},n=!0){return super.bulk(t,{...kw,...r},n)}}class MJ extends B1{get(t){return MM(this,t)}range(t,r){return AM(this,t,r)}bulk(t,r={},n=!0){return super.bulk(t,{...kw,...r},n)}}const AJ=kJ,CJ=MJ,kw={LeafClass:AJ,BranchClass:CJ,LeafEntryClass:M1,BranchEntryClass:A1},CM={...kw,compare:SJ},BJ=e=>(e={...CM,...e},qk(e)),BM=e=>(e={...CM,...e},Hk(e)),IJ=(e,t)=>{const[r,n]=e,[i,a]=t,c=zf(r,i);return c!==0?c:RJ(n,a)},RJ=(e,t)=>{if(Number.isNaN(e))return-1;if(Number.isNaN(t))throw new Error("ref may not be Infinity or NaN");return e===1/0?1:zf(e,t)},pp={cache:I1,chunker:k1(3),codec:oi,hasher:Oi,compare:IJ},P_={cache:I1,chunker:k1(3),codec:oi,hasher:Oi,compare:zf},TJ=({key:e,value:t})=>({_id:e,...t}),NJ=(e,t)=>{const r=[];return e.forEach(({key:n,value:i,del:a})=>{a||!i||t(TJ({key:n,value:i}),(c,u)=>{typeof u>"u"||typeof c>"u"||r.push({key:[Wo.encode(c),n],value:u})})}),r};var mp,IM,gp,RM;const bp=class{constructor(t,r,n,i={}){jt(this,mp);jt(this,gp);this.database=t,t.indexBlocks||(t.indexBlocks=new bM(t.name+".indexes",t.blocks.valet.getKeyMaterial())),typeof r=="string"?this.mapFnString=r:(this.mapFn=r,this.mapFnString=r.toString()),this.indexById={root:null,cid:null},this.indexByKey={root:null,cid:null},this.dbHead=null,n&&(this.indexById.cid=n.byId,this.indexByKey.cid=n.byKey,this.dbHead=n.db),this.instanceId=this.database.instanceId+`.DbIndex.${Math.random().toString(36).substring(2,7)}`,this.updateIndexPromise=null,i.temporary||bp.registerWithDatabase(this,this.database)}static registerWithDatabase(t,r){if(r.indexes.has(t.mapFnString)){const n=r.indexes.get(t.mapFnString);n.mapFn?(n.dbHead=t.dbHead,n.indexById.cid=t.indexById.cid,n.indexByKey.cid=t.indexByKey.cid):(t.dbHead=n.dbHead,t.indexById.cid=n.indexById.cid,t.indexByKey.cid=n.indexByKey.cid,r.indexes.set(t.mapFnString,t))}else r.indexes.set(t.mapFnString,t)}toJSON(){var r,n,i;const t={code:this.mapFnString,clock:{db:null,byId:null,byKey:null}};return t.clock.db=(r=this.dbHead)==null?void 0:r.map(a=>a.toString()),t.clock.byId=(n=this.indexById.cid)==null?void 0:n.toString(),t.clock.byKey=(i=this.indexByKey.cid)==null?void 0:i.toString(),t}static fromJSON(t,{code:r,clock:n}){return new bp(t,r,n)}async query(t,r=!0){r&&await _r(this,mp,IM).call(this,this.database.indexBlocks);const n=await PJ(this.database.indexBlocks,this.indexByKey,t);return{proof:{index:await bs(n.cids)},rows:n.result.map(({id:i,key:a,row:c})=>({id:i,key:Wo.decode(a),value:c}))}}};let ql=bp;mp=new WeakSet,IM=async function(t){return this.updateIndexPromise?this.updateIndexPromise:(this.updateIndexPromise=_r(this,gp,RM).call(this,t),this.updateIndexPromise.finally(()=>{this.updateIndexPromise=null}),this.updateIndexPromise)},gp=new WeakSet,RM=async function(t){const r=await this.database.changesSince(this.dbHead);if(r.rows.length===0){this.dbHead=r.clock;return}await j1("#updateIndex",t,async n=>{let i=[],a=[];if(await ob(n,this.indexById,P_),await ob(n,this.indexByKey,pp),this.dbHead&&(i=(await this.indexById.root.getMany(r.rows.map(({key:p})=>p))).result.map(p=>({key:p,del:!0})),a=i.map(({key:p})=>({key:p[1],del:!0}))),!this.mapFn)throw new Error("No live map function installed for index, cannot update. Make sure your index definition runs before any queries."+(this.mapFnString?` Your code should match the stored map function source:
`+this.mapFnString:""));const c=NJ(r.rows,this.mapFn),u=c.map(({key:d})=>({key:d[1],value:d}));this.indexById=await $_(n,this.indexById,a.concat(u),P_),this.indexByKey=await $_(n,this.indexByKey,i.concat(c),pp),this.dbHead=r.clock}),this.database.notifyExternal("dbIndex")};async function $_(e,t,r,n){if(!r.length)return t;const i=e.put.bind(e),{getBlock:a}=Sw(e);let c,u;if(!t.root){const m=t.cid;if(!m){for await(const x of await BJ({get:a,list:r,...n})){const k=await x.block;await i(k.cid,k.bytes),c=k,u=x}return{root:u,cid:c.cid}}t.root=await BM({cid:m,get:a,...pp})}const{root:d,blocks:p}=await t.root.bulk(r);c=await d.block,u=d;for await(const m of p)await i(m.cid,m.bytes);return await i(c.cid,c.bytes),{root:u,cid:c.cid}}async function ob(e,t,r){if(!t.root){const n=t.cid;if(!n)return;const{getBlock:i}=Sw(e);t.root=await BM({cid:n,get:i,...r})}return t.root}async function PJ(e,t,r={}){if(await ob(e,t,pp),r.range){const n=r.range.map(i=>Wo.encode(i));return t.root.range(...n)}else if(r.key){const n=Wo.encode(r.key);return t.root.get(n)}else if(t.root){const{result:n,...i}=await t.root.getAllEntries();return{result:n.map(({key:[a,c],value:u})=>({key:a,id:c,row:u})),...i}}else return{result:[]}}var of,wp,_p,TM;class $J{constructor(t,r){jt(this,_p);jt(this,of,new Map);jt(this,wp,null);this.database=t,mn(this,wp,t.registerListener(n=>_r(this,_p,TM).call(this,n))),this.routingFn=r||function(n,i){i("*")},this.dbHead=null}on(t,r,n){const i=sb(Fe(this,of),t);return i.push(r),typeof n<"u"&&this.database.changesSince(n).then(({rows:a})=>{const c=L_(a,this.routingFn).get(t);c&&c.forEach(u=>r(u))}),()=>{const a=i.indexOf(r);a>-1&&i.splice(a,1)}}}of=new WeakMap,wp=new WeakMap,_p=new WeakSet,TM=function(t){if(Array.isArray(t)){const r=L_(t,this.routingFn);for(const[n,i]of r)sb(Fe(this,of),n).forEach(c=>i.forEach(u=>c(u)))}else for(const[,r]of Fe(this,of))r.forEach(n=>n(t))};function sb(e,t){let r=e.get(t);return r||(r=[],e.set(t,r)),r}const LJ=({key:e,value:t})=>({_id:e,...t}),L_=(e,t)=>{const r=new Map;return e.forEach(({key:n,value:i,del:a})=>{(a||!i)&&(i={_deleted:!0}),t(LJ({key:n,value:i}),c=>{sb(r,c).push(n)})}),r},bc=e=>typeof e=="string"?Nr.parse(e):e;class cb{static fromJSON(t,r){if(r.hydrate({clock:t.clock.map(n=>bc(n)),name:t.name,key:t.key}),t.indexes)for(const{code:n,clock:{byId:i,byKey:a,db:c}}of t.indexes)ql.fromJSON(r,{clock:{byId:i?bc(i):null,byKey:a?bc(a):null,db:c?c.map(u=>bc(u)):null},code:n});return r}static snapshot(t,r){const n=t.toJSON(),i=new hl(t.blocks);r&&(n.clock=r.map(c=>bc(c)),n.indexes.forEach(c=>{c.clock.byId=null,c.clock.byKey=null,c.clock.db=null}));const a=this.fromJSON(n,i);return[...t.indexes.values()].forEach(c=>{a.indexes.get(c.mapFnString).mapFn=c.mapFn}),a}static async zoom(t,r){return[...t.indexes.values()].forEach(n=>{n.indexById={root:null,cid:null},n.indexByKey={root:null,cid:null},n.dbHead=null}),t.clock=r.map(n=>bc(n)),await t.notifyReset(),t}}const Mw=$e.createContext({addSubscriber:()=>{},database:null,ready:!1}),O_=new Map;let D_=!1,nn,NM;const OJ=e=>{nn||(nn=hl.storage(e),NM=new $J(nn))};function DJ(e=n=>{},t=async n=>{},r){const[n,i]=$e.useState(!1);OJ(r||"useFireproof");const a="fp."+nn.name,c=(d,p)=>{O_.set(d,p)},u=async d=>{if(Uh(a,JSON.stringify(nn)),!d._external)for(const[,p]of O_)p()};return $e.useEffect(()=>{(async()=>{if(n||D_)return;D_=!0,e(nn),console.log("Initializing database",nn.name);const p=UJ(a);if(p)try{const m=JSON.parse(p);if(console.log(`Loading previous database clock. (localStorage.removeItem('${a}') to reset)`),await cb.fromJSON(m,nn),(await nn.changesSince()).rows.length<2)throw new Error("Resetting database")}catch(m){console.error(`Error loading previous database clock. ${p} Resetting.`,m),await cb.zoom(nn,[]),await t(nn),Uh(a,JSON.stringify(nn))}else await t(nn),Uh(a,JSON.stringify(nn));i(!0),NM.on("*",u)})()},[n]),{addSubscriber:c,database:nn,ready:n,persist:()=>{Uh(a,JSON.stringify(nn))}}}let Aw=!1;try{Aw=window.localStorage&&!0}catch{}function UJ(e){if(Aw)return localStorage&&localStorage.getItem(e)}function Uh(e,t){if(Aw)return localStorage&&localStorage.setItem(e,t)}function Cw({ready:e,database:t}){return{fetchAllLists:async()=>(e&&t.allLists?await t.allLists.query({range:["list","listx"]}):{rows:[]}).rows.map(({value:x})=>x),fetchListWithTodos:async m=>{if(!e||!t.todosByList)return Promise.resolve({list:{title:"",type:"list",_id:""},todos:[]});const x=await t.get(m),k=await t.todosByList.query({range:[[m,"0"],[m,"9"]]});return{list:x,todos:k.rows.map(S=>S.value)}},addList:async m=>e&&await t.put({title:m,type:"list"}),addTodo:async(m,x)=>e&&await t.put({completed:!1,title:x,listId:m,type:"todo",createdAt:new Date().toISOString()}),toggle:async({completed:m,...x})=>e&&await t.put({completed:!m,...x}),destroy:async({_id:m})=>e&&await t.del(m),updateTitle:async(m,x)=>(m.title=x,e&&await t.put(m)),clearCompleted:async m=>{const S=(e&&await t.todosByList.query({range:[[m,"1"],[m,"x"]]})).rows.map(P=>P.value).filter(P=>P.completed);for(const P of S)await t.del(P._id)}}}function jJ(e){return function(){let t=e+=1831565813;return t=Math.imul(t^t>>>15,t|1),t^=t+Math.imul(t^t>>>7,t|61),((t^t>>>14)>>>0)/4294967296}}const U_=jJ(1);async function FJ(e){const t=(a="")=>a+U_().toString(32).slice(2),r=["Building Apps","Having Fun","Getting Groceries"],n=[["In the browser","On the phone","With or without Redux","Login components","GraphQL queries","Automatic replication and versioning"],["Rollerskating meetup","Motorcycle ride","Write a sci-fi story with ChatGPT"],["Macadamia nut milk","Avocado toast","Coffee","Bacon","Sourdough bread","Fruit salad"]];let i;for(let a=0;a<3;a++){i=await e.put({title:r[a],type:"list",_id:t(""+a)});for(let c=0;c<n[a].length;c++)await e.put({_id:t(),title:n[a][c],listId:i.id,completed:U_()>.75,type:"todo",createdAt:"2"+c})}await e.allLists.query({range:[0,1]})}const zJ=""+new URL("logo-3a8a057c.svg",import.meta.url).href;const KJ=e=>Le("header",{className:"app-header",children:Le("div",{className:"app-title-wrapper",children:Le("div",{className:"app-title-wrapper",children:zr("div",{className:"app-left-nav",children:[Le(fl,{to:"/",children:Le("img",{src:zJ,className:"app-logo",alt:"Fireproof Storage"})}),Le("div",{className:"app-title-text",children:Le("h1",{className:"app-title",children:"TodoMVC"})})]})})})});let fb=!1;try{fb=window.localStorage&&!0}catch{}const j_="#*#*#*#*#*STRINGARRAYSERIALIZER#*#*#*#*#*",qJ={stateObserver:WJ,localStorageName:void 0,controlled:!1};function HJ(e,t){const{stateObserver:r,localStorageName:n,controlled:i}=t||qJ;let a=e;if(fb&&typeof n=="string"){let m=localStorage.getItem(n);m&&(typeof e=="number"?a=Number(m):Array.isArray(m)?a=m.split(j_):a=m,r&&r(a))}let[c,u]=$e.useState(a);const d=m=>{if(m.target.type==="checkbox")throw new Error("useInput error - type=checkbox specified, this is likely a mistake by the developer. you may want useCheckInput instead");let x=typeof e=="number"?Number(m.target.value):m.target.value;u(x),fb&&typeof n=="string"&&(x!==e?localStorage.setItem(n,String(Array.isArray(x)?x.join(j_):x)):localStorage.removeItem(n)),r&&r(x)},p=()=>u(e);return i?{onChange:d,value:c,setValue:u,resetValue:p}:{onChange:d,value:c}}function WJ(){}function Bw({onSubmit:e,placeholder:t,autoFocus:r=!0}){const{setValue:n,resetValue:i,...a}=HJ("",{controlled:!0});return r&&(a.autoFocus=!0),Le("input",{className:"new-todo",placeholder:t,onKeyDown:u=>{if(u.keyCode!==13)return;u.preventDefault();const d=u.target.value.trim();d&&(e(d),n(""))},...a})}var Qc={},VJ={get exports(){return Qc},set exports(e){Qc=e}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function r(){for(var n=[],i=0;i<arguments.length;i++){var a=arguments[i];if(a){var c=typeof a;if(c==="string"||c==="number")n.push(a);else if(Array.isArray(a)){if(a.length){var u=r.apply(null,a);u&&n.push(u)}}else if(c==="object"){if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]")){n.push(a.toString());continue}for(var d in a)t.call(a,d)&&a[d]&&n.push(d)}}}return n.join(" ")}e.exports?(r.default=r,e.exports=r):window.classNames=r})()})(VJ);function ZJ({count:e,completedCount:t,onClearCompleted:r,nowShowing:n}){const i=e>1?"items":"item";let a=null;return t>0&&(a=Le("button",{className:"clear-completed",onClick:r,children:"Clear completed"})),zr("footer",{className:"footer",children:[zr("span",{className:"todo-count",children:[Le("strong",{children:e})," ",i," left"]}),zr("ul",{className:"filters",children:[Le("li",{children:Le(fl,{to:"",className:Qc({selected:n==="all"}),children:"All"})})," ",Le("li",{children:Le(fl,{to:`${n==="active"?"../":""}active`,className:Qc({selected:n==="active"}),children:"Active"})})," ",Le("li",{children:Le(fl,{to:`${n==="completed"?"../":""}completed`,className:Qc({selected:n==="completed"}),children:"Completed"})})]}),a]})}const GJ=27,JJ=13;class YJ extends $e.Component{constructor(){super(...arguments);Mr(this,"state",{editText:this.props.todo.title});Mr(this,"EditFieldRef",$e.createRef());Mr(this,"handleSubmit",r=>{const n=this.state.editText.trim();n?(this.props.onSave(n),this.setState({editText:n})):this.props.onDestroy()});Mr(this,"handleEdit",()=>{this.props.onEdit(),this.setState({editText:this.props.todo.title})});Mr(this,"handleKeyDown",r=>{r.which===GJ?(this.setState({editText:this.props.todo.title}),this.props.onCancel(r)):r.which===JJ&&this.handleSubmit(r)});Mr(this,"handleChange",r=>{this.props.editing&&this.setState({editText:r.target.value})})}shouldComponentUpdate(r,n){return r.todo!==this.props.todo||r.editing!==this.props.editing||n.editText!==this.state.editText}componentDidUpdate(r){if(!r.editing&&this.props.editing){const n=this.EditFieldRef.current;n.focus(),n.setSelectionRange(n.value.length,n.value.length)}}render(){return zr("li",{className:Qc({completed:this.props.todo.completed,editing:this.props.editing}),children:[zr("div",{className:"view",children:[Le("input",{className:"toggle",type:"checkbox",checked:this.props.todo.completed,onChange:this.props.onToggle}),Le("label",{onDoubleClick:this.handleEdit,children:this.props.todo.title}),Le("button",{className:"destroy",onClick:this.props.onDestroy})]}),Le("input",{ref:this.EditFieldRef,className:"edit",value:this.state.editText,onBlur:this.handleSubmit,onChange:this.handleChange,onKeyDown:this.handleKeyDown})]})}}const XJ=e=>`${String(e).slice(0,4)}..${String(e).slice(-4)}`,F_=new Set,PM=({database:e})=>{e.clock&&e.clock.length&&F_.add(e.clock.toString());const t=Array.from(F_).reverse();return zr("div",{className:"timeTravel",children:[Le("h2",{children:"Time Travel"}),zr("p",{children:["Click a ",Le("b",{children:"Fireproof clock value"})," below to rollback in time."]}),Le("p",{children:"Clock log (newest first): "}),Le("ul",{children:t.map(r=>Le("li",{children:Le("button",{onClick:async()=>{await cb.zoom(e,[r])},children:XJ(r)})},r))})]})};function z_(){const{ready:e,database:t,addSubscriber:r}=$e.useContext(Mw),{addTodo:n,toggle:i,destroy:a,clearCompleted:c,updateTitle:u}=Cw({ready:e,database:t});let{list:d,todos:p}=y7();const[m,x]=$e.useState(""),k=p7();r("List",async()=>{k.revalidate()});const[{agent:S,space:P},{getProofs:j,loadAgent:U}]=pf.useKeyring();Boolean(P==null?void 0:P.registered());const O=l7(),{filter:L}=c$(),z=L||"all",G={all:p,active:p.filter(ce=>!ce.completed),completed:p.filter(ce=>ce.completed)},J=G[z],ne=ce=>()=>x(ce._id),ie=async()=>await c(d._id),re=async ce=>await n(d._id,ce);return zr("div",{children:[zr("div",{className:"listNav",children:[Le("button",{onClick:()=>O("/"),children:"Back to all lists"}),Le("label",{children:d.title})]}),Le("ul",{className:"todo-list",children:J.map(ce=>{const Se=W=>_=>W(ce,_);return Le(YJ,{todo:ce,onToggle:Se(i),onDestroy:Se(a),onSave:Se(u),onEdit:ne(ce),editing:m===ce._id,onCancel:console.log},ce._id)})}),Le(Bw,{onSubmit:re,placeholder:"Add a new item to your list."}),Le(ZJ,{count:J.length,completedCount:G.completed.length,onClearCompleted:ie,nowShowing:z}),Le("div",{className:"dbInfo",children:Le(PM,{database:t})})]})}const QJ=[{title:"",_id:"",type:"list"},{title:"",_id:"",type:"list"},{title:"",_id:"",type:"list"}],eY=({title:e,_id:t},r)=>t===""?Le("li",{children:Le("label",{children:""})},t||r):Le("li",{children:Le("label",{children:Le(fl,{to:`/list/${t}`,children:e})})},t||r);function tY(){const{ready:e,database:t,addSubscriber:r}=$e.useContext(Mw),{addList:n}=Cw({ready:e,database:t}),i=p7();r("AllLists",()=>{i.revalidate()});let a=y7();a.length==0&&(a=QJ);const[{agent:c,space:u},{getProofs:d,loadAgent:p}]=pf.useKeyring();return Boolean(u==null?void 0:u.registered()),zr("div",{children:[zr("div",{className:"listNav",children:[Le("button",{onClick:async()=>{console.log("await database.changesSince()",await t.changesSince())},children:"Choose a list."}),Le("label",{})]}),Le("ul",{className:"todo-list",children:a.map(eY)}),Le(Bw,{onSubmit:n,placeholder:"Create a new list or choose one"}),Le("div",{className:"dbInfo",children:Le(PM,{database:t})})]})}const rY=()=>Le($M,{children:zr("div",{children:[zr("div",{className:"listNav",children:[Le("button",{children:"Choose a list."}),Le("label",{})]}),Le("section",{className:"main",children:zr("ul",{className:"todo-list",children:[Le("li",{children:Le("label",{children:""})}),Le("li",{children:Le("label",{children:""})}),Le("li",{children:Le("label",{children:""})})]})}),Le(Bw,{placeholder:"Create a new list or choose one"})]})});function $M({children:e}){return zr(w4,{children:[Le(KJ,{}),Le("div",{children:Le("header",{className:"header",children:e?Le(w4,{children:e}):Le(g$,{})})})]})}const nY=e=>(e.allLists=new ql(e,function(t,r){t.type==="list"&&r(t.type,t)}),e.todosByList=new ql(e,function(t,r){t.type==="todo"&&t.listId&&r([t.listId,t.createdAt],t)}),window.fireproof=e,e);function iY(){console.log("render App");const e=DJ(nY,FJ,"todomvc"),{fetchListWithTodos:t,fetchAllLists:r}=Cw(e),n=async({params:{listId:u}})=>await t(u),i=async({params:u})=>await r();function a(){return zr(wc,{element:Le($M,{}),children:[Le(wc,{path:"/",loader:i,element:Le(tY,{})}),Le(wc,{path:"list",children:Le(wc,{path:":listId",loader:n,element:Le(z_,{}),children:Le(wc,{path:":filter",element:Le(z_,{})})})})]})}const c=document.location.pathname.split("/list")[0]||"";return Le(Mw.Provider,{value:e,children:Le(pf.KeyringProvider,{children:Le(m$,{router:k$(j0(a()),{basename:c}),fallbackElement:Le(rY,{})})})})}xm.createRoot(document.getElementById("root")).render(Le(J_.StrictMode,{children:Le(iY,{})}));
